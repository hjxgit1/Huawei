if(!window.ol){window.ol={debug:true,isIE:
/*@cc_on!@*/
0,isIE6:false,isIE7:false,isIE8:false,domCompleted:false}}ol.pkg=function(i,h,g){var d,e,b;if(arguments.length==3){d=i;e=h;b=g}else{d=window;e=i;b=h}if(!e||!e.length){return null}var l=e.split(".");for(var k=d,j=0;j<l.length-1;j++){k[l[j]]||(k[l[j]]={});k=k[l[j]]}k=(k[l[l.length-1]]=b||k[l[l.length-1]]||{});return k};(function(){var c=0,e=[],d=function(){for(var f=0;f<e.length;f++){e[f].call(document)}e.length=0},a=function(){if(ol.domCompleted){d();return}if(!document.body){setTimeout(arguments.callee,13);return}ol.domCompleted=true;d()},b={DOMContentLoaded:function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",b.DOMContentLoaded,false);a()}else{if(document.attachEvent){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",b.DOMContentLoaded);a()}}}},bindReady:function(){var f=b.DOMContentLoaded;if(document.readyState==="complete"){a();return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",f,false);window.addEventListener("load",a,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",f);window.attachEvent("onload",a);var g=false;try{g=window.frameElement==null}catch(h){}if(document.documentElement.doScroll&&g){b.doScrollCheck()}}}},doScrollCheck:function(){if(ol.domCompleted){return}try{document.documentElement.doScroll("left")}catch(f){setTimeout(b.doScrollCheck,1);return}a()}};ol.ready=function(f){if(typeof(f)!="function"){return}if(ol.domCompleted){f.call(document);return}else{if(e.length==0){b.bindReady()}}e.push(f)}})();(function(){var h=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=0,e={},b={},g=function(j,k){j.onload=j.onerror=j.onreadystatechange=function(){if(/loaded|complete|undefined/.test(j.readyState)){j.onload=j.onerror=j.onreadystatechange=null;if(j.parentNode){try{if(j.clearAttributes){j.clearAttributes()}else{for(var m in j){delete j[m]}}}catch(l){}h.removeChild(j)}j=undefined;k()}}},f=function(l,o){var j=[];var n="jsapi_loader"+(a++);j.push("(function(){var time = 0,el = document.getElementById('"+n+"');if(!el || (el.readyState && 'complete' != el.readyState)){ if(time<10){ setTimeout(arguments.callee,30); time++; }else{ logger.error('load the script of id "+n+" fail!');} return; }");if(l.onload){j.push("(");j.push(l.onload);j.push(")();")}if("object"==typeof(o)){for(var k=0;k<o.length;k++){if("function"==typeof(o[k])){j.push("(");j.push(o[k]);j.push(")();")}else{if("string"==typeof(o[k])){j.push(o[k])}}}}var m="";if(l.charset){m='charset="'+l.charset+'"'}j.push("})();");document.write('<script id="'+n+'" loadType="insert" type="text/javascript" src="'+l.url+'" '+m+"><\/script>");document.write("<script>"+j.join("")+"<\/script>")},d=function(j,m){var l=document.createElement("script");l.src=j.url;l.async=!j.depend;l.type="text/javascript";if(j.charset){l.charset=j.charset}var k=l;h.insertBefore(l,h.firstChild);k=null;g(l,m)},i=function(j){var k=document.createElement("link");k.rel="stylesheet";k.type="text/css";k.href=j.url;h.appendChild(k)},c=function(l,k){var j=this;this._insertMark={};this._css_queue=[];this._js_queue=[];this._wait_map={};this._push=function(m){if(!m.mark){m.mark=(m.uri||m.url)}if(this._insertMark[m.mark]){return}this._insertMark[m.mark]=true;("js"==m.type?this._js_queue:this._css_queue).push(m)};this._attach=function(o){if("string"==typeof(o)){var m=o;o=e[m];if(!o){if(ol.debug){logger.warn("ol.load",m+" is undefined!")}return}this._attach(o);return}else{if("[object Array]"==Object.prototype.toString.apply(o)){for(var n=0;n<o.length;n++){this._attach(o[n])}return}}this._push(o)};this._load=function(p){(p.type=="js"?this._js_queue:this._css_queue).splice(0,1);var o=this._js_queue.length>0&&this._js_queue[0].depend;var n=b[p.mark];if(n){switch(n.status){case"complete":if(p.onload){setTimeout(p.onload,50)}if(!o){setTimeout(j.success,50)}return true;case"active":if(!ol.domCompleted){return true}var r=1;var q=function(){var m=p;if(b[m.mark].status=="complete"){delete j._wait_map[m.mark];if(m.onload){m.onload.call(document)}if(!o){j.success();return}ol.load(j._js_queue,k);return}r++;if(r<=20){setTimeout(q,50)}};setTimeout(q,50);this._wait_map[p.mark]=true;return !o}}if(ol.domCompleted){p.loadType=null}if(p.loadType=="lazy"){ol.ready(function(){j._load(p)});return true}if(!p.url){if(p.uri.substr(0,7)=="http://"||p.uri.substr(0,8)=="https://"){p.url=p.uri}else{p.url=ol.libPath+p.uri}}if(p.type=="js"){b[p.mark]={status:"active"};if(!ol.domCompleted){var s=[];s.push('ol._setLoadStatus("'+p.mark+'","complete");');if(!o){s.push(k.callback)}f(p,s)}else{var s=function(){b[p.mark]={status:"complete"};if(p.onload){p.onload.call(document)}if(o){ol.load(j._js_queue,k)}else{j.success()}};d(p,s);return !o}}else{i(p)}return true};this.success=function(){if(j._js_queue.length>0){return}for(var m in j._wait_map){return}if(k.onload){k.onload.call(document)}if(k.callback){ol.ready(k.callback)}};this.init=function(){if("[object object]"==Object.prototype.toString.apply(l)){this._load(l);return}else{this._attach(l);this._insertMark=undefined;while(this._css_queue.length>0){this._load(this._css_queue[0])}while(this._js_queue.length>0&&this._load(this._js_queue[0])){}}};this.init()};ol.load=function(k,j){if("function"==typeof(j)){j={callback:j}}else{if(!j){j={}}}if(!ol.domCompleted&&j.loadType=="lazy"){ol.ready(function(){new c(k,j)})}else{new c(k,j)}};ol.load.define=function(j,k){e[j]=k};ol.load.remove=function(j){delete e[j]};ol._setLoadStatus=function(k,j){b[k]={status:j}}})();var logger={info:function(b,a){if(!ol.debug){return}if(typeof(console)!="undefined"&&console.log){if(a){console.log("["+b+"]:"+a)}else{console.log(b)}}},warn:function(b,a){if(!ol.debug){return}if(typeof(console)!="undefined"&&console.warn){if(a){console.warn("["+b+"]:"+a)}else{console.warn(b)}}},error:function(b,a){if(!ol.debug){return}if(typeof(console)!="undefined"&&console.error){if(a){console.error("["+b+"]:"+a)}else{console.error(b)}}}};function log(b,a){logger.info(b,a)}(function(){var a=document.getElementsByTagName("script"),b=a[a.length-1];var f=b.src.lastIndexOf("/");if(f>0){ol.libPath = scriptPath + "/common/"}var c=b.getAttribute("namespace");if(c){window[c]=ol}b=null;try{document.write("<!--[if lte IE 6]><script>ol.isIE6=true;<\/script><![endif]--><!--[if IE 7]><script>ol.isIE7=true;<\/script><![endif]--><!--[if IE 8]><script>ol.isIE8=true;<\/script><![endif]-->")}catch(d){}})();ol.ready(function(){ol.domCompleted=true;logger.info("Dom","Load Complete!")});window.ec||(window.ec={});ol.pkg=function(j,h,g){var b,d,u;if(arguments.length==3){b=j;d=h;u=g}else{b=window;d=j;u=h}if(!d||!d.length){return null}var m=d.split(".");for(var l=b,k=0;k<m.length-1;k++){l[m[k]]||(l[m[k]]={});l=l[m[k]]}l=(l[m[m.length-1]]=u||l[m[m.length-1]]||{});return l};ol.define=function(y,n,m){var l=window,k,h;if(arguments.length==3){l=y;k=n;h=m}else{k=y;h=n}var g=k.split("."),b,j;for(var d=l,a=0;a<g.length-1;a++){d[g[a]]||(d[g[a]]={});d=d[g[a]]}j=g[g.length-1];b=d[j];if(!b){b=d[j]=function(){var f=arguments.callee,q=f._define,c;for(var p=arguments.length,o=p+10;p<o;p++){c=q[j+"_"+p];if(c){q[j+"_"+arguments.length]=q[j+"_"+p];break}}if(!c){c=q[j+"_0"]}if(!c){if(logger&&logger.error){logger.error(k,"function is undefined.")}return}c.apply(f,arguments)};b._define={}}b._define[j+"_"+h.length]=h};ol.Cache={_cache:{},_size:0,set:function(b,a){if(!ol.Cache.contains(b)){ol.Cache._size++}ol.Cache._cache[b]=a;return a},get:function(b,c){var d=ol.Cache;var a=d._cache[b];if(a){return a}if(typeof(c)=="function"){a=c();d._cache[b]=a}else{if(c){a=c;d._cache[b]=a}else{a=jQuery(b);d._cache[b]=a}}d._size++;return a},remove:function(a){ol.Cache._size--;ol.Cache._cache[a]=null},contains:function(a){return ol.Cache._cache[a]}};ol.Plugin={if_jquery:function(c,d){try{var a=arguments.callee;d=d||2;if(typeof(jQuery)!="undefined"){c(jQuery)}else{if(d==0){return}setTimeout(function(){a(c,d-1)},1000)}}catch(b){if(ol.debug){throw b}}},if_jsapi:function(a){try{if(typeof(ol)!="undefined"&&typeof(ol.ready)!="undefined"){a(ol)}}catch(b){if(ol.debug){throw b}}}};if(ol.isIE6||ol.isIE7){document.nativeGetElementById=document.getElementById;document.getElementById=function(a){var c=document.nativeGetElementById(a);if(c){if(c.attributes.id.value==a){return c}else{for(var b=1;b<document.all[a].length;b++){if(document.all[a][b].attributes.id.value==a){return document.all[a][b]}}}}return null}}if(ol.isIE6){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}ol.pkg("ol.ui");(function(){var b=function(){var c={};c.width=ol.ui.masker._bwidth;c.height=ol.ui.masker._bheight;ol.Cache.get("ec_mask").css(c)};var a={css:{opacity:0.2,background:"#000"}};ol.ui.masker={isShown:false,mask:function(j){var d=jQuery;var c=ol.ui.masker;if(c.isShown){return}j=d.extend(true,{},a,j);var f=ol.Cache.get("ec_mask",function(){d(window).resize(function(){if(ol.ui.masker.isShown){return}ol.Cache.get("ec_mask").css({width:c._bwidth(),height:c._bheight()})});return d("<div id='ec_mask' class='ec_mask'></div>").appendTo("body").bgiframe()});c.isShown=true;j.css.width=c._bwidth();j.css.height=c._bheight();j.css.visibility="visible";f.css(j.css);d(window).bind("resize",b)},unmask:function(){ol.ui.masker.isShown=false;ol.Cache.get("ec_mask").css({visibility:"hidden",width:0,height:0});jQuery(window).unbind("resize",b)},_bheight:function(){var d=jQuery;if(d.browser.msie&&d.browser.version<7){var c=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);var g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(c<g){return d(window).height()}else{return c}}else{return d(document).height()}},_bwidth:function(){var d=jQuery;if(d.browser.msie&&d.browser.version<7){var g=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);var c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(g<c){return d(window).width()}else{return g}}else{return d(document).width()}}}})();(function(){var a={event:"hover",menu:null};ol.ui.dropdown=function(b,d){var c=this;c.hideTimer=null;c._objItem;c._menuItem;c._onMenu=false;c._events={};c._isShow=false;c._hideMenu=function(){c.hideTimer=setTimeout(c.hide,100)};c.init=function(){var f=jQuery;d=f.extend({},a,d);if(d.event=="hover"){d.event="mouseover"}else{d.event="click"}c._objItem=f(b);c._menuItem=d.menu?f(d.menu):c._objItem.next();c._objItem.unbind(d.event).bind(d.event,function(g){clearTimeout(c.hideTimer);c.show()});c._menuItem.find(".dropdown_item").bind("click",function(){setTimeout(c.hide)})};c.bind=function(f,j,g){c._menuItem.find(f).bind(j,g)};c.show=function(){switch(d.event){case"mouseover":c._objItem.unbind("mouseout").bind("mouseout",function(f){c._hideMenu();c._objItem.addClass("hover")});c._menuItem.unbind("mouseover").bind("mouseover",function(){clearTimeout(c.hideTimer);c._menuItem.css("display","block")}).unbind("mouseout").bind("mouseout",function(){c._hideMenu()});break;case"click":if(c._isShow){c.hide();return}else{c._events.menu_click=function(){c._onMenu=true};c._events.document_click=function(f){if(f.button!=0){return true}if(c._onMenu===false){c.hide()}c._onMenu=false};setTimeout(function(){c._menuItem.bind("click",c._events.menu_click);jQuery(document).bind("click",c._events.document_click)},1)}break}c._objItem.addClass("hover");c._menuItem.css("display","block");c._isShow=true};c.hide=function(){if(c._events.document_click){jQuery(document).unbind("click",c._events.document_click)}if(c._events.menu_click){c._menuItem.unbind("click",c._events.menu_click)}c._objItem.removeClass("hover");c._menuItem.hide();c._isShow=false;c._onMenu=false};this.init()}})();ol.ui.scrollTo=function(b,g){g=g||{offsetY:45};if(typeof(b)!="object"){var d=b.toString().substr(0,1);if(!(d=="#"||d==".")){b="#"+b}b=jQuery(b)}if(b.length==0){return}var p=b.offset().top;var a=(document.documentElement&&!/webkit/ig.test(navigator.userAgent)?document.documentElement:document.body);var h=jQuery(window).height();var f=a.scrollTop;if(!(f<p&&p<f+h)){a.scrollTop=p-g.offsetY}};(function(){var b={white:{opacity:0.55,background:"#fff"},black:{opacity:0.2,background:"#000"}};var a={selector:"#ec_ui_loading",css:null,modal:true,maskConfig:null};ol.ui.loading={options:null,show:function(g){var n=ol.ui.loading;if(typeof(g)=="string"){g={maskConfig:{css:b[g]}}}n.options=jQuery.extend(true,{},a,g);if(n.options.modal){ol.ui.masker.mask(n.options.maskConfig)}var d=jQuery(n.options.selector);if(d.length==0){d=jQuery('<div id="ec_ui_loading" class="ec_ui_loading"></div>').appendTo("body")}d.css(n.options.css);if(ol.isIE6||ol.isIE&&document.compatMode==="BackCompat"){var c=jQuery(window),f=c.scrollTop(),h=c.scrollLeft();f+=(c.height()-d.height())/2;h+=(c.width()-d.width())/2;d.css({top:f,left:h})}d.show();d=null;n=null},hide:function(){var c=ol.ui.loading.options;if(c){if(c.modal){ol.ui.masker.unmask()}jQuery(c.selector).hide()}}}})();(function(){var a={row:"tr",colors:["#fff","#f7f7f7"],hover:"#e3f3bf",index:1,remain:0,alterNum:1};ol.ui.alternation=function(b,c){var d=jQuery;function j(h,g){var f=this;this.container=d(h);this.data={};this.rows=null;this.init=function(){this.rows=this.container.find(g.row);var k;var p;for(var l=0;l<this.rows.length;l++){k=this.rows[l];k.setAttribute("alternation",l);p=k.getAttribute("group");this.data[l]={group:p,backgroundColor:""}}};this.bindColor=function(){if(!g.colors){return}var k=this.rows.length-g.remain;for(var m=g.index;m<k;){for(var l=0;l<g.colors.length&&m<k;l++){row=this.rows[m];row.style.backgroundColor=g.colors[l];this.data[m].backgroundColor=g.colors[l];m=m+g.alterNum}}};this.bindEvent=function(){this.rows.unbind("mouseover").bind("mouseover",function(){var k=d(this);var p=k.attr("alternation");var o=f.data[p];if(g.hover){k.css("backgroundColor",g.hover)}if(o.group){f.container.find(g.row+"[group="+o.group+"]").addClass("hover")}}).unbind("mouseout").bind("mouseout",function(){var k=d(this);var p=k.attr("alternation");var o=f.data[p];if(g.hover){k.css("backgroundColor",o.backgroundColor)}if(o.group){f.container.find(g.row+"[group="+o.group+"]").removeClass("hover")}})};this.init();this.bindColor();this.bindEvent()}c=d.extend({},a,c);d(b).each(function(){new j(this,c)})}})();(function(){var a=function(u,k,h,g){if(u.nodeType===3){var d=u.data.match(k);if(d){var b=document.createElement(h||"span");b.className=g||"ec_ui_highlight highlight";var j=u.splitText(d.index);j.splitText(d[0].length);var f=j.cloneNode(true);b.appendChild(f);j.parentNode.replaceChild(b,j);return 1}}else{if((u.nodeType===1&&u.childNodes)&&!/(script|style)/i.test(u.tagName)&&!(u.tagName===h.toUpperCase()&&u.className===g)){for(var c=0;c<u.childNodes.length;c++){c+=a(u.childNodes[c],k,h,g)}}}return 0};ol.ui.highlight=function(b,h,u){var c={className:null,element:"span",caseSensitive:false,wordsOnly:false};jQuery.extend(c,u);if(h.constructor===String){h=[h]}h=jQuery.grep(h,function(l,k){return l!=""});if(h.length==0){return this}var j=h.join("|");j=j.replace(/([\\\$\{\}\(\)\[\]\+\?\-\>\<\^\!\.\*])/g,"\\$1");var g=c.caseSensitive?"":"i";var f="("+j+")";if(c.wordsOnly){f="\\b"+f+"\\b"}var t=new RegExp(f,g);var d=b;if(typeof(b)=="string"){d=ol.Cache.get(b)}return d.each(function(){a(this,t,c.element,c.className)})}})();(function(){var a={_ec_ui_alert:{_default:{title:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02be",zIndex:399,showCancel:false,modal:false,draggable:false,focus:".box-ok:first",width:300,clickOut:function(d){d.close()}}},_ec_ui_info:{},_ec_ui_warn:{},_ec_ui_error:{}};function c(f,g,d){var l=ol.Cache.get;var h=l(g.boxid,function(){return new ol.box(null,g)});h.open(f);if(d.timeout){if(a[g.boxid].timer){clearTimeout(a[g.boxid].timer)}a[g.boxid].timer=setTimeout(function(){if(ol.isIE6){h.close()}else{h.fadeOut(800)}},d.timeout);l("#"+g.boxid).unbind("mouseover").bind("mouseover",function(){clearTimeout(a[g.boxid].timer)}).unbind("mouseout").bind("mouseout",function(){a[g.boxid].timer=setTimeout(function(){if(ol.isIE6){h.close()}else{h.fadeOut(800)}},d.timeout/2)})}}var b={title:"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u02be",zIndex:399,showButton:false,modal:false,draggable:false,focus:".box-close",width:300};ol.ui.warn=function(f,g){g=jQuery.extend({},b,g);g.boxid="_ec_ui_warn";g.boxclass="ec_ui_warn";var d={timeout:g.timeout};delete g.timeout;c(f,g,d)};ol.ui.info=function(f,g){g=jQuery.extend({},b,g);g.boxid="_ec_ui_info";g.boxclass="ec_ui_info";var d={timeout:g.timeout};delete g.timeout;c(f,g,d)};ol.ui.error=function(f,g){g=jQuery.extend({},b,g);g.boxid="_ec_ui_error";g.boxclass="ec_ui_error";var d={timeout:g.timeout};delete g.timeout;c(f,g,d)};ol.ui.alert=function(f,g){g=jQuery.extend({},a._ec_ui_alert._default,g);g.boxid="_ec_ui_alert";g.boxclass="ec_ui_alert";var d=ol.Cache.get(g.boxid,function(){return new ol.box(null,g)});d.setTitle(g.title);d.open(f)}})();(function(){var a={style:"style1",offsetX:0,offsetY:0},b='<div class="ec_ui_ballon"><div id="ballon_header"></div><div id="ballon_body"></div><div id="ballon_footer"></div></div>';ol.ui.ballon=function(d,g,f){f=jQuery.extend({},a,f);var n=jQuery(d);var c=jQuery(b);var h;c.find("#ballon_body").html(g||"");n.mouseover(function(){h=setTimeout(function(){var m=f.offsetX||0;var l=f.offsetY||0;var k=n.offset().top+n.height();var j=n.offset().left;j=Math.max(j+m,0);k=Math.max(k+l,0);c.css({display:"block",top:k,left:j}).addClass(f.style);c.appendTo("body").bgiframe()},250)}).mouseout(function(){clearTimeout(h);c.remove()});return ol.ui}})();(function(){var a={css:null,captureInput:false};ol.ui.hover=function(c,b){var d=jQuery;b=d.extend(true,{},a,b);d(c).each(function(){var p=null;var f=false;var o=false;var j=d(this);var g=function(){if(f||o){return}if(b.css){p=j.attr("style");j.css(b.css)}else{j.addClass("hover")}};var h=function(){if(f||o){return}if(b.css){j.attr("style",p)}else{j.removeClass("hover")}};j.mouseover(function(){g();o=true}).mouseout(function(){o=false;h()});if(this.tagName=="INPUT"||this.tagName=="TEXTAREA"){j.focus(function(){g();f=true}).blur(function(){f=false;h()})}else{if(b.captureInput){j.find("input[type=text],textarea").bind("focus",function(){g();f=true}).bind("blur",function(){f=false;h()})}}});return ol.ui}})();ol.pkg("ol.lang");if(!Array.prototype.indexOf){Array.prototype.indexOf=function(p,c){if(!ol.util.isArray(this)){return -1}var h,f,b="\0";if(c!=null){h=this.slice(c);f=c}else{h=this;f=0}var a=b+h.join(b)+b,g=a.indexOf(b+p+b);if(g==-1){return -1}f+=a.slice(0,g).replace(/[^\0]/g,"").length;return f}}Array.prototype.clone=function(){return this.slice(0)};String.prototype.endWith=function(a){if(a==null||a==""||this.length==0||a.length>this.length){return false}if(this.substring(this.length-a.length)==a){return true}else{return false}return true};String.prototype.startWith=function(a){if(a==null||a==""||this.length==0||a.length>this.length){return false}if(this.substr(0,a.length)==a){return true}else{return false}return true};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}}String.prototype.len=function(){return this.replace(/[^\x00-\xff]/g,"aa").length};String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(b,"gm"),a)};String.prototype.parseDate=function(g){var m={"\\.":{v:"\\."},"\\?":{v:"\\?"},"M+":{v:"(0[1-9]|1[0-2]|[1-9])",k:"MM"},"d+":{v:"(3[01]|[12][0-9]|0[1-9]|[1-9])",k:"dd"},"y+":{v:"(\\d{4})",k:"yyyy"},"H+":{v:"(2[0-3]|[01][0-9]|[0-9])",k:"HH"},"m+":{v:"([0-5][0-9]|[0-9])",k:"mm"},"s+":{v:"([0-5][0-9]|[0-9])",k:"ss"},S:{v:"(\\d+)",k:"S"}};var c=[];var n=g;var l;var a;for(var y in m){if((l=g.search(new RegExp("("+y+")")))!=-1){a=m[y];n=n.replace(RegExp.$1,a.v);if(a.k){c.push({n:a.k,order:l})}}}c.sort(function(k,d){return k.order-d.order});a={};for(var b=0;b<c.length;b++){a[c[b].n]=b+1}var j=this.match(new RegExp(n));if(!j){throw"Invalid String for parse to Date!"}var f=new Date();if(a.yyyy){f.setFullYear(j[a.yyyy])}if(a.dd){var h=j[a.dd];f.setDate(h);f.setDate(h)}else{f.setDate(1);f.setDate(1)}if(a.MM){f.setMonth(j[a.MM]-1)}if(a.HH){f.setHours(j[a.HH])}else{f.setHours(0)}if(a.mm){f.setMinutes(j[a.mm])}else{f.setMinutes(0)}if(a.ss){f.setSeconds(j[a.ss])}else{f.setSeconds(0)}if(a.S){f.setMilliseconds(j[a.S])}else{f.setMilliseconds(0)}return f};Date.prototype.format=function(c){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};var a={"0":"\u65e5","1":"\u4e00","2":"\u4e8c","3":"\u4e09","4":"\u56db","5":"\u4e94","6":"\u516d"};if(/(y+)/.test(c)){c=c.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}if(/(E+)/.test(c)){c=c.replace(RegExp.$1,((RegExp.$1.length>1)?(RegExp.$1.length>2?"\u661f\u671f":"\u5468"):"")+a[this.getDay()+""])}for(var d in b){if(new RegExp("("+d+")").test(c)){c=c.replace(RegExp.$1,(RegExp.$1.length==1)?(b[d]):(("00"+b[d]).substr((""+b[d]).length)))}}return c};if(!
/*@cc_on!@*/
0&&window.JSON&&window.JSON.parse&&window.JSON.stringify){ol.lang.json=(function(){var a=/___$/;return{parse:function(c){try{return window.JSON.parse(c)}catch(b){return false}},stringify:function(c){try{return window.JSON.stringify(c,function(d,g){return !a.test(d)?g:null})}catch(b){return null}}}})()}else{ol.lang.json=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}a=[];if(typeof value.length==="number"&&!value.propertyIsEnumerable("length")){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i])||"null")}return"["+a.join(",")+"]"}for(k in value){if(k.match("___$")){continue}if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")}return false}}}()}ol.pkg("ol.util");ol.util.trim=function(a){if(a==null){return""}if(typeof(a)!="string"){return a}return a.trim()};ol.util.left=function(b,d,a){if(b.len()<d){return b}var c=0;for(var l=0;l<b.length;l++){if(b.charCodeAt(l)>128){c=c+2}else{c=c+1}if(c>d){return b.substring(0,l)+(a?a:"")}}return b};ol.util.isEmpty=function(a){if(ol.util.trim(a)==""){return true}return false};ol.util.isDate=function(a){if(a==null||a==""){return false}re=/\d{4}-{1}\d{2}-{1}\d{2}$/;return a.match(re)};ol.util.isNumeric=function(a){strRef="1234567890";if(a==""){return false}for(i=0;i<a.length;i++){tempChar=a.substring(i,i+1);if(strRef.indexOf(tempChar,0)==-1){return false}}return true};ol.util.isFloat=function(b){var a=/^[0-9]+.?[0-9]*$/;return a.test(s)};ol.util.isEmail=function(c,d){if(!c){return false}var a=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/i;var b=new RegExp(a);var f;if(d){f=c.split(d)}else{f=[c]}for(var n=0;n<f.length;n++){if(f[n].match(b)==null){return false}}return true};ol.util.escapeHtml=function(a){if(typeof(a)!="string"){return a}if(ol.util.isEmpty(a)){return""}a=a.replaceAll("&","&amp;");a=a.replaceAll('"',"&quot;");a=a.replaceAll(" ","&nbsp;");a=a.replaceAll("<","&lt;");a=a.replaceAll(">","&gt;");a=a.replaceAll("'","&#039;");a=a.replaceAll("\r\n","<br/>");a=a.replaceAll("\n","<br/>");a=a.replaceAll("\r","<br/>");return a};ol.util.unescapeHtml=function(a){if(typeof(a)!="string"){return a}if(ol.util.isEmpty(a)){return""}a=a.replaceAll("&quot;",'"');a=a.replaceAll("&nbsp;"," ");a=a.replaceAll("&lt;","<");a=a.replaceAll("&gt;",">");a=a.replaceAll("&#039;","'");a=a.replaceAll("<br>","\n");a=a.replaceAll("<br/>","\n");a=a.replaceAll("&#61;","=");a=a.replaceAll("&amp;","&");return a};ol.util.isFunction=function(a){if(!a){return false}return Object.prototype.toString.call(a)==="[object Function]"};ol.util.isArray=function(a){if(!a){return false}return Object.prototype.toString.call(a)==="[object Array]"};ol.util.isObject=function(a){if(!a){return false}return Object.prototype.toString.call(a)==="[object Object]"};ol.util.cookie={get:function(f){var d=null;if(document.cookie&&document.cookie!=""){var b=document.cookie.split(";");for(var a=0;a<b.length;a++){var n=(b[a]||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"");if(n.substring(0,f.length+1)==(f+"=")){var c=function(h){h=h.replace(/\+/g," ");var g='()<>@,;:\\"/[]?={}';for(var j=0;j<g.length;j++){if(h.indexOf(g.charAt(j))!=-1){if(h.startWith('"')){h=h.substring(1)}if(h.endWith('"')){h=h.substring(0,h.length-1)}break}}return decodeURIComponent(h)};d=c(n.substring(f.length+1));break}}}return d},set:function(g,r,f){f=f||{};if(r===null){r="";f.expires=-1}var c="";if(f.expires&&(typeof f.expires=="number"||f.expires.toUTCString)){var d;if(typeof f.expires=="number"){d=new Date();d.setTime(d.getTime()+(f.expires*24*60*60*1000))}else{d=f.expires}c="; expires="+d.toUTCString()}var b="; path="+(f.path||"/");var h=f.domain?"; domain="+(f.domain):"";var a=f.secure?"; secure":"";document.cookie=[g,"=",encodeURIComponent(r),c,b,h,a].join("")},remove:function(a){this.set(a,null)}};ol.Plugin.if_jquery(function(a){ol.Plugin.if_jsapi(function(c){ol._setLoadStatus("jquery.bgiframe","complete")});a.fn.bgiframe=(a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(d){d=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},d);var c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+d.src+'"style="display:block;position:absolute;z-index:-1;'+(d.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(d.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":b(d.top))+";left:"+(d.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":b(d.left))+";width:"+(d.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":b(d.width))+";height:"+(d.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":b(d.height))+';"/>';return this.each(function(){if(a(this).children("iframe.bgiframe").length===0){this.insertBefore(document.createElement(c),this.firstChild)}})}:function(){return this});a.fn.bgIframe=a.fn.bgiframe;function b(c){return c&&c.constructor===Number?c+"px":c}});ol.Plugin.if_jquery(function(a){a.fn.check=function(b){switch(b){case true:return this.each(function(){this.checked=true});break;case false:return this.each(function(){this.checked=false});break;default:return this.each(function(){this.checked=!this.checked})}};a.fn.select=function(b){return this.each(function(){a(this).val(b)})}});ol.pkg("ol.form.input");(function(){var a=0;ol.form.input.label=function(b,j,c){if(!j){throw ("Please set label text!");return ol.form.input}var d=jQuery;c=d.extend({},ol.form.input.label.defaults,c);d(b).each(function(){var p=d(this),g=p.attr("id"),q=Number(p.css("z-index"))||1,B=parseInt(p.css("margin-top"),10)+parseInt(p.css("border-top-width"),10),m=parseInt(p.css("margin-left"),10)+parseInt(p.css("border-left-width"),10),f=d('<label style="display:none;position:absolute;cursor:text;float:left;z-index:'+(q+1)+'">'+j+"</label>").attr("class",p.attr("class")),h=d('<input style="border:none;background:transparent;cursor:text;margin:0;" value="'+j+'" tabindex=-1 readonly>');if("TEXTAREA"==p.attr("tagName")){h.css("height","auto")}if(!g&&c.autoId){g="input_label_"+(a++);p.attr("id",g)}var n={color:c.color};f.attr("for",g).css(n);p.css("z-index",q).before(f);var o=p.parents("form");if(o.length>0){o.bind("reset",function(){setTimeout(function(){l()},150)})}var l=function(){if(p.attr("value").length==0){f.css("display","block")}},k=function(){f.css("display","none")};p.bind("blur",l).bind("focus",k);if(document.activeElement!=p[0]){l()}});return ol.form.input}})();ol.form.input.label.defaults={color:"#999",autoId:true};(function(){var b={max:Number.MAX_VALUE,exceedCallback:null},a=function(d){var j=d.length,c=d.replace(/[^\x00-\xff]/g,"").length,f=(c%2==0?c/2:parseInt(c/2)+1)+(j-c);return f};ol.form.input.wordCount=function(g,c){var d=jQuery;opt=d.extend({},b,c);d(g).each(function(k){if(typeof(opt.callback)=="function"){var f=a(this.value);opt.callback.call(this,f);if(f>opt.max&&opt.exceedCallback){opt.exceedCallback.call(this,f)}}d(this).bind("keyup",function(){var h=a(this.value);if(typeof(opt.callback)=="function"){opt.callback.call(this,h)}if(h>opt.max&&opt.exceedCallback){opt.exceedCallback.call(this,h)}})})}})();ol.pkg("ol.form.validator");(function(){var y=function(m,l){if(logger&&logger.warn){logger.warn(m,l)}},h=function(m,l){if(logger&&logger.error){logger.error(m,l)}},d={trim:true,validOnChange:false,allowEmpty:true,async:true,errorClass:null,successFunction:null,errorFunction:null};var j={};var f={};var g=function(q,t,m,n,r,l){jQuery.extend(l,m);if(n){r=f[n];if(!r){y(n+" rule is undefined!");return true}}var o;if(n){l.type=n}if(r.length==3){o=r(q,t,l)}else{o=r(q,l)}if(!o){if(l.errorFunction){var p=function(){if(m.errorClass&&t){t.addClass(m.errorClass)}l.errorFunction(t||q,l)};if(m.async){setTimeout(p,1)}else{p()}}return false}return true};var k=function(q,r,n,l){if(!n.type){if(!g(q,r,n,null,n.rule,l)){return false}}else{var o=n.type;if(typeof(n.type)=="string"){o=[n.type]}var p={};for(var m=0;m<o.length;m++){if(!p[o[m]]){if(!g(q,r,n,o[m],null,l)){return false}p[o[m]]=1}}}return true};var a=function(p){var u=p.attr("validator");if(!u){return true}var o=j[u];var m;switch(p.attr("tagName")){case"SELECT":m=p.val();break;default:m=p[0].value}var t={};var w=[];for(var q=0;q<o.length;q++){var v={};if(o[q].trim){m=$.trim(m)}if(!k(m,p,o[q],v)){return false}w.push(v)}for(var q=0;q<o.length;q++){var l=o[q];if(l.successFunction){var n=w[q];var r=function(){if(l.errorClass&&p){p.removeClass(l.errorClass)}l.successFunction(p||m,n)};if(l.async){setTimeout(r,1)}else{r()}}}return true};ol.form.validator=function(r,p){if(typeof(p)=="object"){var t={};if(k(r,null,p,t)&&p.successFunction){if(p.async){setTimeout(function(){p.successFunction(r,t)},1)}else{p.successFunction(r,t)}}return}var n=r,q=p;var l=jQuery(n);var m=l.attr("tagName");q=(typeof(q)=="boolean"?q:true);switch(m){case"SELECT":case"INPUT":case"TEXTAREA":return a(l)}var v=l.find("select[validator],input[validator],textarea[validator]");var u=true;for(var o=0;o<v.length;o++){if(!a(jQuery(v[o]))){if(q){return false}else{u=false}}}return u};ol.form.validator.register=function(m,l){f[m]=l};ol.form.validator.get=function(l){return f[l]};var x=0;ol.form.validator.bind=function(m,o){var n=[];var r=jQuery(m);o=jQuery.extend({},d,o);if(o.validOnChange){r.change(function(){ol.form.validator(this,true)})}for(var p=0;p<r.length;p++){var q=jQuery(r[p]);var l=q.attr("validator");if(!l){l="validator"+(++x)+(new Date()).getTime();q.attr("validator",l)}if(!j[l]){j[l]=[]}j[l].push(o);n.push(l)}return n};ol.form.validator.defaults=d;var c=ol.form.validator,b=function(m,l){return !m};c.register("regex",function(m,l){if(l.allowEmpty&&b(m)){return true}if(!l.regex){h("regex","need parameter of 'regex'!");return false}return l.regex.test(m)});c.register("require",function(m,l){l.allowEmpty=false;return !b(m)});c.register("email",function(m,l){if(l.allowEmpty&&b(m)){return true}var n=null;if(l.separater){n=l.separater}return ol.util.isEmail(m,n)});c.register("eq",function(o,l){if(!l.compareTo){h("eq","need parameter of 'compareTo'!");return false}var m=jQuery(l.compareTo).val();if(!l.format){return o==m}var n=c.get("date");if(!(n(o,l)&&n(m,l))){return false}return o.parseDate(l.format).getTime()==m.parseDate(l.format).getTime()});c.register("lt",function(p,m){if(m.allowEmpty&&b(p)){return true}if(!m.compareTo){h("lt","need parameter of 'compareTo'!");return false}var n=jQuery(m.compareTo).val();if(!m.format){m.negative=true;var l=c.get("float");if(!l(p,m)){return false}if(!l(n,m)){return false}p=parseFloat(p);n=parseFloat(n);return p<n}var o=c.get("date");if(!(o(p,m)&&o(n,m))){return false}return p.parseDate(m.format)<n.parseDate(m.format)});c.register("le",function(o,n){var m=c.get("eq");var l=c.get("lt");return m(o,n)||l(o,n)});c.register("gt",function(p,m){if(m.allowEmpty&&b(p)){return true}if(!m.compareTo){h("gt","need parameter of 'compareTo'!");return false}var n=jQuery(m.compareTo).val();if(!m.format){m.negative=true;var l=c.get("float");if(!l(p,m)){return false}if(!l(n,m)){return false}p=parseFloat(p);n=parseFloat(n);return p>n}var o=c.get("date");if(!(o(p,m)&&o(n,m))){return false}return p.parseDate(m.format)>n.parseDate(m.format)});c.register("ge",function(o,n){var l=c.get("eq");var m=c.get("gt");return l(o,n)||m(o,n)});c.register("length",function(n,m){if(m.allowEmpty&&b(n)){return true}if(!(m.min||m.max)){h("length","need parameter of 'min' or 'max'!");return false}var l=n.len();if(m.min&&l<m.min){return false}if(m.max&&l>m.max){return false}return true});c.register("range",function(o,n){if(n.allowEmpty&&b(o)){return true}if(!(n.min||n.max)){h("range","need parameter of 'min' or 'max'!");return false}n.negative=true;var m=c.get("float");if(!m(o,n)){return false}var l=parseFloat(o);if(n.min&&l<n.min){return false}if(n.max&&l>n.max){return false}return true});c.register("chinese",function(m,l){if(l.allowEmpty&&b(m)){return true}l.regex=/^[\u4E00-\u9FA5]$/;return c.get("regex")(m,l)});c.register("int",function(m,l){if(l.allowEmpty&&b(m)){return true}if(l.negative){l.regex=/^[-]?\d+$/}else{l.regex=/^\d+$/}return c.get("regex")(m,l)});c.register("float",function(m,l){if(l.allowEmpty&&b(m)){return true}if(l.negative){l.regex=/^[-]?\d+(\.\d+)?$/}else{l.regex=/^\d+(\.\d+)?$/}return c.get("regex")(m,l)});c.register("date",function(p,n){if(n.allowEmpty&&b(p)){return true}if(!n.format){y("date","need parameter of 'format'!");return false}var o={"\\.":"\\.","M+":"(0[1-9]|[1-9]|1[0-2])","d+":"(0[1-9]|[1-9]|[12][0-9]|3[01])","y+":"(\\d{4})","H+":"([0-9]|[01][0-9]|2[0-3])","m+":"([0-9]|[0-5][0-9])","s+":"([0-9]|[0-5][0-9])",S:"(\\d+)"};var l=n.format;for(var m in o){if(new RegExp("("+m+")").test(n.format)){l=l.replace(RegExp.$1,o[m])}}n.regex=new RegExp("^"+l+"$");if(!c.get("regex")(p,n)){return false}return p==p.parseDate(n.format).format(n.format)});c.register("url",function(m,l){if(l.allowEmpty&&b(m)){return true}if(m.startWith("http://")){m=m.substring(7)}else{if(m.startWith("https://")){m=m.substring(8)}else{if(l.requireProtocol){return false}}}if(!m){return false}l.regex=/^[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/;return c.get("regex")(m,l)})})();(function(){var g=ol.template=function(j){this.init=function(){j=f(j);var k;for(var l=0;l<j.length;l++){k=r(j[l]);a[k[0]]=c(k)}};this.parse=function(l,k){if(!l||!(l=a[l])){return""}return h(l,k)};this.init()};g.parse=function(j,k){var l=h(c(r(j)),k);return l};g.startDelimiter="<!--";g.endDelimiter="-->";var a={},b=new RegExp(g.startDelimiter+"#macro \\S+\\s*\\w*"+g.endDelimiter+"[\\s\\S]*?"+g.startDelimiter+"/#macro"+g.endDelimiter,"g"),f=function(j){return j.match(b)},d=new RegExp("("+g.startDelimiter+"(/?)#([\\s\\S]*?)"+g.endDelimiter+")|(')|([\r\n\t])|({#([^}]*?)})","g"),r=function(o){var u=o.replace(d,function(w,J,z,L,K,C,x,t){if(J){return"\n"+(z?"-":"+")+L.replace(/[\r\n\t]/g,"")+"\n"}if(K){return"\\'"}if(C){return""}if(x){var y=t.indexOf("?");if(y!=0){switch(t.substring(y+1)){case"html":t="ol.util.escapeHtml("+t.substring(0,y)+")";break;case"js_string":t=t.replace(/\"/g,'\\"').replace(/\r\n/g,"\\r\\n").replace(/\n/g,"\\n");break}}t=t.replace(/\'/g,"\\'");return"'+("+t+")+'"}});u=u.split(/\n/);var q,k,B,v,A,l=["var f=[];"];for(var j=0;j<u.length;j++){q=u[j];if(!q){continue}k=q.charAt(0);if(k!=="+"&&k!=="-"){l.push("f.push('"+q+"');");continue}B=q.split(/\s/);switch(B[0]){case"+macro":v=B[1];A=B[2];l.push('f.push("<!--'+v+' start-->");');break;case"-macro":l.push('f.push("<!--'+v+' end-->");');break;case"+elseif":B.splice(0,1);l.push("}else if"+B.join(" ")+"{");break;case"+else":l.push("}else{");break;case"+if":case"+for":case"+switch":B[0]=B[0].substr(1);l.push(B.join(" ")+"{");break;case"+case":case"+default":B[0]=B[0].substr(1);l.push(B.join(" ")+":");break;case"-switch":case"-for":case"-if":l.push("}");break;case"+list":if(B.length!=4){throw v+": list command error!"}var p=B[3]+"_index",m=B[3]+"_length",n=B[3]+"_num";l.push("if("+B[1]+".constructor === Array){");l.push("var "+B[3]+";");l.push("var "+m+"="+B[1]+".length;");l.push("var "+p+";");l.push("for(var "+n+"="+m+";"+n+"--;){");l.push(p+"="+m+"-"+n+"-1;");l.push(B[3]+"="+B[1]+"["+p+"];");break;case"-list":l.push("}}");break;case"+break":l.push("break;");break;case"-list":l.push("}}}");break;case"+eval":B.splice(0,1);l.push(B.join(" "));break;case"+var":B[0]=B[0].substr(1);l.push(B.join(" ")+";");break;default:break}}l.push("return f.join('');");return[v,A||"data",l.join("")]},c=function(j){try{return new Function(j[1],j[2])}catch(k){logger.error("template:"+j[0],k)}},h=function(j,k){return j(k)}})();
ec.debug=false;ol.load.define("jquery",[{mark:"jquery",uri:"base/jquery-1.4.4.min.js",type:"js"}]);ol.load.define("jquery.form",["jquery",{mark:"jquery.form",uri:"base/jquery.form-2.49.js",type:"js",charset:"utf-8",depend:true}]);ol.load.define("jquery.bgiframe",[{mark:"jquery.bgiframe",uri:"base/jquery.bgiframe.min.js",type:"js",charset:"utf-8",depend:true,loadType:"lazy"}]);ol.load.define("jquery.autocomplete",[{mark:"jquery.autocomplete",uri:"jquery.autocomplete/jquery.autocomplete.hack-min.js",type:"js",charset:"utf-8",depend:true}]);ol.load.define("My97DatePicker",[{mark:"My97DatePicker",uri:"My97DatePicker/WdatePicker.js",type:"js",charset:"utf-8",depend:false,onload:function(){WdatePicker()}}]);ol.load.define("jquery.movebar",[{uri:"jquery.movebar/movebar.min.js",type:"js"}]);ol.load.define("ec.aes",[{uri:"aes/aes.js",type:"js",depend:true},{uri:"aes/aesUtil.js",type:"js",depend:true},{uri:"aes/pbkdf2.js",type:"js",depend:true}]);ol.load.define("ec.dh",[{uri:"dh/bigInt.min.js",type:"js",depend:true}]);ol.load.define("ec.rc4",[{uri:"crypt/rc4.js",type:"js",depend:true}]);ol.load.define("uploadify",["jquery","swfobject",{uri:"uploadify/jquery.uploadify.v2.1.4.min.js",type:"js",depend:true},{uri:"uploadify/uploadify.customize.css",type:"css"}]);ol.load.define("ec.pager",["jquery",{uri:"ec.pager/pager-min.js",type:"js",charset:"gbk",depend:true}]);ol.load.define("ajax",["jquery.form",{mark:"ajax",uri:"base/ajax.js",type:"js",charset:"utf-8",depend:true}]);ol.load.define("ajaxcdr",["jquery.form",{mark:"ajaxcdr",uri:"base/ajaxcdr.js?20121031",type:"js",charset:"utf-8",depend:true}]);ol.load.define("ec.box",["jquery",{mark:"jquery.bgiframe",uri:"base/jquery.bgiframe.min.js",type:"js",charset:"utf-8",depend:true,loadType:null},{uri:"ec.box/box-min.js",type:"js",depend:true}]);ol.load.define("ec.tab",["jquery",{uri:"ec.tab/tab-min.js",type:"js",charset:"utf-8",depend:true}]);ol.load.define("jquery.float",["jquery",{uri:"jquery.float/float.min.js",type:"js",charset:"gbk",depend:true}]);ol.load.define("cloud-zoom",[{uri:"cloud-zoom.1.0.2/cloud-zoom.1.0.2-hack-min.js",type:"js"}]);ol.load.define("jqzoom",["jquery",{uri:"jqzoom-2.3/js/jquery.jqzoom-core.js",type:"js",depend:true},{uri:"jqzoom-2.3/css/jquery.jqzoom.css",type:"css"}]);ol.load.define("RaterStar",[{uri:"RaterStar/rater-star.js",type:"js"}]);ol.load.define("ec.slider",[{uri:"ec.slider/slider-min.js",type:"js"}]);ol.load.define("ec.linkSelect.region",["jquery",{uri:"linkSelect/region-min.js?20161011",type:"js",charset:"utf-8",depend:true}]);ol.load.define("ec.md5",[{uri:"md5/md5-min.js",type:"js"}]);ol.load.define("jquery.rotate",["jquery",{uri:"jquery.rotate/jQueryRotate-min.js",type:"js"}]);ol.load.define("jquery.fixed",["jquery",{uri:"jquery.fixed/fixed.js",type:"js"}]);ol.load.define("ec.XSSUtils",[{uri:"/aes/XSSUtils.min.js",type:"js",charset:"utf-8",depend:true,loadType:null},{uri:"/aes/esapi.js",type:"js",charset:"utf-8",depend:true,loadType:null},{uri:"/aes/resources/Base.esapi.properties.min.js",type:"js",charset:"utf-8",depend:true,loadType:null}]);if(jQuery){ol._setLoadStatus("jquery","complete")}window._gaq=window._gaq||[];_gaq.push(["_setAccount",(ec.debug?"":"UA-28046633-2"),"t1"]);var _hmt=_hmt||[];var _paq=_paq||[];var _zpq=_zpq||[];var bindBox;window._bd_share_config={};ec.code={addShare:function(options){options=$.extend({jsUrl:scriptPath+"/static/api/js/share.js?v=89860593.js"},options);window._bd_share_config=options;ec.ready(function(){with(document){0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src=options.jsUrl]}})},addAnalytics:function(c){c=c||{google:true,cnzz:true,baidu:true,click99:true,hicloud:true,suning:true,operate:false,dmp:false};var f=["/payment/alipay/returnURL","/order/feedBack"],b=location.href;for(var d=0;d<f.length;d+=1){if(b.indexOf(f[d])>0){return}}_gaq.push(["_trackPageview"]);_gaq.push(["_trackPageLoadTime"]);_gaq.push(["_addOrganic","baidu","word"]);_gaq.push(["_addOrganic","baidu","kw"]);_gaq.push(["_addOrganic","opendata.baidu","wd"]);_gaq.push(["_addOrganic","zhidao.baidu","word"]);_gaq.push(["_addOrganic","news.baidu","word"]);_gaq.push(["_addOrganic","post.baidu","kw"]);_gaq.push(["_addOrganic","tieba.baidu","kw"]);_gaq.push(["_addOrganic","mp3.baidu","word"]);_gaq.push(["_addOrganic","image.baidu","word"]);_gaq.push(["_addOrganic","top.baidu","word"]);_gaq.push(["_addOrganic","news.google","q"]);_gaq.push(["_addOrganic","soso","w"]);_gaq.push(["_addOrganic","image.soso","w"]);_gaq.push(["_addOrganic","music.soso","w"]);_gaq.push(["_addOrganic","post.soso","kw"]);_gaq.push(["_addOrganic","wenwen.soso","sp"]);_gaq.push(["_addOrganic","post.soso","kw"]);_gaq.push(["_addOrganic","3721","name"]);_gaq.push(["_addOrganic","114","kw"]);_gaq.push(["_addOrganic","youdao","q"]);_gaq.push(["_addOrganic","vnet","kw"]);_gaq.push(["_addOrganic","sogou","query"]);_gaq.push(["_addOrganic","news.sogou","query"]);_gaq.push(["_addOrganic","mp3.sogou","query"]);_gaq.push(["_addOrganic","pic.sogou","query"]);_gaq.push(["_addOrganic","blogsearch.sogou","query"]);_gaq.push(["_addOrganic","gougou","search"]);var g=(b.indexOf("/product/678.html")>0)?true:false;_zpq.push(["_setPageID",(!g)?"100":"101"]);_zpq.push(["_setPageType",(!g)?"home":"honor3"]);_zpq.push(["_setParams",""]);_zpq.push(["_setAccount","95"]);if(c.google){ec.load({url:"https://www.google-analytics.com/ga.js",type:"js",loadType:"lazy"})}if(c.baidu){ec.load({url:"https://hm.baidu.com/h.js?a08b68724dd89d23017170634e85acd8",type:"js",loadType:"lazy"})}if(c.cnzz){ec.load({url:"https://s95.cnzz.com/stat.php?id=4754392&web_id=4754392",type:"js",loadType:"lazy"})}if(c.suning){ec.load({url:"https://cdn.zampda.net/s.js",type:"js",loadType:"lazy"})}if(c.hicloud){_paq.push(["setTrackerUrl","https://datacollect.vmall.com:18443/webv1"]);var a=((ec.order&&ec.order.orderCode)?ec.order.orderCode:"")+"";_paq.push(["setSiteId","www.vmall.com"]);_paq.push(["setCustomVariable",1,"cid",(ec.util.cookie.get("cps_id")||""),"page"]);_paq.push(["setCustomVariable",2,"direct",(ec.util.cookie.get("cps_direct")||""),"page"]);_paq.push(["setCustomVariable",3,"orderid",a,"page"]);_paq.push(["setCustomVariable",4,"wi",(ec.util.cookie.get("cps_wi")||""),"page"]);_paq.push(["setCustomVariable",1,"uid",((ec.util.cookie.get("uid")?ec.util.cookie.get("uid"):"")||""),"visit"]);_paq.push(["setCustomVariable",10,"uid",((ec.util.cookie.get("uid")?ec.util.cookie.get("uid"):"")||""),"visit"]);_paq.push(["trackPageView"]);ec.load({url:"https://res.vmallres.com/bi/hianalytics.js",type:"js",loadType:"lazy"});ec.util.cookie.set("cps_direct",null,{expires:-1,domain:".vmall.com"})}if(c.operate){_paq.push(["setTrackerUrl","https://datacollect.vmall.com:18443/webv1"]);var a=((ec.order&&ec.order.orderCode)?ec.order.orderCode:"")+"";_paq.push(["setSiteId","www.vmall.com"]);_paq.push(["setCustomVariable",1,"cid",(ec.util.cookie.get("cps_id")||""),"page"]);_paq.push(["setCustomVariable",2,"direct",(ec.util.cookie.get("cps_direct")||""),"page"]);_paq.push(["setCustomVariable",3,"orderid",a,"page"]);_paq.push(["setCustomVariable",4,"wi",(ec.util.cookie.get("cps_wi")||""),"page"]);_paq.push(["setCustomVariable",1,"uid",((ec.util.cookie.get("uid")?ec.util.cookie.get("uid"):"")||""),"visit"]);_paq.push(["setCustomVariable",10,"uid",((ec.util.cookie.get("uid")?ec.util.cookie.get("uid"):"")||""),"visit"]);var e="";e=ec.code.convertFormat(c.optype,c.skuIds,c.bundleIds,c.custSkuIds,c.custBundleIds);_paq.push(["setCustomVariable",10,"cart",e,"page"]);_paq.push(["trackGoal",1])}if(c.dmp){ec.load({url:"https://nebula-collector.huawei.com/api/2.0/vmallcn-min.js",type:"js",loadType:"lazy"})}}};ec.code.convertFormat=function(i,g,c,d,b){var f="";var j=[];var a=[];var e=[];var h=[];if(ec.util.isArray(g)){j=$.map(g,function(k){return"1_"+k})}if(ec.util.isArray(c)){a=$.map(c,function(k){return"0_"+k})}if(ec.util.isArray(d)){e=$.map(d,function(k){return"3_"+k})}if(ec.util.isArray(b)){h=$.map(b,function(k){return"2_"+k})}j=a.concat(j,h,e);f=i+","+j.join(":");return f};ec.code.saveCpsInfoToCookie=function(){var c=ec.code.getCPSInfoFromUrlRegex(location.href,"cid");var b=ec.code.getCPSInfoFromUrlRegex(location.href,"wi");if(c.length<0||c.lenght>11){return}var a=/^\d+$/;if(!a.test(c)){return}ec.util.cookie.set("cps_wi",null,{expires:-1,domain:".vmall.com"});ec.util.cookie.set("cps_id",c,{expires:1,domain:".vmall.com"});ec.util.cookie.set("cps_direct","1",{expires:1,domain:".vmall.com"});if(b.length>0&&b.length<200){ec.util.cookie.set("cps_wi",b,{expires:1,domain:".vmall.com"})}};ec.code.getCPSInfoFromUrlRegex=function(c,b){var d=new RegExp("(^|&)"+b+"=([^&]*)(&|$)","i");var c=window.location.href;var e;if(c.indexOf("#")!=-1){e=c.substr(c.indexOf("#"))}else{e=window.location.search}var a=e.substr(1).match(d);if(a!=null){return unescape(a[2])}return""};ec.code.getCPSInfoFromUrl=function(b,c){if(b.indexOf("#")==-1||b.indexOf(c+"=")==-1){return""}var a=b.substring(b.indexOf("#")+1);var k=a.split("#");for(var f=0;f<k.length;f++){var m=k[f];var l=m.split("&");var h,g,d;for(var e=0;e<l.length;e++){h=l[e].indexOf("=");if(h==-1){continue}g=l[e].substring(0,h);d=l[e].substring(h+1);if(g==c){return unescape(d.replace(/\+/g," "))}}}return""};ec.code.addService=function(a){ec.load("jquery.float",{loadType:"lazy",callback:function(){if(a.showService){var f=window.location.href;var e=f.indexOf("/product/");var d="";var c="";if(e>0){d=f.substring(e+9,f.length);if(d.length>1){var h=d.split(".html",2);if(h.length>1){c=h[0];var i=h[1];if(i.indexOf("#")>=0){var g=i.split("#",2)[1];var b=(g.length>0)?(g.split(",",2)[0]||0):0;if(b!=0){c=c+","+b}}}}}$("#tools-nav-service-robotim").attr("href",a.live800Url4Web+"&enterurl="+encodeURIComponent(window.location.href)+"&k=1&remark="+encodeURIComponent(c)).css("display","block");$("#tools-nav-service-robotim-button").attr("href",a.live800Url4Web+"&enterurl="+encodeURIComponent(window.location.href)+"&k=1&remark="+encodeURIComponent(c)).css("display","block")}if(a.showTools){$("#tools-nav-survery").css("display","block")}if(a.showService||a.showTools){$("#tools-nav").css("bottom","10px").show()}}})};(function(){ec.code.saveCpsInfoToCookie();var a,b=function(){if(a){return a}a=_gat._createTracker((ec.debug?"":"UA-28046633-3"),"t2");return a};ec.track=function(e,d){d=d||3;try{if(window._gat&&window._gat._createTracker){if("[object Array]"==Object.prototype.toString.apply(e)){e=e.join("/")}b()._trackPageview(e);log("Track",e)}else{if(d>0){setTimeout(function(){ec.track(e,d-1)},1000)}}}catch(f){throw f}};ec.trackEvent=function(f,g,e,i,d){d=d||3;try{if(window._gat&&window._gat._createTracker){b()._trackEvent(f,g,e,i);log("TrackEvent",f+" : "+g)}else{if(d>0){setTimeout(function(){ec.trackEvent(f,g,e,i,d-1)},1000)}}}catch(h){throw h}}})();(function(){var b=ec.util.cookie.get("cps_source"),a=ec.util.cookie.get("cps_channel"),c=ec.util.cookie.get("cps_direct");ec.trackCPS=function(d,e){if(b&&a){ec.track(["/cps/event",d,b+"/"+a,e])}};if(b&&a&&c){ec.ready(function(){ec.track("/cps/pv/"+b+"/"+a+location.pathname)})}})();ec.track99click=function(b){var d;if(typeof(b)=="string"){d=b}else{var e=[],a;for(var c in b){a=b[c];e.push(c+"="+(ec.util.isArray(a)?a.join(";"):a))}d=e.join("&")}ec.track99click._ozuid=ec.account.id;ec.track99click._ozprm=d};ec.pkg("ec.binding");ec.binding.login=function(){var a=ec.util.cookie.get("optBanding");if(a==0){$.ajax({url:domainMain+"/account/isBindedTelephoneOrEmail.json",type:"get",dataType:"json",success:function(b){if(!b.isLogin){return false}ec.util.cookie.set("optBanding",1);if(!b.success){ec.load("ec.box",function(){ec.binding.requestUrl=domainMain+"/account/isBindedTelephoneOrEmail.json?t="+new Date().getTime();ec.binding.upCenterUrl=b.upUserCenter;ec.Cache.get("ecBindingPhone",function(){return new ec.box($("#ec-binding-phone").val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(c){ec.ui.loading.hide();$("#ec-binding-phone-1").show();$("#ec-binding-phone-url-1").attr("href",ec.binding.upCenterUrl);c.setPosition()}})}).open()})}}})}};ec.binding.cart=function(a){ec.binding.callback=a;if(a){ec.ui.loading.show()}$.ajax({url:domainMain+"/account/isBindedTelephoneOrEmailDomain.json?callback=?&t="+new Date().getTime(),async:false,dataType:"jsonp",jsonp:"callback",timeout:"60000",success:function(b){if(!b.isLogin){if(a){a()}return}ec.util.cookie.set("optBanding",1);if(!b.success){ec.load("ec.box",function(){ec.binding.requestUrl=domainMain+"/account/isBindedTelephoneOrEmailDomain.json?callback=?&t="+new Date().getTime();ec.binding.upCenterUrl=b.upUserCenter;ec.Cache.get("ecBindingPhone",function(){return new ec.box($("#ec-binding-phone").val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(c){ec.ui.loading.hide();$("#ec-binding-phone-1").show();$("#ec-binding-phone-url-1").attr("href",ec.binding.upCenterUrl);c.setPosition()}})}).open()})}else{if(a){a()}}}})};ec.binding.cart.withPhone=function(a){ec.binding.callback=a;if(a){ec.ui.loading.show()}$.ajax({url:domainMain+"/account/isBindedPhoneCrossDomain.json?callback=?&t="+new Date().getTime(),async:false,dataType:"jsonp",jsonp:"callback",timeout:"60000",success:function(b){if(!b.isLogin){if(a){a()}return}ec.util.cookie.set("optBanding",1);if(!b.success){ec.load("ec.box",function(){ec.binding.requestUrl=domainMain+"/account/isBindedPhoneCrossDomain.json?callback=?&t="+new Date().getTime();var c=window.location.href;c=c.replace(/\\?isSuccess=0/g,"");ec.binding.upCenterUrl=b.upUserCenter+"&redirect_uri="+c;ec.binding.upCenterUrl=encodeURI(ec.binding.upCenterUrl);var d=b.state;if(null==d){alert("\u83b7\u53d6\u670d\u52a1\u5668\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01");return}if(d==4){bindBox=new ec.box($("#ec-binding-phone").val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(e){ec.ui.loading.hide();$("#ec-binding-phone-"+d).show();$("#bindEndDate4State4").html(b.upBindEndDate);if(d==1||d==4){$("#ec-binding-phone-url-"+d).attr("href",ec.binding.upCenterUrl)}e.setPosition()},onclose:function(e){if(a){a()}}});bindBox.open()}else{bindBox=new ec.box($("#ec-binding-phone").val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(e){ec.ui.loading.hide();$("#ec-binding-phone-"+d).show();if(d==1){$("#ec-binding-phone-url-1").attr("href",ec.binding.upCenterUrl)}e.setPosition()}});bindBox.open()}})}else{if(a){a()}}}})};ec.binding.isBindedMobileOrEnterpriseUser=function(a){ec.binding.callback=a;ec.ui.loading.show();$.ajax({url:domainMain+"/account/isBindedTelephoneOrEmail.json",type:"get",dataType:"json",success:function(b){if(!b.isLogin){if(a){a()}return}if(!b.success){ec.load("ec.box",function(){ec.binding.requestUrl=domainMain+"/account/isBindedTelephoneOrEmail.json?t="+new Date().getTime();ec.binding.upCenterUrl=b.upUserCenter;ec.Cache.get("ecBindingPhone",function(){return new ec.box($("#ec-binding-phone").val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(c){ec.ui.loading.hide();$("#ec-binding-phone-1").show();$("#ec-binding-phone-url-1").attr("href",ec.binding.upCenterUrl);c.setPosition()}})}).open()})}else{if(a){a()}}}})};ec.binding.closeState4=function(){if(null!=bindBox){bindBox.close()}};ec.binding.showOk=function(){$(".ec-binding-phone-box").hide();$("#ec-binding-phone-2").show();$("#ec-binding-phone-url-2").attr("href",ec.binding.upCenterUrl);$("#ec-binding-phone-url-3").attr("href",ec.binding.upCenterUrl);bindBox.setPosition()};ec.binding.resetShow=function(){var c=ec.binding.callback;var a=window.location.href.match(/\/cart\/cart\.html/g);var b={url:ec.binding.requestUrl,type:"get",async:"false",dataType:"json",success:function(d){if(!d.success){$("#ec-binding-phone-2").hide();$("#ec-binding-phone-3").show();ec.Cache.get("ecBindingPhone").setPosition()}else{ec.Cache.get("ecBindingPhone").close();if(c){c();c=null}}}};if(a){b.dataType="jsonp";b.jsonp="callback";b.timeout="60000"}$.ajax(b)};ec.binding.allCount=function(){var a=ec.util.cookie.get("vmallOrderCount");if(a==0){$("#li-order span").html("\u6211\u7684\u8ba2\u5355")}else{if(a>0){$("#li-order span").html("\u6211\u7684\u8ba2\u5355<em>("+a+")</em>")}else{$("#li-order span").html("\u6211\u7684\u8ba2\u5355<em class='hide'>(0)</em>");$.ajax({type:"get",url:domainMain+"/member/orderCount.json?t="+new Date().getTime(),dataType:"json",async:true,timeout:10000,success:function(c){if(!c.success){return}var b=parseInt(c.orderCount.unpaidOrderCount)+parseInt(c.orderCount.unreceiptOrderCount);b=b?b:0;var e=$("#li-order span em").text();var d=e.substring(1,e.length-1);b=b+parseInt(d);$("#li-order span em").text("("+b+")");$("#li-order span em").removeClass("hide");ec.util.cookie.set("vmallOrderCount",b)}});$.ajax({type:"get",url:domainRemark+"/remark/queryNotRemarkCount.json?queryHis=1&t="+new Date().getTime(),dataType:"jsonp",timeout:10000,async:true,data:{tab:"nocomment"},success:function(b){if(!b.success){return}var c=parseInt(b.notRemarkCount)+parseInt(b.hisNotRemarkCount);c=c?c:0;var e=$("#li-order span em").text();var d=e.substring(1,e.length-1);c=c+parseInt(d);if(c>0){$("#li-order span em").text("("+c+")");$("#li-order span em").removeClass("hide")}else{$("#li-order span").text("\u6211\u7684\u8ba2\u5355")}ec.util.cookie.set("vmallOrderCount",c)}})}}};bindCartResult=function(c){var a=window.location.href;a=a.replace(/\?isSuccess=0/g,"").replace(/&isSuccess=0/g,"");var b=upBindPhoneAddr.replace(/&amp;/g,"&");ec.load("ec.box",function(){bindBox=new ec.box($("#"+c).val(),{boxid:"bindingBox",boxclass:"ol_box_4",showButton:false,onopen:function(e){ec.ui.loading.hide();$("#ec-binding-phone-1").hide();$("#ec-binding-phone-2").hide();$("#ec-binding-phone-3").hide();$("#ec-binding-phone-4").hide();$("#ec-binding-phone-5").show();$("#ec-binding-phone-url-5").attr("href",b+"&redirect_uri="+a);var d=domainMain+"/member/cartBind/result/logout?url="+$("#ec-binding-phone-reLogin-5").attr("href")+"?url="+a;$("#ec-binding-phone-reLogin-5").attr("href",encodeURI(d));e.setPosition()}});bindBox.open()})};getUrlParaMap4CartBinding=function(){var c=decodeURIComponent(window.location.search);var a={};if(c){var d;c=c.substring(1).split("&");for(var b=0;b<c.length;b++){d=c[b].split("=");if(d.length==2){a[d[0]]=d[1].escapeHTML4CartBinding()}}}return a};String.prototype.escapeHTML4CartBinding=function(){return this.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};ec.ready(function(){if(window.location.href.match(/\/cart\/cart\.html/g)){ec.binding.cart();return}ec.binding.login();if((window.location.href.match(/\/member/g)&&!window.location.href.match(/\/member\/order/g))||window.location.href.match(/\/member\/order-/g)||window.location.href.match(/\/authmember/g)){ec.binding.allCount();return}});
ec.pkg("ec.account");ec.load("jquery.autocomplete",{loadType:"lazy",callback:function(){$("#search-kw").autocomplete({serviceUrl:"/search_keywords",minChars:1,maxHeight:400,deferRequestBy:100})}});ec.load("ec.box");ec.account.customerInfo=function(){this.zmPoint=null;this.empiricalValue=null};var g_pointBlance=0;var g_couponCount=0;var g_balanceAmount=0;var g_newMsgCount=0;var g_totalPoint=0;var minCartNum=0;window.gid=function(b){return document.getElementById(b)};ec.account.isLogin=function(){return ec.account.id&&ec.account.loginName};ec.account.syncCustomSession=function(b){new ec.ajax().get({async:false,url:"/account/syncEmailAndMobile.json",dataType:"json",timeout:10000,successFunction:function(c){if(b&&b!=undefined){b(c)}return},timeoutFunction:function(){return},errorFunction:function(){return}})};ec.account.getStatus=function(b){$.ajax({url:domainAccount+"/status.json?t="+new Date().getTime(),dataType:"json",timeout:10000,jsonop:"callback",type:"get",success:function(d){if(d&&d.id>0){ec.account.id=d.id;ec.account.uid=d.uid;ec.account.name=d.name;ec.account.nickName=d.nickName;ec.account.displayName=d.displayName;ec.account.loginName=d.loginName;ec.account.email=d.email;ec.account.mobile=d.mobile;ec.account.isQueue=d.isQueue;ec.account.custGrade=d.custGrade;ec.account.custPrivilege=d.custPrivilege;ec.account.custPoint=d.custPoint;ec.account.userState=d.userState;ec.account.isAuthCust=d.isAuthCust;var c=ec.util.cookie.get("ifl_v");if(c=="1"){$.ajax({url:"/account/load",type:"POST"})}}b()}})};ec.account.getAccountStatus=function(b,d,c){if(b){if(c){ec.load({url:domainMain+"/account/status?"+(new Date()).getTime(),type:"js",onload:d})}else{ec.load({url:domainMain+"/account/status?"+(new Date()).getTime(),type:"js",loadType:"lazy",onload:d})}}};ec.account.getLoginInfo=function(h,f){var b=ec.util.cookie.get("ac_li");var d=ec.util.cookie.get("uid");var c=ec.util.cookie.get("isValCas");try{if(d&&c&&"false"==c){ec.account.id=ec.util.cookie.get("uid");ec.account.uid=ec.util.cookie.get("uid");ec.account.name=ec.util.cookie.get("user");ec.account.nickName=ec.util.cookie.get("name");ec.account.displayName=ec.util.cookie.get("displayName");ec.account.loginName=ec.util.cookie.get("user");ec.account.isValCas="false";$.ajax({url:"/account/load?uid="+d,async:false,type:"POST"});ec.account.getAccountStatus(d,h,f);ec.account.isValCas=ec.util.cookie.get("isValCas");h();return}if(b&&d){ec.account.id=ec.util.cookie.get("uid");ec.account.uid=ec.util.cookie.get("uid");ec.account.name=ec.util.cookie.get("user");ec.account.nickName=ec.util.cookie.get("name");ec.account.displayName=ec.util.cookie.get("displayName");ec.account.loginName=ec.util.cookie.get("ac_loNa");ec.account.email=ec.util.cookie.get("ac_lel");ec.account.mobile=ec.util.cookie.get("ac_lmi");ec.account.isQueue=ec.util.cookie.get("ac_liq");ec.account.custGrade=ec.util.cookie.get("ac_lgc");ec.account.custPrivilege=ec.util.cookie.get("ac_cp");ec.account.custPoint=ec.util.cookie.get("ac_ltp");ec.account.userState=ec.util.cookie.get("ac_lus");h();return}}catch(g){}ec.account.getAccountStatus(d,h,f)};ec.account.confirmSaleConfig=function(){var b=$("#checkSaleConfig").attr("checked")?"1":"0";new ec.ajax().get({url:"/saleinfo/setSaleInfoRcvCfg.json?send_sms="+b+"&send_email="+b+"&t="+new Date().getTime(),async:true,timeout:10000,successFunction:function(c){if(!c.success){return}ec.util.cookie.set("isFirstLogin","0",{domain:".vmall.com",path:"/"});window.location.href=c.href},timeoutFunction:function(){return},errorFunction:function(){return}})};ec.account.displaySaleConfig=function(){var d=ec.util.cookie.get("isFirstLogin");if(d&&d=="1"){var b=[];b.push('      <div class="box-prompt-success-area">');b.push('         <div class="h pdt-40 pdb-40">');b.push('             <img src="'+imagePath+'/echannel/sprites/sprites33.png" alt="">');b.push("         </div>");b.push('        <div class="b pdb-16">');b.push('            <label class="vat"><input id="checkSaleConfig" class="vam" type="checkbox" checked />&nbsp;&nbsp;<p class="f12 gray inline-block vam">\u540c\u610f\u63a5\u6536\u8425\u9500\u4fe1\u606f</p></label>&nbsp;&nbsp;<a href="/help/faq-2635.html" target="_blank" class="vam f12 blue">\u66f4\u591a\u76f8\u5173\u4fe1\u606f</a>');b.push("        </div>");b.push("     </div>");b.push('    <div class="box-custom-button">');b.push('       <a onclick="ec.account.confirmSaleConfig()"  class="box-ok box-button-style-2"><span>\u9886\u53d6\u65b0\u4eba\u793c\u5305</span></a>');b.push("    </div>");var c=new ec.box(b.join(" "),{boxid:"ec_sale_config",boxclass:"ol_box_4",title:'<font color="#CA151E">\u6b22\u8fce\u6765\u5230\u534e\u4e3a\u5546\u57ce</font>',remember:false,width:540,showButton:false});c.open()}};ec.account.getZMInfo=function(){$.ajax({url:domainUc+"/zm/queryZM.json",dataType:"jsonp",timeout:10000,timeoutFunction:function(){alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},success:function(b){if(b.resultCode=="200"&&b.userZMInfoVO){if(b.userZMInfoVO.certifyStatus==1){$("#zhimaPoint").html(b.userZMInfoVO.creditScore);ec.account.customerInfo.zmPoint=b.userZMInfoVO.creditScore}}}})};ec.account.getAccountInfo=function(d){var c=ec.util.cookie.get("isEnterpriseUser");if("true"==c){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+"/member/enterprise\" onclick = \"pushHeaderMsg('\u4f18\u60e0\u5185\u8d2d','"+domainMain+"/member/enterprise')\"><span>\u4f18\u60e0\u5185\u8d2d</span></a>").show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}var b=ec.util.cookie.get("companyUser");if("true"==b){$("#li-companyUserInfo").html('<a href="/member/company/info" ><span>\u4f01\u4e1a\u8d2d\u7528\u6237\u4fe1\u606f</span></a>');$("#li-companyOrder").html('<a href="/member/company/intend" ><span>\u91c7\u8d2d\u610f\u5411\u5355</span></a>');$("#li-companyOrderList").html('<a href="/member/company/order" ><span>\u4f01\u4e1a\u8d2d\u8ba2\u5355</span></a>');$("#li-companyQues").html('<a href="/member/company/question" ><span>\u5e38\u89c1\u95ee\u9898</span></a>');$("#li-company").show()}$.ajax({url:domainMain+"/member/accountInfo.json",dataType:"json",timeout:10000,timeoutFunction:function(){alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},success:function(e){if(e&&e.enterpriseUser){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}if(!e.success&&e.code=="login"){ec.account.id=ec.util.cookie.set("uid",null);ec.account.loginName=ec.util.cookie.set("user",null);$("#unlogin_status").show();$("#top_login").removeClass().addClass("header-toolbar hide");$("#top_unlogin").removeClass().addClass("header-toolbar");$("#gg_login").removeClass().addClass("i-mall-prompt clearfix hide");$("#gg_unlogin").removeClass().addClass("i-mall-prompt clearfix");$("#privilege_is_login").removeClass().addClass("privilege-user privilege-user-gray");$(".privilege-user-login").show();$("#personal_privilege").hide();$(".user-canvas").removeClass().addClass("user-canvas hide");$(".user-canvas").removeAttr("style");$("#privilege-user-img").find("img").attr("src","images/echannel/misc/img_not_logged_in.png");$("#balanceicon_privilege").html("--");$("#couponicon_privilege").html("--");$("#balanceAmount_privilege").html("--");$("#header-cart-total").html(0);$(".business-user-info").hide();$(".business-user-bottom").find(".business-user-num").hide();$(".business-user").addClass("business-user-gray");$("#userImgID").find("img").attr("src","/images/echannel/misc/img88_black.jpg");$("#loginUserInfoId").show();$(".business-user-bottom").find(".business-user-explain").show();return}d(e)}})};ec.account.queryEnterpriseFlag=function(){var b=ec.util.cookie.get("enterpriseUserCookie");if(null==b||b==""){$.ajax({url:domainMain+"/member/queryEnterpriseFlag.json",dataType:"json",timeout:10000,timeoutFunction:function(){alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},success:function(c){if(c.enterpriseUser){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}else{$("#preferential").html("");$("#li-enterprise-preferential").html("");$("#li-enterprise").html("")}},error:function(){$("#preferential").html("");$("#li-enterprise-preferential").html("");$("#li-enterprise").html("")}})}else{if("true"==b){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}if("false"==b){$("#preferential").html("");$("#li-enterprise-preferential").html("");$("#li-enterprise").html("")}}};ec.account.showCustoemrInfo=function(k){if(parseInt(k.couponCount)>=0){g_couponCount=k.couponCount;$("#top-couponCount").html(k.couponCount)}if(k.newMsgCount){g_newMsgCount=k.newMsgCount;$("#top-newMsgCount").html(k.newMsgCount).attr("class",(k.newMsgCount<=0)?"hide":"");if(k.newMsgCount>0){$("#li-msg em").text("("+k.newMsgCount+")")}}if(k.customerInfo){var e=k.customerInfo;if(e.headPictureURL){$("#customerPic").attr("src",e.headPictureURL);$("#gg_customerPic").attr("src",e.headPictureURL)}else{var f=$("#customerPic").attr("imgpath");$("#customerPic").attr("src",f+"/echannel/misc/img_logged_in.png");$("#gg_customerPic").attr("src",f+"/echannel/misc/img_logged_in.png")}if(e.totalPoint){$("#empiricalValue").html(e.totalPoint);ec.account.customerInfo.empiricalValue=e.totalPoint;g_totalPoint=e.totalPoint}if(e.mobileStatus&&(e.mobileStatus=="1")){$("#validateMobile").html("\u5df2\u9a8c\u8bc1\u624b\u673a").removeClass("link-non-validated").addClass("link-validated")}if(e.emailStatus&&(e.emailStatus=="1")){$("#validateMail").html("\u5df2\u9a8c\u8bc1\u90ae\u7bb1").removeClass("link-non-validated").addClass("link-validated")}if(e.isAuthentication&&(e.isAuthentication=="1")){$("#authentication_y").show();$("#authentication_n").hide()}else{$("#authentication_n").show();$("#authentication_y").hide()}}if(k.gradeConfig){var j=k.gradeConfig.maxScores;var g=k.gradeConfig.minScores;var d=j-g;var l=g_totalPoint;var c=l-g;if(isNaN(d)){d=50000}if(c>50000){c=50000}var h=(c/d)*100;if(isNaN(h)){h=0;l=0}if(h<=0){h=0}else{h=Math.round(h)}var b=k.gradeConfig.code;$("#gg_jyz").attr("style","width: "+h+"%");var i=k.gradeConfig.nextGradeName;if(i=="maxlevel"){j=100000}(function(){ec.account.privilege_updateProgress(j,g,l,b)})()}};function htmlEncode(c){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(c).replace(/[&<>"'\/]/g,function(d){return b[d]})}ec.account.getBalanceAmount=function(){$.ajax({url:domainIps+"/voucher/queryBalance.htm",dataType:"jsonp",success:function(b){if(b.resultCode==0){if(b.balanceAmount!=null){g_balanceAmount=(parseFloat(b.balanceAmount)).toFixed(2)}else{g_balanceAmount=0}$("#balanceAmount").html(g_balanceAmount);if(parseInt(g_balanceAmount)>parseInt(999)){$("#balanceAmount_privilege").empty().html('<a href="/member/balance?t='+new Date().getTime()+'" target="_blank">'+999+"+</a>")}else{$("#balanceAmount_privilege").empty().html('<a href="/member/balance?t='+new Date().getTime()+'" target="_blank">'+g_balanceAmount+"</a>")}$("#balanceAmount_myCenter").html(g_balanceAmount);$("#balanceAmount_myCenter").removeClass("p-price-no")}}})};ec.ready(function(){var f=function(){if(ec.account.isLogin()){var k=ec.util.escapeHtml(ec.account.displayName)||ec.util.escapeHtml(ec.account.nickName)||ec.util.escapeHtml(ec.account.name)||ec.account.loginName;$("#customer_name").html(k);if($("#cart_unlogin_info")[0]){$("#cart_unlogin_info p").html('<a href="/member?t='+new Date().getTime()+'">'+k+"</a>")}$("#login_status,#cart_login_info").show();$("#up_user_center").show();$("#unlogin_status,#cust_login_info").hide();$("#loginName").html('<a href="/member?t='+new Date().getTime()+'">'+k+"</a>");$("#up_loginName").html(k);$("#up_loginName_info").html(k);ec.account.showVipInfo();$("#top_login").removeClass().addClass("header-toolbar");$("#top_loginName").html(k);$("#top_unlogin").removeClass().addClass("header-toolbar hide");$("#gg_loginName").html("Hi,"+k);$("#gg_login").removeClass().addClass("i-mall-prompt clearfix");$("#gg_unlogin").removeClass().addClass("i-mall-prompt clearfix hide");var i=ec.util.cookie.get("isAuthCust");if("true"==i){$("#authentication_y").show();$("#authentication_n").hide()}else{$("#authentication_n").show();$("#authentication_y").hide()}var j=ec.util.cookie.get("caibeiShowMsg"),g=ec.util.cookie.get("caibeiHeadShow"),h=ec.util.cookie.get("caibeiJifenUrl");if(j!=undefined&&j!=null&&j.length>0){$("#HeadShow").html(g);if(h!=undefined&&h!=null&&h.length>0){j=j+"<b>|</b><a href='"+h+"' title='\u6211\u7684\u5f69\u8d1d\u79ef\u5206' target='_blank'>\u6211\u7684\u5f69\u8d1d\u79ef\u5206</a>"}$("#ShowMsg").html(j);$("#caibeiMsg").show()}$("#newPointlogin_status").show();getPointBalance();enterpriseUserCookieTemp=ec.util.cookie.get("isEnterpriseUser");if("true"==enterpriseUserCookieTemp){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+"/member/enterprise\" onclick = \"pushHeaderMsg('\u4f18\u60e0\u5185\u8d2d','"+domainMain+"/member/enterprise')\"><span>\u4f18\u60e0\u5185\u8d2d</span></a>").show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}userCenterFlagTemp=ec.util.cookie.get("userCenterFlag");if(userCenterFlagTemp!=null&&userCenterFlagTemp!=""){if(userCenterFlagTemp.length==4){if(enterpriseUserCookieTemp.length>4){ec.account.getAccountInfo(ec.account.showCustoemrInfo)}}}if(window.location.pathname&&(window.location.pathname=="/"||window.location.pathname=="/index.html")){if(ec.account.isLogin()){ec.account.getAccountInfo(ec.account.showCustoemrInfo);var l=ec.util.cookie.get("isFirstLogin");if(l&&l=="1"){ec.account.displaySaleConfig()}}}}else{$("#gg_login").removeClass().addClass("i-mall-prompt clearfix hide");$("#gg_unlogin").removeClass().addClass("i-mall-prompt clearfix");$("#top_login").removeClass().addClass("header-toolbar hide");$("#top_unlogin").removeClass().addClass("header-toolbar")}};var b=function(l){var k="callback"+new Date().getTime(),h="/account/login?type=frame&url="+encodeURIComponent(domainMain+"/account/upCallback.html?funName="+k+"&prePage="+encodeURIComponent(encodeURIComponent(window.location.href))),g="up-iframe-"+(new Date()).getTime(),i='<iframe class="boxIframe" width="100%" height="100%" frameborder="0" name="'+g+'" src="about:blank" scrolling="no"></iframe><script>setTimeout(function(){window["'+g+'"].location.href="'+h+'";} ,100);<\/script>';var j=new ec.box(i,{boxid:"ec_login",title:" ",remember:false,width:500,height:600,showButton:false,onclose:function(m){try{delete window[k]}catch(n){window[k]=null}m.find("iframe").each(function(){this.contentWindow.close();jQuery(this).remove()})}}).open();window[k]=function(){if(typeof isUseAccount!="undefined"&&isUseAccount=="true"){ec.account.getStatus(f)}else{ec.account.getLoginInfo(f,false);ec.util.cookie.get("ifl_v")}l();j.close()}};ec.account.afterLogin=function(g){if(ec.account.isLogin()){g()}else{b(g)}};if(typeof isUseAccount!="undefined"&&isUseAccount=="true"){ec.account.getStatus(f)}else{ec.account.getLoginInfo(f,true)}var e=ec.util.cookie.get("cartId");var c=ec.util.cookie.get("cartAdded");if(c&&c!=e){ec.util.cookie.set("cartAdded",null)}$("#login_status").hover(function(){ec.account.getAccountInfo(ec.account.showCustoemrInfo)},function(){});var d=$("#vmall_index").val();if(typeof(d)!="undefined"){if(d=="vmall_index"){if(ec.account.isLogin()){ec.account.getBalanceAmount()}}}});ec.account.showVipInfo=function(){if(ec.account.userState&&ec.account.userState=="1"){$("#vip-inActive").hide();$("#vip-Active i").removeClass().addClass("icon-vip-level-"+ec.account.custGrade);$("#vip-Active").attr("title","VMALL V"+ec.account.custGrade+"\u4f1a\u5458");$("#vip-Active").show();var b=[];b.push('<em class="vip-state" id="vip-info">&nbsp;&nbsp;&nbsp;&nbsp;');b.push('<a href="/member/point" title="VMALL V'+ec.account.custGrade+'\u4f1a\u5458" id="vip-Active" ><i class="icon-vip-level-'+ec.account.custGrade+'"></i></a>');b.push("</em>");$("#cart_unlogin_info p").append(b.join(""));$("#vip-Active-top i").removeClass().addClass("icon-vip-level-"+ec.account.custGrade);$("#vip-Active-top").attr("title","VMALL V"+ec.account.custGrade+"\u4f1a\u5458");$("#vip-Active-gg").removeClass().addClass("icon-vip-level-"+ec.account.custGrade);if(ec.account.custGrade=="0"){$("#oldPeople").hide();$("#newPeople").show()}else{$("#oldPeople").show();$("#newPeople").hide()}}else{if(ec.account.isValCas&&"false"==ec.account.isValCas){$("#vip-inActive").hide();$("#vip-Active").hide();$("#vip-Active-top").removeClass().addClass("icon-vip-level-0");$("#vip-Active-gg").removeClass().addClass("icon-vip-level-0");$("#oldPeople").hide();$("#newPeople").show()}else{$("#cart_unlogin_info p").append('&nbsp;&nbsp;<em class="vip-state"><a class="link-noAct" href="/member/account" id="vip-inActive" title="\u8bf7\u5b8c\u5584\u4e2a\u4eba\u4fe1\u606f\uff0c\u5373\u523b\u4eab\u53d7\u4f1a\u5458\u7279\u6743">\u53bb\u6fc0\u6d3b</a></em>');$("#vip-inActive").show();$("#vip-Active").hide();$("#vip-Active-top").removeClass().addClass("icon-vip-level-0");$("#vip-Active-gg").removeClass().addClass("icon-vip-level-0");$("#oldPeople").hide();$("#newPeople").show()}}};ec.pkg("ec.minicart");ec.minicart.processCheck=function(c){var b=c.itemList;for(var d=0;d<b.length;d++){var e=b[d];if(e.isBundle=="1"){if(e.bundleProp.selected=="1"){b[d].checked=true}else{b[d].checked=false}}else{if(e.productProp.selected=="1"){b[d].checked=true}else{b[d].checked=false}}}};ec.minicart.readyContent=function(){ec.cart.getMicroCartBaseInfo();ec.cart.getMicroCartTotalNumber(function(b){if(b.cartNumber>99){$("#header-cart-total").html("99+")}else{$("#header-cart-total").html(b.cartNumber||0)}minCartNum=parseInt($("#header-cart-total").html())})};ec.minicart.content=function(){ec.cart.getMicroCartFromOrder(function(f){var c=f.cartInfo.cartVO,e=$("#minicart-pro-empty"),h=$("#minicart-pro-list-block"),g=$("#minicart-pro-settleup");var b=c;if(ec.minicart.microCartTpl){var d=0;if(b.miniTotalNumber==0){$("#button-minicart-go2confirm").hide();$("#disbutton-minicart-go2confirm").show()}else{$("#button-minicart-go2confirm").show();$("#disbutton-minicart-go2confirm").hide()}if(b.totalNumber>0){if(b.totalNumber>99){$("#header-cart-total").html("99+")}else{$("#header-cart-total").html(b.totalNumber||0)}$("#micro-cart-totalPrice").html("&yen;&nbsp;"+b.miniTotalPrice.toFixed(2));if(b.miniTotalOriginalPrice!=b.miniTotalPrice){$("#micro-cart-totalOriginPrice").html("&yen;&nbsp;"+b.miniTotalOriginalPrice.toFixed(2))}else{$("#micro-cart-totalOriginPrice").html("")}ec.minicart.processCheck(b);$("#minicart-goods-list").html(ec.minicart.microCartTpl.parse("microCartList",b));h.show();g.show();e.hide();if(b.itemList.length>5){h.addClass("minicart-pro-list-scroll")}else{h.removeClass("minicart-pro-list-scroll")}}else{$("#header-cart-total").html(0);e.show();h.hide();g.hide()}}})};ec.minicart.click=function(b){ec.minicart.click.send(b,function(d){var c=d.cartInfo.cartVO;if(c.totalNumber>99){$("#header-cart-total").html("99+")}else{$("#header-cart-total").html(c.totalNumber||0)}if(c.miniTotalNumber>0){$("#button-minicart-go2confirm").show();$("#disbutton-minicart-go2confirm").hide();$("#micro-cart-totalPrice").html("&yen;&nbsp;"+c.miniTotalPrice.toFixed(2));if(c.miniTotalOriginalPrice!=c.miniTotalPrice){$("#micro-cart-totalOriginPrice").html("&yen;&nbsp;"+c.miniTotalOriginalPrice.toFixed(2))}else{$("#micro-cart-totalOriginPrice").html("")}}else{$("#button-minicart-go2confirm").hide();$("#disbutton-minicart-go2confirm").show();$("#micro-cart-totalPrice").html("&yen;&nbsp;0.00");$("#micro-cart-totalOriginPrice").html("")}})};ec.minicart.convertToCart=function(j){var m=[],h=[],k=[],n=[],l=[],b=[];for(var d=0;d<j.length;d++){orderItem=j[d];if(orderItem.itemType=="S0"){m.push(orderItem.itemId);if(orderItem.itemProp&&orderItem.itemProp.Internal_Purchase&&orderItem.itemProp.Internal_Purchase=="true"){h.push(8)}else{h.push(1)}k.push(orderItem.qty);n.push("");var e=[];if(orderItem.gifts&&orderItem.gifts.length>0){for(var f=0;f<orderItem.gifts.length;f++){e.push(orderItem.gifts[f].sbomCode)}}l.push(e.join("-"));b.push(orderItem.operation)}if(orderItem.itemType=="S1"){m.push(orderItem.itemId);h.push(6);k.push(orderItem.qty);n.push(orderItem.mainItemid);l.push("");b.push(orderItem.operation)}if(orderItem.itemType=="S6"){m.push(orderItem.itemId);h.push(7);k.push(orderItem.qty);n.push(orderItem.mainItemid);l.push("");b.push(orderItem.operation)}if(orderItem.itemType=="B"){m.push(orderItem.itemId);if(orderItem.itemProp&&orderItem.itemProp.Internal_Purchase&&orderItem.itemProp.Internal_Purchase=="true"){h.push(9)}else{h.push(2)}k.push(orderItem.qty);n.push("");l.push("");b.push(orderItem.operation)}if(orderItem.itemType=="20"){m.push(orderItem.itemId);h.push(20);k.push(orderItem.qty);n.push(orderItem.mainItemid);l.push("");b.push(orderItem.operation)}}var c={};c.sbs=m.join(",");c.types=h.join(",");c.qtys=k.join(",");c.ess=n.join(",");c.gfs=l.join(",");c.ops=b.join(",");return c};ec.minicart.click.send=function(e,g){var f=$(e).attr("value"),c=$(e).attr("type"),b=5;ec.minicart.checkboxInverse($(e).attr("value"));$("#button-minicart-go2confirm").show();$("#disbutton-minicart-go2confirm").hide();var b=5;if($("#icon-choose-"+f).hasClass("icon-choose")&&$("#checkbox-"+f).attr("checked")){b=5}else{b=6}var d={};d.sbs=f;d.types=c;d.qtys=1;d.ops=b;d.saleChannel=1001;d.salePortal=1;$.ajax({url:domainCart+"/newcart/update.json?t="+new Date().getTime(),type:"GET",dataType:"jsonp",timeout:10000,traditional:true,data:d,success:function(h){g(h)}})};ec.minicart.selectedItemIsEmpty=function(){var b=$("#minicart-goods-list input[name='skuIds']:checked").length+$("#minicart-goods-list input[name='bundleIds']:checked").length;if(b==0){$("#header-cart-total").html(0);$("#micro-cart-totalPrice").html("&yen;&nbsp;0.00");$("#micro-cart-totalOriginPrice").html("");$("#button-minicart-go2confirm").hide();$("#disbutton-minicart-go2confirm").show();return true}return false};ec.minicart.checkboxInverse=function(b){if($("#icon-choose-"+b).hasClass("icon-choose")){$("#icon-choose-"+b).removeClass("icon-choose").addClass("icon-choose-normal");$("#checkbox-"+b).attr("checked",false)}else{$("#icon-choose-"+b).removeClass("icon-choose-normal").addClass("icon-choose");$("#checkbox-"+b).attr("checked",true)}};ec.minicart.buildOrderItemReqArgList=function(){var b=$("#minicart-goods-list input[name='skuIds']:checked");var d=$("#minicart-goods-list input[name='bundleIds']:checked");var c=[];b.each(function(){var h=$(this).closest("li");var e=this.value;var u=$("#quantity-"+e,h).val();var o=$("#quantity-"+e,h).attr("data-type");var q={};var s={};var r={};var v={};var f=$('input[name="extendIds"]',h).val();if(f){s.itemId=f;s.qty=u;s.itemType="S1";s.mainItemid=e;c.push(s)}var l=$('input[name="accidentIds"]',h).val();if(l){r.itemId=l;r.qty=u;r.itemType="S6";r.itemProp={accidentItem:e};r.mainItemid=e;c.push(r)}var n=$("#preferIds_"+e).attr("skuids");if(n){var p=n.split(",");for(var k=0;k<p.length;k++){if(p[k]!=""){var t={};t.itemId=p[k];t.qty="1";t.itemType="20";t.mainItemid=e;c.push(t)}}}if(u){q.itemId=e;q.qty=u;if(o=="1"){q.itemType="S0"}if(o=="8"){q.itemType="S0";q.itemProp={Internal_Purchase:"true"}}if(o=="2"){q.itemType="B"}if(o=="9"){q.itemType="B";q.itemProp={Internal_Purchase:"true"}}var g=$("#gift_sbomCodes_"+e).val();if(g){var m=[];var p=g.split(",");for(var k=0;k<p.length;k++){if(p[k]!=""){var j={};j.sbomCode=p[k];m.push(j)}}q.gifts=m}c.push(q)}});d.each(function(){var e=$(this).closest("li");var i=this.value;var h=$("#quantity-"+i,e).val();var f=$("#quantity-"+i,e).attr("data-type");var g={};if(h){g.itemId=i;g.qty=h;if(f=="2"){g.itemType="B"}if(f=="9"){g.itemType="B";g.itemProp={Internal_Purchase:"true"}}c.push(g)}});return c};ec.minicart.confirm=function(){var b=$("#minicart-goods-list input[name='skuIds']:checked");var i=$("#minicart-goods-list input[name='bundleIds']:checked");if(b.length==0&&i.length==0){alert("\u8bf7\u81f3\u5c11\u9009\u4e2d\u4e00\u4e2a\u5546\u54c1\uff01");return}if(!ec.account.isLogin()){window.location.href=$("#top-index-loginUrl").attr("href")}var f=[];var d=[];var e=[];var g=[];var c=[];b.each(function(){var m=$(this).closest("li");var k=this.value;var r=$(this).attr("data-scode");var y=$("#quantity-"+k,m).val();var s=$("#quantity-"+k,m).attr("data-type");var u={};var w={};var v={};if(y){u.itemId=r;u.qty=y;if(s=="1"){u.itemType="S0"}if(s=="8"){u.itemType="S0";u.itemProp={Internal_Purchase:"true"}}var p=$('input[name="giftId"]',m);if(p.length>0){var j=[];p.each(function(){var z={sbomCode:this.value};j.push(z)});u.gifts=j}c.push(u)}var l=$('input[name="extendIds"]',m).attr("data-scode");if(l){w.itemId=l;w.qty=y;w.itemType="S1";w.itemProp={main_skucode:r};c.push(w)}var o=$('input[name="accidentIds"]',m).attr("data-scode");if(o){v.itemId=o;v.qty=y;v.itemType="S6";v.itemProp={main_skucode:r};c.push(v)}var q=$("#preferIds_"+k).val();if(q){var t=q.split(",");for(var n=0;n<t.length;n++){if(t[n]!=""){var x={};x.itemId=t[n];x.mainSkuCode=r;x.qty="1";x.itemType="S0";x.itemSubType="PREFER";c.push(x)}}}});i.each(function(){var j=$(this).closest("li");var n=this.value;var m=$("#quantity-"+n,j).val();var k=$("#quantity-"+n,j).attr("data-type");var l={};if(m){l.itemId=n;l.qty=m;if(k=="2"){l.itemType="B"}if(k=="9"){l.itemType="B";l.itemProp={Internal_Purchase:"true"}}c.push(l)}});var h=ec.lang.json.stringify(c);setTimeout(function(){ec.cart.confirm(1,h)},500)};ec.pkg("ec.product");ec.product.history={load:function(d,c,b){$.ajax({url:"/product/browsed/query.json",data:{size:c?c:undefined,pid:b?b:undefined},dataType:"json",success:function(e){if(!e.success){return}d(e.list||[])}})},add:function(c){var b=new Image();b.src="/product/browsed/add?id="+c+"&_t="+(new Date()).getTime();b=null},clear:function(c){var b=new Image();b.src="/product/browsed/clear?_t="+(new Date()).getTime();b=null;if(c){c()}}};ec.product.inventory={_data:{},set:function(c,b){this._data[c]=b},haveInventory:function(b){return this._data[b]}};ec.pkg("ec.cart");ec.cart.productTypeCorrespondence=function(b){if(b==1){b="S0"}else{if(b==2){b="B"}else{if(b==6){b="S1"}else{if(b==7){b="S6"}else{if(b==8){b="S0"}else{if(b==9){b="B"}else{if(b==20){b="20"}else{b="S0"}}}}}}}return b};ec.cart.add=function(c,b){var d={};d.salePortal=c.salePortal;d.saleChannel=c.saleChannel;d.needResultset=c.needResultset;d.cartjson=c.cartjson;$.ajax({url:domainCart+"/newcart/add.json",dataType:"jsonp",timeout:30000,traditional:true,data:d,success:function(e){if(e.msg!="success"){if(b.errorFunction){e.msg="\u8d2d\u7269\u8f66\u7e41\u5fd9\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u7acb\u5373\u4e0b\u5355";b.errorFunction(e)}return}if(b.successFunction){ec.util.cookie.set("cartAdded",ec.util.cookie.get("cartId"));b.successFunction(e)}},error:function(i,h,g){if(b.errorFunction){var f={};f.msg=h;f.msg="\u8d2d\u7269\u8f66\u7e41\u5fd9\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u7acb\u5373\u4e0b\u5355";b.errorFunction(f)}}})};ec.cart.getCartTotalNumber=function(c,b){if(!ec.util.cookie.get("cartId")&&!ec.account.isLogin()){return}$.ajax({url:domainCart+"/newcart/shoppingCart/number.json?t="+new Date().getTime()+"&saleChannel=1001&salePortal=1",dataType:"jsonp",timeout:10000,success:function(d){if(d.retcode==0){c(d,b)}else{c(null,b)}}})};ec.cart.getCartItemsInternal=function(c,b){$.ajax({url:domainCart+"/newcart/shoppingCart.json?t="+new Date().getTime()+"&saleChannel=1001&salePortal=1",dataType:"jsonp",timeout:10000,success:function(d){if(d.retcode==0){c(d,b)}else{c(null,b)}}})};ec.cart.getCartItems=function(e,b){var d=ec.util.cookie.get("cartId");if(d&&d.length>0){var c=ec.util.cookie.get("isValCas");if(c&&"false"==c){$.ajax({url:"/account/load",type:"POST"});c=ec.util.cookie.get("isValCas")}if(ec.account.isLogin()&&ec.account.id&&ec.account.loginName){ec.cart.doCache2cart(ec.cart.getCartItemsInternal,e,b)}else{ec.cart.getCartItemsInternal(e,b)}}else{ec.cart.getCartItemsInternal(e,b)}};ec.cart.buildQueryData=function(f){var j=[];var h=[];var c=[];var d=[];for(var g=0;g<f.length;g++){var b=f[g];if(b.skuId){j.push(b.skuId)}else{if(b.bundleId){j.push(b.bundleId)}else{continue}}h.push(b.productType);c.push(b.quantity);if(b.mainSkuId){d.push(b.mainSkuId)}else{d.push("")}}var e=new Date();return{sbs:j.join(","),types:h.join(","),qtys:c.join(","),ess:d.join(","),t:e.getTime()}};ec.cart.getOnceCartInfo=function(b,e,c){var d=ec.cart.buildQueryData(b);$.ajax({url:domainMain+"/order/shoppingCart/newCart.json",dataType:"jsonp",timeout:10000,traditional:true,data:d,success:function(f){if(c!=null){e(f,c)}else{if(!f.success||!f.cartInfo){return}else{e(f)}}},error:function(){if(c!=null){var f={};f.success=false;e(f,c)}}})};ec.cart.batchCount=50;ec.cart.getCartInfo=function(f,p){if(!f||f.length==0){p({});return}if(f.length<=ec.cart.batchCount){ec.cart.getOnceCartInfo(f,p)}else{var o=[];var b=[];var e=[];outer:for(var l=0;l<f.length;l++){var c=f[l];if(c.productType==1){e.push(c);if(e.length==ec.cart.batchCount){o.push(e);e=[]}}else{if(c.productType==6){for(var g=0;g<o.length;g++){var h=o[g];if(h[0].productType==1){for(var d=0;d<h.length;d++){if(h[d].skuId==c.mainSkuId){h.push(c);continue outer}}}}for(var g=0;g<e.length;g++){if(e[g].skuId==c.mainSkuId){e.push(c)}}}else{b.push(c);if(b.length==ec.cart.batchCount){o.push(b);b=[]}}}}if(b.length>0){if(b.length+e.length<=ec.cart.batchCount){b.push(e);o.push(b)}else{o.push(b);o.push(e)}}else{if(e.length>0){o.push(e)}}var n={};n.cartInfo={};n.cartInfo.bundlerList=[];n.cartInfo.productList=[];n.cartInfo.couponList=[];n.cartInfo.premiumsList=[];n.cartInfo.totalOriginalPrice=0;n.cartInfo.totalPrice=0;n.limitstock=[];n.understock=[];var m=0;for(var l=0;l<o.length;l++){var h=o[l];ec.cart.getOnceCartInfo(h,function(j,k){m+=1;if(j.success&&j.cartInfo){if(j.cartInfo.bundlerList&&j.cartInfo.bundlerList.length>0){n.cartInfo.bundlerList=n.cartInfo.bundlerList.concat(j.cartInfo.bundlerList)}if(j.cartInfo.productList&&j.cartInfo.productList.length>0){n.cartInfo.productList=n.cartInfo.productList.concat(j.cartInfo.productList)}if(j.cartInfo.couponList&&j.cartInfo.couponList.length>0){n.cartInfo.couponList=n.cartInfo.couponList.concat(j.cartInfo.couponList)}if(j.cartInfo.premiumsList&&j.cartInfo.premiumsList.length>0){n.cartInfo.premiumsList=n.cartInfo.premiumsList.concat(j.cartInfo.premiumsList)}n.cartInfo.totalOriginalPrice+=j.cartInfo.totalOriginalPrice;n.cartInfo.totalPrice+=j.cartInfo.totalPrice;if(j.limitstock&&j.limitstock.length>0){n.limitstock=n.limitstock.concat(j.limitstock)}if(j.understock&&j.understock.length>0){n.understock=n.understock.concat(j.understock)}}if(m==o.length){p(n)}},l)}}};ec.cart.getCart=function(b){ec.cart.getCartItems(ec.cart.getCartInfo,b)};ec.cart.getCartBaseInfo=function(b,c){};ec.cart.getCartBase=function(b){ec.cart.getCartItems(ec.cart.getCartBaseInfo,b)};ec.cart.buildMicroCartReq=function(f){var l=[];if(f&&f.length>0){for(var k=0;k<f.length;k++){var c=f[k];var m={};m.itemId=c.skuId;m.qty=c.quantity;if(c.productType=="1"){m.itemType="S0";var b=[];if(c.giftCartList&&c.giftCartList.length>0){for(var g=0;g<c.giftCartList.length;g++){var e={sbomCode:c.giftCartList[g].skuId};b.push(e)}}m.gifts=b}if(c.productType=="8"){m.itemType="S0";m.itemProp={Internal_Purchase:"true"}}if(c.productType=="6"){m.itemType="S1";m.itemProp={main_skucode:c.mainSkuId}}if(c.productType=="7"){m.itemType="S6";m.itemProp={main_skucode:c.mainSkuId}}if(c.productType=="2"){m.itemId=c.bundleId;m.itemType="B"}if(c.productType=="9"){m.itemId=c.bundleId;m.itemType="B";m.itemProp={Internal_Purchase:"true"}}l.push(m)}}var n=ec.lang.json.stringify(l);var d=new Date();var h={};h.cartReqJson=n;h.t=d.getTime();return h};ec.cart.getMicroCartBaseInfo=function(){};ec.cart.doCache2cart=function(b,f,c){var e=ec.util.cookie.get("cartId");var d=ec.util.cookie.get("cartAdded");if(!d||d!=e){ec.util.cookie.set("cartId",null,{expires:-1,domain:".vmall.com"});if(b){b(f,c)}return}$.ajax({url:domainCart+"/newcart/cache2cart.json?saleChannel=1001&salePortal=1&t="+new Date().getTime(),dataType:"jsonp",timeout:10000,cache:false,success:function(g){if(b){b(f,c)}}})};ec.cart.getMicroCartTotalNumber=function(e){var b=null;var d=ec.util.cookie.get("cartId");if(d&&d.length>0){var c=ec.util.cookie.get("isValCas");if(c&&"false"==c){$.ajax({url:"/account/load",type:"POST"});c=ec.util.cookie.get("isValCas")}if(ec.account.isLogin()){ec.cart.doCache2cart(ec.cart.getCartTotalNumber,e,b)}else{ec.cart.getCartTotalNumber(e,b)}}else{ec.cart.getCartTotalNumber(e,b)}};ec.cart.getMicroCartFromOrder=function(e){var b=null;var d=ec.util.cookie.get("cartId");if(d&&d.length>0){var c=ec.util.cookie.get("isValCas");if(c&&"false"==c){$.ajax({url:"/account/load",type:"POST"});c=ec.util.cookie.get("isValCas")}if(ec.account.isLogin()){ec.cart.doCache2cart(ec.cart.getCartItemsInternal,e,b)}else{ec.cart.getCartItemsInternal(e,b)}}else{ec.cart.getCartItemsInternal(e,b)}};ec.cart.getTotal=function(){ec.cart.getMicroCartFromOrder(function(e){var b=e.cartInfo,d=e.shopInfo,c=$("#minicart-pro-empty"),g=$("#minicart-pro-list-block"),f=$("#minicart-pro-settleup");if(ec.minicart.microCartTpl){$("#header-cart-total,#micro-cart-total").html(b.totalNumber||0);if(b.totalNumber>0){$("#micro-cart-totalPrice").html("&yen;&nbsp;"+b.totalPrice.toFixed(2));ec.minicart.processCheck(b);$("#minicart-pro-list").html(ec.minicart.microCartTpl.parse("microCartList",b));g.show();f.show();c.hide();if((b.productList.length+b.bundlerList.length)>5){g.addClass("minicart-pro-list-scroll")}else{g.removeClass("minicart-pro-list-scroll")}}else{c.show();g.hide();f.hide()}if(d){$("#toolbar-orderWaitingHandleCount").html(d.orderWaitingHandleCount).attr("class",(d.orderWaitingHandleCount<=0)?"hide":"");$("#toolbar-couponCount").html(d.couponCount).attr("class",(d.couponCount<=0)?"hide":"");$("#toolbar-newMsgCount").html(d.newMsgCount).attr("class",(d.newMsgCount<=0)?"hide":"");$("#top-couponCount").html(d.couponCount);$("#top-newMsgCount").html(d.newMsgCount).attr("class",(d.newMsgCount<=0)?"hide":"")}}if(e.enterpriseUser){$("#preferential").html('<a  href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}})};ec.cart.changeAdded=function(b){var c=null;if(b&&b.cartInfo&&b.cartInfo.cartVO){c=b.cartInfo.cartVO.totalNumber>=0?b.cartInfo.cartVO.totalNumber:c}if(b){c=b.cartNumber>=0?b.cartNumber:c}if(c>0){ec.util.cookie.set("cartAdded",ec.util.cookie.get("cartId"))}if(c==0){ec.util.cookie.set("cartAdded",null)}};ec.cart.newDel=function(d,f,e){if(!e){ec.ui.loading.show({modal:false})}var b=new Date();d.t=b.getTime();var c={data:d,dataType:"jsonp",timeout:10000,timeoutFunction:function(){ec.ui.loading.hide();alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},successFunction:function(g){ec.cart.changeAdded(g);if("0"!=g.retcode){ec.ui.loading.hide();ec.showError(g);return}if(f){f(g)}ec.ui.loading.hide();return}};c.url=domainCart+"/newcart/del.json";new ec.ajax().get(c)};ec.cart.setRecover=function(b){ec.util.cookie.set("cart-recover",b,{domain:".vmall.com",path:"/"})};ec.cart.removeSkuFromRecover=function(c,e){var b=ec.util.cookie.get("cart-recover");if(b){var d=new RegExp(","+c+";\\d+,");b=b.replace(d,",");ec.cart.setRecover(b)}if(e){e(b)}};ec.cart.jumpToConfirm=function(b,i){var f=[];var d=[];var e=[];var g=[];var c=[];b.each(function(){var m=$(this).parent();var k=$(this).attr("value");var q=$(this).attr("data-scode");var v=$("#quantity-"+k,m).val();var r=$("#quantity-"+k,m).attr("data-type");var s={};var u={};var t={};var l=$('div[name="extendIds"]',m).attr("data-scode");if(l){u.itemId=l;u.qty=v;u.itemType="S1";u.itemProp={main_skucode:q};c.push(u)}var o=$('div[name="accidentIds"]',m).attr("data-scode");if(o){t.itemId=o;t.qty=v;t.itemType="S6";t.itemProp={main_skucode:q};c.push(t)}var p=$('input[name="preferId"]',m);if(p.length>0){p.each(function(){var w={};if($(this).attr("value")){w.itemId=$(this).attr("value");w.qty="1";w.itemType="S0";w.itemSubType="PREFER";w.mainSkuCode=$(this).attr("mainCode");c.push(w)}})}if(v){s.itemId=q;s.qty=v;if(r=="1"){s.itemType="S0"}if(r=="8"){s.itemType="S0";s.itemProp={Internal_Purchase:"true"}}var n=$('input[name="giftId"]',m);if(n.length>0){var j=[];n.each(function(){var w={sbomCode:this.value};j.push(w)});s.gifts=j}c.push(s)}});i.each(function(){var j=$(this).parent();var n=$(this).attr("value");var m=$("#quantity-bundle-"+n,j).val();var k=$("#quantity-bundle-"+n,j).attr("data-type");var l={};if(m){l.itemId=n;l.qty=m;if(k=="2"){l.itemType="B"}if(k=="9"){l.itemType="B";l.itemProp={Internal_Purchase:"true"}}c.push(l)}});var h=ec.lang.json.stringify(c);setTimeout(function(){ec.cart.confirm(1,h)},500)};ec.cart.confirm=function(d,e,c){var b=$('<form action="'+domainMain+'/order/confirmcart" method="post"></form>');b.append('<input name="orderReqJson" type="hidden" value=\''+e+"' />");if(d){b.append('<input name="state" type="hidden" value="'+d+'" />')}if(c){b.append('<input name="orderTag" type="hidden" value="'+c+'" />')}$("body").append(b);b.submit()};ec.cart.allConfirm=function(e,f,d,b){var c=$('<form action="'+domainMain+b+'" method="post"></form>');c.append('<input name="orderReqJson" type="hidden" value=\''+f+"' />");if(e){c.append('<input name="state" type="hidden" value="'+e+'" />')}if(d){c.append('<input name="orderTag" type="hidden" value="'+d+'" />')}$("body").append(c);c.submit()};ec.cart.coverOrderConfirm=function(e,b,d,g,f,h){var c=$('<form action="'+domainMain+'/order/coverOrderConfirm" method="post"></form>');c.append('<input name="UIDesignID" type="hidden" value=\''+e+"' />");if(b){c.append('<input name="sbomCode" type="hidden" value="'+b+'" />')}if(d){c.append('<input name="coverServSKU" type="hidden" value="'+d+'" />')}if(g){c.append('<input name="quantity" type="hidden" value="'+g+'" />')}if(f){c.append('<input name="extendServiceSKU" type="hidden" value="'+f+'" />')}if(h){c.append('<input name="exceptionServiceSKU" type="hidden" value="'+h+'" />')}$("body").append(c);c.submit()};ec.pkg("ec.base");ec.base.getTotal=function(){$.ajax({url:domainMain+"/page/totalInfo.json",dataType:"jsonp",success:function(c){if(c.enterpriseUser){$("#preferential").html('<a href="'+domainMain+'/member/enterprise" rel="nofollow">\u4f18\u60e0\u5185\u8d2d</a>').show();$("#li-enterprise-preferential").html('<a href="'+domainMain+"/member/enterprise\" onclick = \"pushHeaderMsg('\u4f18\u60e0\u5185\u8d2d','"+domainMain+"/member/enterprise')\"><span>\u4f18\u60e0\u5185\u8d2d</span></a>").show();$("#li-enterprise").html('<a href="'+domainMain+'/member/enterprise"><span>\u4f18\u60e0\u5185\u8d2d</span></a>').show()}if(ec.account.isLogin()){var b=ec.util.cookie.get("isAuthCust");if("true"==b){$("#authentication").html("");$("#authentication").html('<i class="icon-authentication icon-authentication-success"></i>&nbsp;');$("#authentication_yes").removeClass().addClass("");$("#authentication_no").removeClass().addClass("hide")}else{$("#authentication").html("");$("#authentication").html('<i class="icon-authentication icon-authentication-not"></i>&nbsp;');$("#authentication_yes").removeClass().addClass("hide");$("#authentication_no").removeClass().addClass("");$("#authentication_no").html("");$("#authentication_no").html('<i class="link-non-validated"></i>\u672a\u5b9e\u540d\u8ba4\u8bc1</a>')}}}})};var topSearchKeyword="";function search(c){var b=$("#search-kw").val();if(ec.util.isEmpty(b)){return false}b=$.trim(b);var d={UID:ec.util.cookie.get("uid"),TID:getPtid(),TIME:getTime(),CONTENT:{searchWord:encodeURIComponent(b),click:"1"}};ec.code.addAnalytics({hicloud:true});_paq.push(["trackLink","300090101","link",d]);window.location.href="/search?keyword="+encodeURIComponent(b);return false}(function(){var b;ec.ready(function(){$("#ec_ui_confirm_no").unbind("click").click(function(){$("#ec_ui_confirm").hide()});$("#ec_ui_confirm_new_no").unbind("click").click(function(){$("#ec_ui_confirm_new").hide()});$("#ec_ui_tips_yes").unbind("click").click(function(){$("#ec_ui_tips").hide()})});ec.ui.confirm=function(j,e){var d=ec.ui.confirm.caller,c=d.arguments;if(b!=null&&c[c.length-1]==b){b=null;return true}$("#ec_ui_confirm_msg").html(e);var n=$(j),g=$("#ec_ui_confirm"),k=n.offset(),p=k.top-g.outerHeight(true)-5,f=k.left-g.outerWidth(true)/2,o=[],h=c.length,m=c.callee.length;for(var l=0;l<h;l++){o.push(c[l])}o[m]=(b=(new Date()).getTime());$("#ec_ui_confirm_yes").unbind("click").click(function(){$("#ec_ui_confirm").hide();d.apply(this,o);o=null});g.css({top:p,left:f,position:"absolute"}).show();g.css("z-index","999");return false};ec.ui.confirmNew=function(l,e,g,q){var d=ec.ui.confirmNew.caller,c=d.arguments;if(b!=null&&c[c.length-1]==b){b=null;return true}$("#ec_ui_confirm_new_msg").html(e);if(g){$("#ec_ui_confirm_new_yes").attr("title",g);$("#ec_ui_confirm_new_yes").html("<span>"+g+"</span>")}if(q){$("#ec_ui_confirm_new_no").attr("title",q);$("#ec_ui_confirm_new_no").html("<span>"+q+"</span>")}var o=$(l),h=$("#ec_ui_confirm_new"),k=o.offset(),r=k.top-h.outerHeight(true)-5,f=k.left-h.outerWidth(true)/9,p=[],j=c.length,n=c.callee.length;for(var m=0;m<j;m++){p.push(c[m])}p[n]=(b=(new Date()).getTime());$("#ec_ui_confirm_new_yes").unbind("click").click(function(){$("#ec_ui_confirm_new").hide();d.apply(this,p);p=null});h.css({top:r,left:f,position:"absolute"}).show();return false};ec.ui.tips=function(i,h){$("#ec_ui_tips_msg").html(h);var d=$(i),c=$("#ec_ui_tips"),g=d.offset(),f=g.top-c.outerHeight(true)-5,e=g.left-c.outerWidth(true)/2;c.css({top:f,left:e,position:"absolute"}).show()}})();$.extend(ec.form.validator.defaults,{errorClass:"error",autoFocus:false,errorFunction:function(d,b){var c="icon-error",e=b.msg[b.type]||b.msg["default"];e=(e.length<=0)?"&nbsp;":e;switch(b.type){case"require":c="icon-warn";break}if(b.msg_ct){$(b.msg_ct).html("<span class='vam "+c+"'>"+e+"</span>")}else{var f=(d.attr("id")||d.attr("name"))+"-msg";$("#"+f).remove();d.after("<span id='"+f+"' class='vam "+c+"'>"+e+"</span>")}if(b.autoFocus){d.focus()}},successFunction:function(c,b){if(b.msg_ct){$(b.msg_ct).html("")}else{$("#"+(c.attr("id")||c.attr("name"))+"-msg").remove()}}});ec.form.validator.register("mobile",function(c,b){if(b.allowEmpty&&ec.util.isEmpty(c)){return true}if(c.length<11){return false}return/^(\+|00)?((86)?(1[3456789])[0-9]{9}|852[965][0-9]{7})$/.test(c)});ec.form.validator.register("phone",function(c,b){if(b.allowEmpty&&ec.util.isEmpty(c)){return true}if(c.length<7){return false}return/^((0[0-9]{2,3}\-)?[2-9][0-9]{6,7}|((00852|\+852)\-)?([2-3][0-9]{7}))+(\-[0-9]{1,4})?$/.test(c)});ec.form.validator.register("mobleOrPhone",function(c,b){if(b.allowEmpty&&ec.util.isEmpty(c)){return true}if(c.length<11){return false}return/(^((0[0-9]{2,3}\-)?[2-9][0-9]{6,7}|((00852|\+852)\-)?([2-3][0-9]{7}))+(\-[0-9]{1,4})?$)|(^(\+|00)?((86)?(1[3456789])[0-9]{9}|852[965][0-9]{7})$)/.test(c)});ec.form.validator.register("addressCheck",function(c,b){if(b.allowEmpty&&ec.util.isEmpty(c)){return true}if(c=="\u9009\u62e9\u7701-\u5e02-\u533a-\u8857\u9053"){return false}return true});ec.form.validator.register("addressConfirmCheck",function(){if($("#current-address").html()=="\u9009\u62e9\u7701-\u5e02-\u533a-\u8857\u9053"){return false}else{var d=$("#myAddress-form");ec.addr.syncCache(d);var b=d.find("input[name='province']").val(),f=d.find("input[name='city']").val(),e=d.find("input[name='district']").val(),g=d.find("input[name='street']").val(),c=d.find("input[name='needL4Addr']").val();if(""!=b&&""!=f&&""!=e){if(c=="true"&&g==""){return false}else{return true}}else{return false}}return true});ec.form.validator.register("addressContractCheck",function(){var c=$("#order-address-add-form");var b=c.find("select[name='province'] option:selected").val(),e=c.find("select[name='city'] option:selected").val(),d=c.find("select[name='district'] option:selected").val(),f=c.find("select[name='street'] option:selected").val();if(""!=b&&""!=e&&""!=d){if(""==f){return false}else{return true}}else{return false}});ec.form.validator.register("forbidChar",function(c,b){if(b.allowEmpty&&ec.util.isEmpty(c)){return true}c=c.replace("*","@"),c=c.replace("--","@"),c=c.replace("/","@"),c=c.replace("+","@"),c=c.replace("'","@"),c=c.replace("\\","@"),c=c.replace("$","@"),c=c.replace("^","@"),c=c.replace(".","@"),c=c.replace(";","@"),c=c.replace("<","@"),c=c.replace(">","@"),c=c.replace('"',"@"),c=c.replace("=","@"),c=c.replace("{","@"),c=c.replace("}","@");c=c.replace("%","@");c=c.replace("~","@");c=c.replace("&","@");if(c.search(new RegExp("@"))!=-1){return false}return true});ec.form.validator.register("invoiceForbidChar",function(e,c){if(c.allowEmpty&&ec.util.isEmpty(e)){return true}e=e.replace("--","&");var d=/^[^\\*\\+\\\\/\\$\\^\\;<>\"=\\{\\}%~&]+$/g;var b=d.test(e);if(!b){return false}return b});ec.form.validator.register("forbidChar2",function(d,c){if(c.allowEmpty&&ec.util.isEmpty(d)){return true}var b=/^[^<>\\(\\)\'\"]+$/g;return b.test(d)});ec.ui.number=function(b,c){var d={max:null,min:null,showButton:true,minusBtn:'<a class="icon-minus vam" href="javascript:;"><span>-</span></a>',plusBtn:'<a class="icon-plus vam" href="javascript:;"><span>+</span></a>'},e=$(b),c=$.extend(d,c),f=function(g){var i=g.which,h=parseInt(this.value,10),j=(h<1)?1:h;if((i<37||i>40)&&i!=8&&i!=46){if(j>c.max||j<c.min){g.preventDefault();return false}else{if((i<48||i>57)&&(i<96||i>105)&&i!=9){g.preventDefault();return false}}}};e.each(function(){var i=$.extend({},c),g=$(this).css("ime-mode","disabled");var h=g.attr("max");if(h){c.max=i.max=parseInt(h,10)||i.max}h=g.attr("min");if(h){c.min=i.min=parseInt(h,10)||i.min}if(i.showButton){var k=$(i.minusBtn).click(function(){var l=g.val()||0,m=parseInt(l,10)-1;if(typeof(i.min)=="number"&&m<i.min){return}g.val(m).trigger("blur")}),j=$(i.plusBtn).click(function(){var l=g.val()||0,m=parseInt(l,10)+1;if(typeof(i.max)=="number"&&m>i.max){return}g.val(m).trigger("blur")});g.after(j).before(k)}g.data("ovalue",g.val()||0).keydown(f).keyup(function(){var l=parseInt(this.value||0);if(typeof(i.min)=="number"&&l<i.min){this.value=i.min;return}else{if(typeof(i.max)=="number"&&l>i.max){this.value=i.max;return}}}).blur(function(){if(typeof i.onchange==="function"){var l=g.data("ovalue"),m=this.value||0,n=parseInt(m,10)-parseInt(l,10);if(n==0){return}g.data("ovalue",m);i.onchange.call(this,m,n)}})})};ec.ui.countdown=function(e,m){var g=$(e),c=g.data("countdown"),l=0,j,k,f=m.now.getTime()-new Date().getTime(),d=0,i=function(){if(l>=m.times.length){return false}j=m.times[l];l++;return true},h=function(){d=Math.round((j.parseDate("yyyy-MM-dd HH:mm:ss").getTime()-new Date().getTime()-f)/1000);d=d<=0?0:d;return d},b=function(){d--;if(d<=0){d=0}k={day:Math.floor(d/(24*60*60)),hour:(m.html.indexOf("{#day}")>=0)?Math.floor(d/60/60)%24:Math.floor(d/60/60),minute:Math.floor(d/60)%60,second:d%60};var n=m.html.replace(/{#day}/g,k.day).replace(/{#hours}/g,k.hour>9?k.hour:"0"+k.hour).replace(/{#minutes}/g,k.minute>9?k.minute:"0"+k.minute).replace(/{#seconds}/g,k.second>9?k.second:"0"+k.second);g.html(n);return(d<=0)?false:true};if(!m.times){m.times=[m.endTime]}clearInterval(c);while(i()){if(h()<=0){continue}break}if(!b()){return}c=setInterval(function(){if(!b()){if(m.callback){m.callback(m)}if(!i()){clearInterval(c)}else{h()}}},1000);g.data("countdown",c)};(function(){var c=$(window),j=false,b=document.compatMode=="CSS1Compat"?document.documentElement:document.body,g=0,d=0,h,e=[],f,i=function(k){var l=k.offset().top-300,m=l+k.height()+600;if((l>=g&&l<=d)||(m>=g&&m<=d)){k.attr("src",k.attr("data-lazy-src"));k.removeAttr("data-lazy-src");return true}return false};_bindEvent=function(){var k=function(){clearTimeout(f);f=setTimeout(function(){g=c.scrollTop();d=g+h;var m;for(var n=0;n<e.length;n++){m=e[n];if(i(m)){e.splice(n,1);n--}}if(!e||e.length==0){c.unbind("scroll",k);c.unbind("resize",l)}},100)},l=function(m){h=b.clientHeight};c.bind("scroll",k);c.bind("resize",l);h=b.clientHeight;g=c.scrollTop();d=g+h};ec.ui.lazyLoad=function(k){if(!j){_bindEvent();j=true}$(k).each(function(){if(this.tagName!="IMG"){return}var l=$(this);if(l.attr("data-lazy-src")){if(!i(l)){l.attr("src",ol.libPath+"../../images/echannel/loading/mask.png");e.push(l)}}})}})();ec.ready(function(){ec.ui.lazyLoad($("body").children(".home-channel-menu,.layout,.g,.home-channel-container,.channel-floor,.home-channel-floor").find("img"));ec.ui.hrefSetTime()});ec.showError=function(b){if(b.code=="login"){alert("\u767b\u5f55\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55");location.reload();return false}alert(b.msg)};ec.load("ajax",{loadType:"lazy"});(function(){var b=function(){var f=ec.form.validator.bind,e=$("#surveryContent"),c=$("#surveryContact"),d=$("#surveryVerify");f(e,{type:["require","length","forbidChar"],validOnChange:true,msg_ct:"#errMsg",max:200,min:5,msg:{require:"\u60a8\u8fd8\u6ca1\u6709\u8f93\u5165\u53cd\u9988\u4fe1\u606f\u54e6",length:"\u53cd\u9988\u4fe1\u606f\u5185\u5bb9\u8bf7\u63a7\u5236\u57285~200\u4e2a\u5b57\u7b26\u4e4b\u95f4",forbidChar:"\u53cd\u9988\u4fe1\u606f\u91cc\u5305\u542b\u975e\u6cd5\u5b57\u7b26"}});f(c,{type:["length"],validOnChange:true,msg_ct:"#errMsg",min:2,max:100,msg:{length:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8054\u7cfb\u65b9\u5f0f"}});f(d,{type:["require"],validOnChange:true,msg_ct:"#errMsg",msg:{require:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}});if(ec.account.isLogin()){c.val(ec.util.escapeHtml(ec.account.email)||ec.util.escapeHtml(ec.account.mobile)||ec.account.loginName)}ec.form.input.label(c,"\u9009\u586b\u90ae\u7bb1\u6216\u8005\u5546\u57ce\u8d26\u6237");ec.form.input.label(e,"\u8c22\u8c22\u60a8\u7684\u5b9d\u8d35\u5efa\u8bae\uff0c\u6211\u4eec\u5c06\u4e0d\u65ad\u6539\u8fdb")};ec.survery={open:function(){if(b){b();b=null}var h=$("#survery-box");var d=$(window).width();var g=$(window).height();var f=h.width();var c=h.height();var e=document.createElement("div");e.className="mask-new";e.style.width=d+"px";e.style.height=g+"px";e.style.background="#000";e.style.position="fixed";e.style.top=0;e.style.left=0;e.style.zIndex=499;e.style.opacity=0.4;e.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";document.body.appendChild(e);ec.survery.reloadCode();$("#survery-box").css({position:"fixed",left:(d/2-f/2)+"px",top:(g/2-c/2)+"px","z-index":999}).show();$(window).resize(function(){d=$(window).width();g=$(window).height();$("#survery-box").css({left:(d/2-f/2)+"px",top:(g/2-c/2)+"px"})})},close:function(){ol.ui.masker.unmask();$(".mask-new").remove();$("#survery-box").hide()},submit:function(){var c=$("#form-feedback");if(!ec.form.validator(c,true)){return false}$.ajax({type:"get",url:domainMain+"/feedback.json",dataType:"jsonp",timeout:10000,async:true,data:{type:$("#surverytype").val(),content:$("#surveryContent").val(),contact:$("#surveryContact").val(),code:$("#surveryVerify").val()},success:function(d){if(!d.success){ec.survery.reloadCode();$("#surveryVerify").val("");$("#errMsg").html('<span class="vam icon-warn">\u63d0\u4ea4\u5931\u8d25\uff0c'+d.msg+"</span>");return}alert("\u63d0\u4ea4\u6210\u529f\uff0c\u534e\u4e3a\u5546\u57ce\u611f\u8c22\u60a8\u7684\u5b9d\u8d35\u5efa\u8bae\uff01");ec.survery.close();$("#surveryContent,#surveryVerify").val("");return}});return false},reloadCode:function(){gid("surveryVerifyImg").src=domainMain+"/feedback/randomCode?_t="+(new Date()).getTime()},validate:function(){$.ajax({type:"get",url:domainMain+"/feedback/validRandomCode?_t="+(new Date()).getTime(),timeout:10000,dataType:"jsonp",data:{code:$("#surveryVerify").val()},success:function(c){if(c.success){return}gid("surveryVerifyImg").src=domainMain+"/feedback/randomCode?_t="+(new Date()).getTime();$("#surveryVerify").val("");return}})}}})();$(function(){var d=$(window),e,c=$("#hungBar-top"),b=function(){c.stop();if(d.scrollTop()>1200){c.fadeTo(20,1)}else{c.fadeOut(20)}e=null};d.scroll(function(){e=setTimeout(b,50)});b()});(function(){ec.ui.hrefSetTime=function(){var c=(new Date()).getTime();try{$("a[timeType=timestamp]").each(function(){var d=$(this);d.attr("href",d.attr("href").replace(/timestamp/g,c))})}catch(b){}}})();ec.pkg("ec.encipher");ec.encipher.base=10;ec.encipher.bigPowMod=function(f,e,g){f=str2bigInt(f,ec.encipher.base);e=str2bigInt(e,ec.encipher.base);g=str2bigInt(g,ec.encipher.base);var d=powMod(f,e,g);d=bigInt2str(d,ec.encipher.base);return d};ec.encipher.randomInt=function(c){var b=randBigInt(c,0);return bigInt2str(b,ec.encipher.base)};ec.encipher.getServerKey=function(){$.ajax({type:"get",url:"/system/getKey.json?t="+new Date().getTime(),async:false,dataType:"json",timeout:10000,success:function(b){if(!(b.success)){return}ec.util.cookie.set("sc_p",b.pubkey)}})};ec.encipher.getEncryptData=function(c,e,k){var m="";var h="13232376895198612407547930718267435757728527029623408872245156039757713029036368719146452186041204237350521785240337048752071462798273003935646236777459223",l="5421644057436475141609648488325705128047428394380474376834667300766108262613900542681289080713724597310673074119355136085795982097390670890367185141189796",j=ec.encipher.randomInt(128),d=ec.encipher.bigPowMod(l,j,h),f=ec.util.cookie.get("sc_p"),i,g;if(e==""||e==null){g=c+"?pubkey="+d+"&seType=r&t="+new Date().getTime()}else{g=c+"?argument="+e+"&pubkey="+d+"&seType=r&t="+new Date().getTime()}$.ajax({type:"get",url:g,dataType:"json",async:false,timeout:10000,success:function(b){if(!b.success){return}i=ec.encipher.bigPowMod(f,j,h);m=k(b.data,i)}});return m};ec.encipher.getKey=function(h){var e="13232376895198612407547930718267435757728527029623408872245156039757713029036368719146452186041204237350521785240337048752071462798273003935646236777459223",f="5421644057436475141609648488325705128047428394380474376834667300766108262613900542681289080713724597310673074119355136085795982097390670890367185141189796",c=ec.encipher.randomInt(128),g=ec.encipher.bigPowMod(f,c,e),d;$.ajax({type:"get",url:domainShoppingConfig+"/member/smyAddresses.json?pubkey="+g+"&seType=r&t="+new Date().getTime(),dataType:"jsonp",async:true,timeout:10000,success:function(b){if(!b.success){return}ec.util.cookie.set("sc_p",b.pubkey);d=ec.encipher.bigPowMod(b.pubkey,c,e);h(b.shoppingConfigList,b.randomFlag,d)}})};ec.encipher.encrypt=function(i){var e="13232376895198612407547930718267435757728527029623408872245156039757713029036368719146452186041204237350521785240337048752071462798273003935646236777459223",h="5421644057436475141609648488325705128047428394380474376834667300766108262613900542681289080713724597310673074119355136085795982097390670890367185141189796",c=ec.encipher.randomInt(128),j=ec.encipher.bigPowMod(h,c,e),f=ec.util.cookie.get("sc_p"),d=ec.encipher.bigPowMod(f,c,e);if(d.length>16){d=d.substring(0,16)}var g=rc4_str_base64(d,i);return{val:g,pubkey:j}};ec.encipher.decrypt=function(c,b){if(b.length>16){b=b.substring(0,16)}return rc4_base64_str(b,c)};ec.pkg("ec.addr");ec.addr.list=function(b){$.ajax({type:"get",url:domainShoppingConfig+"/member/myAddresses/list.json",dataType:"jsonp",async:true,timeout:10000,success:function(c){if(!c.success){return}if(c.shoppingConfigList.length==0){$("#base-table").find(".report-errors").show()}else{$("#base-table").find(".report-errors").hide()}b(c.shoppingConfigList,c.randomFlag)}})};ec.addr.syncCache=function(b){b.find("input[name=province]").attr("value",b.find("input[name=provinceG]").attr("value"));b.find("input[name=city]").attr("value",b.find("input[name=cityG]").attr("value"));b.find("input[name=district]").attr("value",b.find("input[name=districtG]").attr("value"));b.find("input[name=street]").attr("value",b.find("input[name=streetG]").attr("value"));b.find("input[name=needL4Addr]").attr("value",b.find("input[name=needL4AddrG]").attr("value"))};ec.addr.save=function(c,e){var m=$(c);var r=m.find("input[name=id]").val();var g="/member/myAddresses/add.json";var o="post";ec.addr.syncCache(m);var b=m.find("input[name=province]").val();var t=m.find("input[name=city]").val();var s=m.find("input[name=district]").val();var n=m.find("input[name=street]").val();var l=m.find("input[name='needL4Addr']").val();var j=m.find("input[name=mobile]");var p=m.find("input[name=phone]");if(j.hasClass("error")||p.hasClass("error")){return false}if(!ec.form.validator(m,false)){return false}var d=$.trim(m.find("input[name=mobile]").val());var h=$.trim(m.find("input[name=phone]").val());if(ec.util.isEmpty(d)){return false}if(e.afterCheck){e.afterCheck(r)}if(e.type!="add"){g="/member/myAddresses/modify/"+r+".json"}var i=m.find("input[name=consignee]").val();var f=m.find("input[name=address],textarea[name=address]").val();var k=m.find("input[name=zipCode]").val();var q=m.find("input[name=randomFlag]").val();var v={};v.consignee=i;v.province=b;v.city=t;v.district=s;v.street=n;v.address=f;v.zipCode=k;v.mobile=d;v.phone=h;v.randomFlag=q;var u=m.find("input[name=defaultFlag]");if(u.length==1&&u[0].checked&&!u[0].disabled){v.defaultFlag=u.val()}v.t=new Date().getTime();new ec.ajax().get({url:domainShoppingConfig+g+"?_method="+o,data:v,dataType:"jsonp",timeout:20000,timeoutFunction:function(){alert("\u4fdd\u5b58\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},beforeSendFunction:ec.ui.loading.show,afterSendFunction:ec.ui.loading.hide,successFunction:function(w){if(!w.success){ec.showError(w);return}if(e.successFunction){e.successFunction(w.shoppingConfig,c)}}});return false};ec.addr.setDefault=function(d,b){var c=ec.util.cookie.get("sc_b");new ec.ajax().get({url:domainShoppingConfig+"/member/myAddresses/default.json?id="+d+"&_method=PUT&t="+new Date().getTime(),dataType:"jsonp",timeout:20000,timeoutFunction:function(){alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},beforeSendFunction:function(){ec.ui.loading.show({modal:false})},afterSendFunction:ec.ui.loading.hide,successFunction:function(e){if(!e.success){ec.showError(e);return}if(b.successFunction){b.successFunction(d)}}})};ec.addr.getAll=function(b){new ec.ajax().get({url:domainShoppingConfig+"/member/myAddresses.json",dataType:"jsonp",timeout:20000,timeoutFunction:function(){alert("\u64cd\u4f5c\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},beforeSendFunction:function(){ec.ui.loading.show({modal:false})},afterSendFunction:ec.ui.loading.hide,successFunction:function(c){if(!c.success){ec.showError(c);return}if(b.successFunction){b.successFunction(c)}}})};ec.addr.del=function(c,b){new ec.ajax().get({url:domainShoppingConfig+"/member/myAddresses/"+c+".json?_method=delete",dataType:"jsonp",timeout:10000,timeoutFunction:function(){alert("\u8bfb\u53d6\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5\uff01")},beforeSendFunction:ec.ui.loading.show,afterSendFunction:ec.ui.loading.hide,successFunction:function(d){if(!d.success){ec.showError(d);if(d.code=="default"){if(b.deleteDefault){b.deleteDefault(c)}}return}if(b.successFunction){b.successFunction(c)}}})};function base64_encode(f){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var d,c="",e=f.length;for(d=0;d<e-2;d+=3){c+=b.charAt(f.charCodeAt(d)>>>2);c+=b.charAt(((f.charCodeAt(d)&3)<<4)|(f.charCodeAt(d+1)>>>4));c+=b.charAt(((f.charCodeAt(d+1)&15)<<2)|(f.charCodeAt(d+2)>>>6));c+=b.charAt(f.charCodeAt(d+2)&63)}if(e%3===2){c+=b.charAt(f.charCodeAt(d)>>>2);c+=b.charAt(((f.charCodeAt(d)&3)<<4)|(f.charCodeAt(d+1)>>>4));c+=b.charAt(((f.charCodeAt(d+1)&15)<<2));c+="="}else{if(e%3===1){c+=b.charAt(f.charCodeAt(d)>>>2);c+=b.charAt(((f.charCodeAt(d)&3)<<4));c+="=="}}return c}function rc4_key(g){var e=Array(256);var f=Array(256);var d,b,c;for(d=0;d<256;d++){e[d]=g.charCodeAt(d%g.length);f[d]=d}for(d=0,b=0;d<256;d++){b=(b+f[d]+e[d])%256;c=f[d];f[d]=f[b];f[b]=c}return f}function rc4_do(h,g){var f=0,d=0,e;for(var b=0;b<h.length;b++){var f=(f+1)%256;var d=(d+g[f])%256;e=g[f];g[f]=g[d];g[d]=e;var c=(g[f]+(g[d]%256))%256;h[b]=h[b]^g[c]}return h}function rc4_str(f,e){e=decodeURIComponent(e);var c=rc4_key(f);var d=Array(e.length);for(var b=0;b<e.length;b++){d[b]=e.charCodeAt(b)}rc4_do(d,c);for(var b=0;b<d.length;b++){d[b]=String.fromCharCode(d[b])}return encodeURIComponent(d.join(""))}function rc4_str_base64(f,e){e=encodeURIComponent(e);var c=rc4_key(f);var d=Array(e.length);for(var b=0;b<e.length;b++){d[b]=e.charCodeAt(b)}rc4_do(d,c);for(var b=0;b<d.length;b++){d[b]=String.fromCharCode(d[b])}return base64_encode(d.join(""))}function base64_decode(j){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d,c,b,n,m,l,k,o,h=0,p=0,f="",g=[];if(!j){return j}j+="";do{n=e.indexOf(j.charAt(h++));m=e.indexOf(j.charAt(h++));l=e.indexOf(j.charAt(h++));k=e.indexOf(j.charAt(h++));o=n<<18|m<<12|l<<6|k;d=o>>16&255;c=o>>8&255;b=o&255;if(l==64){g[p++]=String.fromCharCode(d)}else{if(k==64){g[p++]=String.fromCharCode(d,c)}else{g[p++]=String.fromCharCode(d,c,b)}}}while(h<j.length);f=g.join("");return f.replace(/\0+$/,"")}function rc4_base64_str(f,e){e=base64_decode(e);var c=rc4_key(f);var d=Array(e.length);for(var b=0;b<e.length;b++){d[b]=e.charCodeAt(b)}rc4_do(d,c);for(var b=0;b<d.length;b++){d[b]=String.fromCharCode(d[b])}return decodeURIComponent(d.join("").replace(/\+/g,"%20"))}ec.pkg("ec.prescription");ec.prescription.getEstimateGetOrderTime=function(e,c,d,b){$.ajax({url:"/order/estimateTime.json?d="+c+"&p="+d+"&i="+b,dataType:"jsonp",timeout:20000,jsonpCallback:"jsonpEstimate",timeout:function(){e(null,true)},beforeSend:function(){ec.ui.loading.show({modal:false})},complete:ec.ui.loading.hide,success:function(f){e(f.info,false)},error:function(){e(null,true)}})};getPointBalance=function(){$.ajax({url:domainUc+"/point/queryUserPointBalanceDetail.json",data:{},timeout:10000,dataType:"jsonp",success:function(b){if(b.resultCode!="200"){$("#newPointlogin_status").hide();return}var c=b.pointBlance;$("#userPointBalance").text(c);if(parseInt(c)>parseInt(999)){$("#balanceicon_privilege").empty().html('<a href="/member/newpoint?t='+new Date().getTime()+'" target="_blank">'+999+"+</a>")}else{$("#balanceicon_privilege").empty().html('<a href="/member/newpoint?t='+new Date().getTime()+'" target="_blank">'+c+"</a>")}$("#balanceicon_myCenter").empty().html(c);$("#balanceicon_myCenter").removeClass("p-price-no")}})};ec.getLength=function(b){if(b==null){return 0}if(typeof b!="string"){b+=""}return b.replace(/[^\x00-\xff]/g,"01").length};ec.isChina=function(c){var b=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi;if(!b.exec(c)){return false}else{return true}};ec.cutstr=function(f,b){var d=0;var e=0;str_cut=new String();e=f.length;if(!ec.isChina(f)){b=b+6}for(var c=0;c<e;c++){a=f.charAt(c);d++;if(escape(a).length>4){d++}str_cut=str_cut.concat(a);if(d>=b){str_cut=str_cut.concat("...");return str_cut}}if(d<b){return f}};ec.checkBrowerIE=function(){var b=window.navigator.userAgent;if(!!window.ActiveXObject||"ActiveXObject" in window||b.indexOf("MSIE")!=-1||b.indexOf("rv:")!=-1){return true}else{return false}};ec.freemarkerDecode=function(b){b=b.replaceAll("&apos;","'");b=b.replaceAll("&amp;","&");b=b.replaceAll("&quot;",'"');b=b.replaceAll("&nbsp;"," ");b=b.replaceAll("&lt;","<");b=b.replaceAll("&gt;",">");b=b.replaceAll("\t","&nbsp;&nbsp;");return b};ec.searchHistoryUnique=function(e){var c=[];for(var d=0;d<e.length;d++){var b=e[d];if($.inArray(b,c)==-1){c.push(b)}}return c};ec.pkg("ec.search");var searchHistoryMaxLength=48;ec.search.querySearchHistory=function(){new ec.ajax().get({url:"/searchHistory.json?t="+new Date().getTime(),type:"get",dateType:"json",timeout:10000,timeoutFunction:function(){},successFunction:function(f){if(f.success!=undefined&&!f.success){return}var g=f.searchHistoryList;var e=[];var i;for(var d=0;d<g.length;d++){var c=g[d];var b=ec.getLength(c);var h=encodeURIComponent(c);e.push('<li><a href="/search?keyword='+h+'" data-value="'+h+'">');if(b>searchHistoryMaxLength){e.push($("<div/>").text(ec.cutstr(c,searchHistoryMaxLength)).html())}else{e.push($("<div/>").text(c).html())}e.push("</a></i>")}$("#search-history-list").html(e.join(""));$("#search-history").show()},errorFunction:function(b){}})};ec.search.deleteSearchHistory=function(){new ec.ajax().get({url:"/search/clearUp.json?t="+new Date().getTime(),type:"get",dateType:"json",timeout:10000,timeoutFunction:function(){},successFunction:function(b){if(b.success!=undefined&&!b.success){return}},errorFunction:function(b){}})};ec.account.privilege_updateProgress=function(k,g,c,b){if(k>=0&&g>=0&&c>=0){var d=k,j=g,l=c,e=(l-j)/(d-j),f=0;if(parseInt(l)>=parseInt(d)){$(".canvas-left div").css({transform:"rotateZ(0deg)",background:"#F05C20"});$(".canvas-right div").css({transform:"rotateZ(-39deg)"})}else{if(e>0.5){f=280*e-320;$(".canvas-left div").css({transform:"rotateZ(0deg)"});$(".canvas-right div").css({transform:"rotateZ("+f+"deg)"});if(e>0.7){$(".canvas-left div").css({background:"#F05C20"})}else{f=f+180;$(".canvas-left div").css({transform:"rotateZ("+f+"deg)",background:"-webkit-gradient(linear, 0 bottom, right 0, from(#F05C20), to(#F58555))"});$(".canvas-right div").css({background:"-webkit-gradient(linear, 0 bottom, right 0, from(#F58555), to(#F05C20))"})}}else{if(e<0.01&&e>0){e=0.01}f=265*e-125;$(".canvas-left div").css({transform:"rotateZ("+f+"deg)",background:"-webkit-gradient(linear, 0 bottom, 0 0, from(#F05C20), to(#F58555))"});$(".canvas-right div").css({transform:"rotateZ(-180deg)"})}}}var h=$("#user-vip-level-tips");if(b!=null){switch(b){case 0:vipColor="#999";h.attr("class","icon-vip-level-0");break;case 1:vipColor="#01abdf";h.attr("class","icon-vip-level-1");break;case 2:vipColor="#24ca43";h.attr("class","icon-vip-level-2");break;case 3:vipColor="#ffb710";h.attr("class","icon-vip-level-3");break;case 4:vipColor="#fc5d21";h.attr("class","icon-vip-level-4");break;case 5:vipColor="#fc3784";h.attr("class","icon-vip-level-5");break;default:vipColor="#999";h.attr("class","icon-vip-level-0");break}}};function getPtid(){var c=ec.util.cookie.get("uid");var b=ec.util.cookie.get("deviceid");if(c!=""&&c!=null){return b+"_"+c}else{return b}}function getTime(){var e=new Date();var k=e.getFullYear();var b=e.getMonth()+1;b=b<10?("0"+b):b;var j=e.getDate();j=j<10?("0"+j):j;var f=e.getHours();f=f<10?("0"+f):f;var i=e.getMinutes();var c=e.getSeconds();i=i<10?("0"+i):i;c=c<10?("0"+c):c;var g=""+k+b+j+f+i+c;return g}function pushBottonMsg(b,d,c,e){var f={UID:ec.util.cookie.get("uid"),TID:getPtid(),TIME:getTime(),CONTENT:{buttonName:b,SKUCode:d,bindId:c,click:"1"}};ec.code.addAnalytics({hicloud:true});_paq.push(["trackLink",e,"link",f])};
"use strict";var Slider=function(a){this.i=0;this.objid=a.objid||null;this.preclassname=a.preclassname||".btn-prev";this.nextclassname=a.nextclassname||".btn-next";this.listname=a.listname||".grid-list";this.listitem=a.listitem||"li";this.shownum=a.shownum||5.5;this.type=a.type||1;this.autoplay=a.autoplay||false;this.offset=a.offset||0};Slider.prototype={init:function(){var b=this;var a=b.set();if(b.autoplay){b.auto(a)}else{b.next(a);b.pre(a)}},auto:function(e){var d=this,c=null;$(d.listname).find(d.listitem).eq(0).clone().appendTo(d.listname);e.len+=1;var b=(e.itemHeight)*(e.len-1),a=function(){d.i++;if(Math.abs(parseInt(e.$grid.css("margin-top")))==b){e.$grid.css("margin-top",0);d.i=1}e.$grid.animate({"margin-top":"-"+(d.i*e.itemHeight*d.shownum)+"px"},500)};if(d.autoplay){c=setInterval(a,2000);e.$grid.hover(function(){clearInterval(c)},function(){c=setInterval(a,2000)})}},set:function(){var e=this,h=$(e.objid+" "+e.listitem),j=$(e.objid+" "+e.listname),i=$(e.objid+" "+e.preclassname),b=$(e.objid+" "+e.nextclassname),f=h.length,g=h.outerWidth(),a=h.outerHeight(),d=Math.ceil(f/e.shownum),c=0;switch(e.type){default:case 1:j.css("width",(g+1)*f+"px");break;case 2:j.css("height",(a)*f+"px");break;case 3:g=g+20;j.css("width",(g)*f+"px");break;case 4:g=g+50;j.css("width",(g)*f+"px");break;case 5:j.css("width",(g+1)*f+"px");if(f<=e.shownum){b.addClass("disabled")}else{b.removeClass("disabled")}break}return{$item:h,$grid:j,$pre:i,$next:b,len:f,itemWidth:g,itemHeight:a,num:d,offset:c}},pre:function(b){var a=this;b.$pre.bind("click",function(){if($(this).hasClass("disabled")){return}a.i--;a.offset-=a.shownum;if(a.i-1<0){b.$pre.addClass("disabled")}b.$next.removeClass("disabled");switch(a.type){default:case 1:b.$grid.animate({"margin-left":a.i==0?0:parseInt(b.$grid.css("margin-left"))+(b.itemWidth*a.shownum)+"px"},500);break;case 2:b.$grid.animate({"margin-top":a.i==0?0:parseInt(b.$grid.css("margin-top"))+(b.itemHeight*a.shownum)+"px"},500);break;case 3:case 4:if(a.offset<0){a.offset=0;b.$pre.addClass("disabled")}b.$grid.animate({"margin-left":"-"+(a.offset*b.itemWidth)+"px"},500);break;case 5:b.$grid.animate({"margin-left":a.i==0?0:parseInt(b.$grid.css("margin-left"))+(b.itemWidth*a.shownum)+"px"},500);break}})},next:function(b){var a=this;switch(a.type){case 3:case 4:if(a.offset+1>=b.num){b.$next.addClass("disabled")}break}b.$next.bind("click",function(){if($(this).hasClass("disabled")){return}a.i++;a.offset+=a.shownum;b.$pre.removeClass("disabled");switch(a.type){default:case 1:if(a.shownum>1){if(a.i+1==b.num){var d=parseInt(b.$grid.css("margin-left"));var c=(b.len-((a.i)*parseInt(a.shownum))-1/2)*b.itemWidth;b.$grid.animate({"margin-left":d-c+"px"},500)}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*parseInt(a.shownum))+"px"},500)}}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*a.shownum)+"px"},500)}if(a.i+1==b.num){b.$next.addClass("disabled")}break;case 2:b.$grid.animate({"margin-top":"-"+(a.i*b.itemHeight*a.shownum)+"px"},500);if(a.i+1==b.num){b.$next.addClass("disabled")}break;case 3:case 4:if(a.offset+a.shownum>b.len){a.offset=b.len-a.shownum;b.$grid.animate({"margin-left":"-"+(a.offset*b.itemWidth)+"px"},500);b.$next.addClass("disabled")}else{b.$grid.animate({"margin-left":"-"+(a.offset*b.itemWidth)+"px"},500)}break;case 5:if(a.shownum>1){if(a.i+1==b.num){var d=parseInt(b.$grid.css("margin-left"));var c=(b.len-((a.i)*parseInt(a.shownum)))*b.itemWidth;b.$grid.animate({"margin-left":d-c+"px"},500)}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*parseInt(a.shownum))+"px"},500)}}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*a.shownum)+"px"},500)}if(a.i+1==b.num){b.$next.addClass("disabled")}break}})}};
window.Swiper=function(aa,ab){function ac(ae,af){return document.querySelectorAll?(af||document).querySelectorAll(ae):jQuery(ae,af)}function ad(ae){return"[object Array]"===Object.prototype.toString.apply(ae)?!0:!1}function y(){var ae=e-h;return ab.freeMode&&(ae=e-h),ab.slidesPerView>b.slides.length&&!ab.centeredSlides&&(ae=0),0>ae&&(ae=0),ae}function z(){function ae(am){var aj,ak,al=function(){"undefined"!=typeof b&&null!==b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.reInit(),ab.onImagesReady&&b.fireCallback(ab.onImagesReady,b)))};am.complete?al():(ak=am.currentSrc||am.getAttribute("src"),ak?(aj=new Image,aj.onload=al,aj.onerror=al,aj.src=ak):al())}var af=b.h.addEventListener,ag="wrapper"===ab.eventTarget?b.wrapper:b.container;if(b.browser.ie10||b.browser.ie11?(af(ag,b.touchEvents.touchStart,J),af(document,b.touchEvents.touchMove,K),af(document,b.touchEvents.touchEnd,L)):(b.support.touch&&(af(ag,"touchstart",J),af(ag,"touchmove",K),af(ag,"touchend",L)),ab.simulateTouch&&(af(ag,"mousedown",J),af(document,"mousemove",K),af(document,"mouseup",L))),ab.autoResize&&af(window,"resize",b.resizeFix),A(),b._wheelEvent=!1,ab.mousewheelControl){if(void 0!==document.onmousewheel&&(b._wheelEvent="mousewheel"),!b._wheelEvent){try{new WheelEvent("wheel"),b._wheelEvent="wheel"}catch(ah){}}b._wheelEvent||(b._wheelEvent="DOMMouseScroll"),b._wheelEvent&&af(b.container,b._wheelEvent,D)}if(ab.keyboardControl&&af(document,"keydown",C),ab.updateOnImagesReady){b.imagesToLoad=ac("img",b.container);for(var ai=0;ai<b.imagesToLoad.length;ai++){ae(b.imagesToLoad[ai])}}}function A(){var ae,af=b.h.addEventListener;if(ab.preventLinks){var ag=ac("a",b.container);for(ae=0;ae<ag.length;ae++){af(ag[ae],"click",H)}}if(ab.releaseFormElements){var ah=ac("input, textarea, select",b.container);for(ae=0;ae<ah.length;ae++){af(ah[ae],b.touchEvents.touchStart,I,!0),b.support.touch&&ab.simulateTouch&&af(ah[ae],"mousedown",I,!0)}}if(ab.onSlideClick){for(ae=0;ae<b.slides.length;ae++){af(b.slides[ae],"click",E)}}if(ab.onSlideTouch){for(ae=0;ae<b.slides.length;ae++){af(b.slides[ae],b.touchEvents.touchStart,F)}}}function B(){var ae,af=b.h.removeEventListener;if(ab.onSlideClick){for(ae=0;ae<b.slides.length;ae++){af(b.slides[ae],"click",E)}}if(ab.onSlideTouch){for(ae=0;ae<b.slides.length;ae++){af(b.slides[ae],b.touchEvents.touchStart,F)}}if(ab.releaseFormElements){var ag=ac("input, textarea, select",b.container);for(ae=0;ae<ag.length;ae++){af(ag[ae],b.touchEvents.touchStart,I,!0),b.support.touch&&ab.simulateTouch&&af(ag[ae],"mousedown",I,!0)}}if(ab.preventLinks){var ah=ac("a",b.container);for(ae=0;ae<ah.length;ae++){af(ah[ae],"click",H)}}}function C(al){var am=al.keyCode||al.charCode;if(!(al.shiftKey||al.altKey||al.ctrlKey||al.metaKey)){if(37===am||39===am||38===am||40===am){for(var an=!1,ao=b.h.getOffset(b.container),ae=b.h.windowScroll().left,af=b.h.windowScroll().top,ag=b.h.windowWidth(),ah=b.h.windowHeight(),ai=[[ao.left,ao.top],[ao.left+b.width,ao.top],[ao.left,ao.top+b.height],[ao.left+b.width,ao.top+b.height]],aj=0;aj<ai.length;aj++){var ak=ai[aj];ak[0]>=ae&&ak[0]<=ae+ag&&ak[1]>=af&&ak[1]<=af+ah&&(an=!0)}if(!an){return}}l?((37===am||39===am)&&(al.preventDefault?al.preventDefault():al.returnValue=!1),39===am&&b.swipeNext(),37===am&&b.swipePrev()):((38===am||40===am)&&(al.preventDefault?al.preventDefault():al.returnValue=!1),40===am&&b.swipeNext(),38===am&&b.swipePrev())}}function D(ae){var af=b._wheelEvent,ag=0;if(ae.detail){ag=-ae.detail}else{if("mousewheel"===af){if(ab.mousewheelControlForceToAxis){if(l){if(!(Math.abs(ae.wheelDeltaX)>Math.abs(ae.wheelDeltaY))){return}ag=ae.wheelDeltaX}else{if(!(Math.abs(ae.wheelDeltaY)>Math.abs(ae.wheelDeltaX))){return}ag=ae.wheelDeltaY}}else{ag=ae.wheelDelta}}else{if("DOMMouseScroll"===af){ag=-ae.detail}else{if("wheel"===af){if(ab.mousewheelControlForceToAxis){if(l){if(!(Math.abs(ae.deltaX)>Math.abs(ae.deltaY))){return}ag=-ae.deltaX}else{if(!(Math.abs(ae.deltaY)>Math.abs(ae.deltaX))){return}ag=-ae.deltaY}}else{ag=Math.abs(ae.deltaX)>Math.abs(ae.deltaY)?-ae.deltaX:-ae.deltaY}}}}}if(ab.freeMode){var ah=b.getWrapperTranslate()+ag;if(ah>0&&(ah=0),ah<-y()&&(ah=-y()),b.setWrapperTransition(0),b.setWrapperTranslate(ah),b.updateActiveSlide(ah),0===ah||ah===-y()){return}}else{(new Date).getTime()-t>60&&(0>ag?b.swipeNext():b.swipePrev()),t=(new Date).getTime()}return ab.autoplay&&b.stopAutoplay(!0),ae.preventDefault?ae.preventDefault():ae.returnValue=!1,!1}function E(ae){b.allowSlideClick&&(G(ae),b.fireCallback(ab.onSlideClick,b,ae))}function F(ae){G(ae),b.fireCallback(ab.onSlideTouch,b,ae)}function G(ae){if(ae.currentTarget){b.clickedSlide=ae.currentTarget}else{var af=ae.srcElement;do{if(af.className.indexOf(ab.slideClass)>-1){break}af=af.parentNode}while(af);b.clickedSlide=af}b.clickedSlideIndex=b.slides.indexOf(b.clickedSlide),b.clickedSlideLoopIndex=b.clickedSlideIndex-(b.loopedSlides||0)}function H(ae){return b.allowLinks?void 0:(ae.preventDefault?ae.preventDefault():ae.returnValue=!1,ab.preventLinksPropagation&&"stopPropagation" in ae&&ae.stopPropagation(),!1)}function I(ae){return ae.stopPropagation?ae.stopPropagation():ae.returnValue=!1,!1}function J(ae){if(ab.preventLinks&&(b.allowLinks=!0),b.isTouched||ab.onlyExternal){return !1}var af=ae.target||ae.srcElement;document.activeElement&&document.activeElement!==document.body&&document.activeElement!==af&&document.activeElement.blur();var ag="input select textarea".split(" ");if(ab.noSwiping&&af&&N(af)){return !1}if(Y=!1,b.isTouched=!0,U="touchstart"===ae.type,!U&&"which" in ae&&3===ae.which){return b.isTouched=!1,!1}if(!U||1===ae.targetTouches.length){b.callPlugins("onTouchStartBegin"),!U&&!b.isAndroid&&ag.indexOf(af.tagName.toLowerCase())<0&&(ae.preventDefault?ae.preventDefault():ae.returnValue=!1);var ah=U?ae.targetTouches[0].pageX:ae.pageX||ae.clientX,ai=U?ae.targetTouches[0].pageY:ae.pageY||ae.clientY;b.touches.startX=b.touches.currentX=ah,b.touches.startY=b.touches.currentY=ai,b.touches.start=b.touches.current=l?ah:ai,b.setWrapperTransition(0),b.positions.start=b.positions.current=b.getWrapperTranslate(),b.setWrapperTranslate(b.positions.start),b.times.start=(new Date).getTime(),g=void 0,ab.moveStartThreshold>0&&(v=!1),ab.onTouchStart&&b.fireCallback(ab.onTouchStart,b,ae),b.callPlugins("onTouchStartEnd")}}function K(af){if(b.isTouched&&!ab.onlyExternal&&(!U||"mousemove"!==af.type)){var ak=U?af.targetTouches[0].pageX:af.pageX||af.clientX,ae=U?af.targetTouches[0].pageY:af.pageY||af.clientY;if("undefined"==typeof g&&l&&(g=!!(g||Math.abs(ae-b.touches.startY)>Math.abs(ak-b.touches.startX))),"undefined"!=typeof g||l||(g=!!(g||Math.abs(ae-b.touches.startY)<Math.abs(ak-b.touches.startX))),g){return void (b.isTouched=!1)}if(l){if(!ab.swipeToNext&&ak<b.touches.startX||!ab.swipeToPrev&&ak>b.touches.startX){return}}else{if(!ab.swipeToNext&&ae<b.touches.startY||!ab.swipeToPrev&&ae>b.touches.startY){return}}if(af.assignedToSwiper){return void (b.isTouched=!1)}if(af.assignedToSwiper=!0,ab.preventLinks&&(b.allowLinks=!1),ab.onSlideClick&&(b.allowSlideClick=!1),ab.autoplay&&b.stopAutoplay(!0),!U||1===af.touches.length){if(b.isMoved||(b.callPlugins("onTouchMoveStart"),ab.loop&&(b.fixLoop(),b.positions.start=b.getWrapperTranslate()),ab.onTouchMoveStart&&b.fireCallback(ab.onTouchMoveStart,b)),b.isMoved=!0,af.preventDefault?af.preventDefault():af.returnValue=!1,b.touches.current=l?ak:ae,b.positions.current=(b.touches.current-b.touches.start)*ab.touchRatio+b.positions.start,b.positions.current>0&&ab.onResistanceBefore&&b.fireCallback(ab.onResistanceBefore,b,b.positions.current),b.positions.current<-y()&&ab.onResistanceAfter&&b.fireCallback(ab.onResistanceAfter,b,Math.abs(b.positions.current+y())),ab.resistance&&"100%"!==ab.resistance){var ag;if(b.positions.current>0&&(ag=1-b.positions.current/h/2,b.positions.current=0.5>ag?h/2:b.positions.current*ag),b.positions.current<-y()){var ah=(b.touches.current-b.touches.start)*ab.touchRatio+(y()+b.positions.start);ag=(h+ah)/h;var ai=b.positions.current-ah*(1-ag)/2,aj=-y()-h/2;b.positions.current=aj>ai||0>=ag?aj:ai}}if(ab.resistance&&"100%"===ab.resistance&&(b.positions.current>0&&(!ab.freeMode||ab.freeModeFluid)&&(b.positions.current=0),b.positions.current<-y()&&(!ab.freeMode||ab.freeModeFluid)&&(b.positions.current=-y())),!ab.followFinger){return}if(ab.moveStartThreshold){if(Math.abs(b.touches.current-b.touches.start)>ab.moveStartThreshold||v){if(!v){return v=!0,void (b.touches.start=b.touches.current)}b.setWrapperTranslate(b.positions.current)}else{b.positions.current=b.positions.start}}else{b.setWrapperTranslate(b.positions.current)}return(ab.freeMode||ab.watchActiveIndex)&&b.updateActiveSlide(b.positions.current),ab.grabCursor&&(b.container.style.cursor="move",b.container.style.cursor="grabbing",b.container.style.cursor="-moz-grabbin",b.container.style.cursor="-webkit-grabbing"),w||(w=b.touches.current),x||(x=(new Date).getTime()),b.velocity=(b.touches.current-w)/((new Date).getTime()-x)/2,Math.abs(b.touches.current-w)<2&&(b.velocity=0),w=b.touches.current,x=(new Date).getTime(),b.callPlugins("onTouchMoveEnd"),ab.onTouchMove&&b.fireCallback(ab.onTouchMove,b,af),!1}}}function L(ar){if(g&&b.swipeReset(),!ab.onlyExternal&&b.isTouched){b.isTouched=!1,ab.grabCursor&&(b.container.style.cursor="move",b.container.style.cursor="grab",b.container.style.cursor="-moz-grab",b.container.style.cursor="-webkit-grab"),b.positions.current||0===b.positions.current||(b.positions.current=b.positions.start),ab.followFinger&&b.setWrapperTranslate(b.positions.current),b.times.end=(new Date).getTime(),b.touches.diff=b.touches.current-b.touches.start,b.touches.abs=Math.abs(b.touches.diff),b.positions.diff=b.positions.current-b.positions.start,b.positions.abs=Math.abs(b.positions.diff);var au=b.positions.diff,ae=b.positions.abs,af=b.times.end-b.times.start;5>ae&&300>af&&b.allowLinks===!1&&(ab.freeMode||0===ae||b.swipeReset(),ab.preventLinks&&(b.allowLinks=!0),ab.onSlideClick&&(b.allowSlideClick=!0)),setTimeout(function(){"undefined"!=typeof b&&null!==b&&(ab.preventLinks&&(b.allowLinks=!0),ab.onSlideClick&&(b.allowSlideClick=!0))},100);var ag=y();if(!b.isMoved&&ab.freeMode){return b.isMoved=!1,ab.onTouchEnd&&b.fireCallback(ab.onTouchEnd,b,ar),void b.callPlugins("onTouchEnd")}if(!b.isMoved||b.positions.current>0||b.positions.current<-ag){return b.swipeReset(),ab.onTouchEnd&&b.fireCallback(ab.onTouchEnd,b,ar),void b.callPlugins("onTouchEnd")}if(b.isMoved=!1,ab.freeMode){if(ab.freeModeFluid){var ah,aj=1000*ab.momentumRatio,al=b.velocity*aj,am=b.positions.current+al,an=!1,ao=20*Math.abs(b.velocity)*ab.momentumBounceRatio;-ag>am&&(ab.momentumBounce&&b.support.transitions?(-ao>am+ag&&(am=-ag-ao),ah=-ag,an=!0,Y=!0):am=-ag),am>0&&(ab.momentumBounce&&b.support.transitions?(am>ao&&(am=ao),ah=0,an=!0,Y=!0):am=0),0!==b.velocity&&(aj=Math.abs((am-b.positions.current)/b.velocity)),b.setWrapperTranslate(am),b.setWrapperTransition(aj),ab.momentumBounce&&an&&b.wrapperTransitionEnd(function(){Y&&(ab.onMomentumBounce&&b.fireCallback(ab.onMomentumBounce,b),b.callPlugins("onMomentumBounce"),b.setWrapperTranslate(ah),b.setWrapperTransition(300))}),b.updateActiveSlide(am)}return(!ab.freeModeFluid||af>=300)&&b.updateActiveSlide(b.positions.current),ab.onTouchEnd&&b.fireCallback(ab.onTouchEnd,b,ar),void b.callPlugins("onTouchEnd")}f=0>au?"toNext":"toPrev","toNext"===f&&300>=af&&(30>ae||!ab.shortSwipes?b.swipeReset():b.swipeNext(!0,!0)),"toPrev"===f&&300>=af&&(30>ae||!ab.shortSwipes?b.swipeReset():b.swipePrev(!0,!0));var ap=0;if("auto"===ab.slidesPerView){for(var aq,at=Math.abs(b.getWrapperTranslate()),ai=0,ak=0;ak<b.slides.length;ak++){if(aq=l?b.slides[ak].getWidth(!0,ab.roundLengths):b.slides[ak].getHeight(!0,ab.roundLengths),ai+=aq,ai>at){ap=aq;break}}ap>h&&(ap=h)}else{ap=d*ab.slidesPerView}"toNext"===f&&af>300&&(ae>=ap*ab.longSwipesRatio?b.swipeNext(!0,!0):b.swipeReset()),"toPrev"===f&&af>300&&(ae>=ap*ab.longSwipesRatio?b.swipePrev(!0,!0):b.swipeReset()),ab.onTouchEnd&&b.fireCallback(ab.onTouchEnd,b,ar),b.callPlugins("onTouchEnd")}}function M(ae,af){return ae&&ae.getAttribute("class")&&ae.getAttribute("class").indexOf(af)>-1}function N(ae){var af=!1;do{M(ae,ab.noSwipingClass)&&(af=!0),ae=ae.parentElement}while(!af&&ae.parentElement&&!M(ae,ab.wrapperClass));return !af&&M(ae,ab.wrapperClass)&&M(ae,ab.noSwipingClass)&&(af=!0),af}function O(ag,ah){var ae,af=document.createElement("div");return af.innerHTML=ah,ae=af.firstChild,ae.className+=" "+ag,ae.outerHTML}function P(am,an,ae){function af(){var ap=+new Date,ao=ap-ah;ai+=aj*ao/(1000/60),al="toNext"===ak?ai>am:am>ai,al?(b.setWrapperTranslate(Math.ceil(ai)),b._DOMAnimating=!0,window.setTimeout(function(){af()},1000/60)):(ab.onSlideChangeEnd&&("to"===an?ae.runCallbacks===!0&&b.fireCallback(ab.onSlideChangeEnd,b,ak):b.fireCallback(ab.onSlideChangeEnd,b,ak)),b.setWrapperTranslate(am),b._DOMAnimating=!1)}var ag="to"===an&&ae.speed>=0?ae.speed:ab.speed,ah=+new Date;if(b.support.transitions||!ab.DOMAnimation){b.setWrapperTranslate(am),b.setWrapperTransition(ag)}else{var ai=b.getWrapperTranslate(),aj=Math.ceil((am-ai)/ag*(1000/60)),ak=ai>am?"toNext":"toPrev",al="toNext"===ak?ai>am:am>ai;if(b._DOMAnimating){return}af()}b.updateActiveSlide(am),ab.onSlideNext&&"next"===an&&ae.runCallbacks===!0&&b.fireCallback(ab.onSlideNext,b,am),ab.onSlidePrev&&"prev"===an&&ae.runCallbacks===!0&&b.fireCallback(ab.onSlidePrev,b,am),ab.onSlideReset&&"reset"===an&&ae.runCallbacks===!0&&b.fireCallback(ab.onSlideReset,b,am),"next"!==an&&"prev"!==an&&"to"!==an||ae.runCallbacks!==!0||Q(an)}function Q(ae){if(b.callPlugins("onSlideChangeStart"),ab.onSlideChangeStart){if(ab.queueStartCallbacks&&b.support.transitions){if(b._queueStartCallbacks){return}b._queueStartCallbacks=!0,b.fireCallback(ab.onSlideChangeStart,b,ae),b.wrapperTransitionEnd(function(){b._queueStartCallbacks=!1})}else{b.fireCallback(ab.onSlideChangeStart,b,ae)}}if(ab.onSlideChangeEnd){if(b.support.transitions){if(ab.queueEndCallbacks){if(b._queueEndCallbacks){return}b._queueEndCallbacks=!0,b.wrapperTransitionEnd(function(af){b.fireCallback(ab.onSlideChangeEnd,af,ae)})}else{b.wrapperTransitionEnd(function(af){b.fireCallback(ab.onSlideChangeEnd,af,ae)})}}else{ab.DOMAnimation||setTimeout(function(){b.fireCallback(ab.onSlideChangeEnd,b,ae)},10)}}}function R(){var ae=b.paginationButtons;if(ae){for(var af=0;af<ae.length;af++){b.h.removeEventListener(ae[af],"click",T)}}}function S(){var ae=b.paginationButtons;if(ae){for(var af=0;af<ae.length;af++){b.h.addEventListener(ae[af],"click",T)}}}function T(ae){for(var af,ag=ae.target||ae.srcElement,ah=b.paginationButtons,ai=0;ai<ah.length;ai++){ag===ah[ai]&&(af=ai)}ab.autoplay&&b.stopAutoplay(!0),b.swipeTo(af)}function V(){W=setTimeout(function(){ab.loop?(b.fixLoop(),b.swipeNext(!0,!0)):b.swipeNext(!0,!0)||(ab.autoplayStopOnLast?(clearTimeout(W),W=void 0):b.swipeTo(0)),b.wrapperTransitionEnd(function(){"undefined"!=typeof W&&V()})},ab.autoplay)}function X(){b.calcSlides(),ab.loader.slides.length>0&&0===b.slides.length&&b.loadSlides(),ab.loop&&b.createLoop(),b.init(),z(),ab.pagination&&b.createPagination(!0),ab.loop||ab.initialSlide>0?b.swipeTo(ab.initialSlide,0,!1):b.updateActiveSlide(0),ab.autoplay&&b.startAutoplay(),b.centerIndex=b.activeIndex,ab.onSwiperCreated&&b.fireCallback(ab.onSwiperCreated,b),b.callPlugins("onSwiperCreated")}if(!document.body.outerHTML&&document.body.__defineGetter__&&HTMLElement){var a=HTMLElement.prototype;a.__defineGetter__&&a.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(ae){return this.el=ae,this.getPropertyValue=function(af){var ag=/(\-([a-z]){1})/g;return"float"===af&&(af="styleFloat"),ag.test(af)&&(af=af.replace(ag,function(){return arguments[2].toUpperCase()})),ae.currentStyle[af]?ae.currentStyle[af]:null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(ag,ah){for(var ae=ah||0,af=this.length;af>ae;ae++){if(this[ae]===ag){return ae}}return -1}),(document.querySelectorAll||window.jQuery)&&"undefined"!=typeof aa&&(aa.nodeType||0!==ac(aa).length)){var b=this;b.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0},b.positions={start:0,abs:0,diff:0,current:0},b.times={start:0,end:0},b.id=(new Date).getTime(),b.container=aa.nodeType?aa:ac(aa)[0],b.isTouched=!1,b.isMoved=!1,b.activeIndex=0,b.centerIndex=0,b.activeLoaderIndex=0,b.activeLoopIndex=0,b.previousIndex=null,b.velocity=0,b.snapGrid=[],b.slidesGrid=[],b.imagesToLoad=[],b.imagesLoaded=0,b.wrapperLeft=0,b.wrapperRight=0,b.wrapperTop=0,b.wrapperBottom=0,b.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>=0;var c,d,e,f,g,h,i={eventTarget:"wrapper",mode:"horizontal",touchRatio:1,speed:300,freeMode:!1,freeModeFluid:!1,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,slidesPerViewFit:!0,simulateTouch:!0,followFinger:!0,shortSwipes:!0,longSwipesRatio:0.5,moveStartThreshold:!1,onlyExternal:!1,createPagination:!0,pagination:!1,paginationElement:"span",paginationClickable:!1,paginationAsRange:!0,resistance:!0,scrollContainer:!1,preventLinks:!0,preventLinksPropagation:!1,noSwiping:!1,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:!1,mousewheelControl:!1,mousewheelControlForceToAxis:!1,useCSS3Transforms:!0,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,loop:!1,loopAdditionalSlides:0,roundLengths:!1,calculateHeight:!1,cssWidthAndHeight:!1,updateOnImagesReady:!0,releaseFormElements:!0,watchActiveIndex:!1,visibilityFullFit:!1,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:!1,queueStartCallbacks:!1,queueEndCallbacks:!1,autoResize:!0,resizeReInit:!1,DOMAnimation:!0,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:!1},swipeToPrev:!0,swipeToNext:!0,slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};ab=ab||{};for(var j in i){if(j in ab&&"object"==typeof ab[j]){for(var k in i[j]){k in ab[j]||(ab[j][k]=i[j][k])}}else{j in ab||(ab[j]=i[j])}}b.params=ab,ab.scrollContainer&&(ab.freeMode=!0,ab.freeModeFluid=!0),ab.loop&&(ab.resistance="100%");var l="horizontal"===ab.mode,m=["mousedown","mousemove","mouseup"];b.browser.ie10&&(m=["MSPointerDown","MSPointerMove","MSPointerUp"]),b.browser.ie11&&(m=["pointerdown","pointermove","pointerup"]),b.touchEvents={touchStart:b.support.touch||!ab.simulateTouch?"touchstart":m[0],touchMove:b.support.touch||!ab.simulateTouch?"touchmove":m[1],touchEnd:b.support.touch||!ab.simulateTouch?"touchend":m[2]};for(var n=b.container.childNodes.length-1;n>=0;n--){if(b.container.childNodes[n].className){for(var o=b.container.childNodes[n].className.split(/\s+/),p=0;p<o.length;p++){o[p]===ab.wrapperClass&&(c=b.container.childNodes[n])}}}b.wrapper=c,b._extendSwiperSlide=function(ae){return ae.append=function(){return ab.loop?ae.insertAfter(b.slides.length-b.loopedSlides):(b.wrapper.appendChild(ae),b.reInit()),ae},ae.prepend=function(){return ab.loop?(b.wrapper.insertBefore(ae,b.slides[b.loopedSlides]),b.removeLoopedSlides(),b.calcSlides(),b.createLoop()):b.wrapper.insertBefore(ae,b.wrapper.firstChild),b.reInit(),ae},ae.insertAfter=function(ag){if("undefined"==typeof ag){return !1}var af;return ab.loop?(af=b.slides[ag+1+b.loopedSlides],af?b.wrapper.insertBefore(ae,af):b.wrapper.appendChild(ae),b.removeLoopedSlides(),b.calcSlides(),b.createLoop()):(af=b.slides[ag+1],b.wrapper.insertBefore(ae,af)),b.reInit(),ae},ae.clone=function(){return b._extendSwiperSlide(ae.cloneNode(!0))},ae.remove=function(){b.wrapper.removeChild(ae),b.reInit()},ae.html=function(af){return"undefined"==typeof af?ae.innerHTML:(ae.innerHTML=af,ae)},ae.index=function(){for(var af,ag=b.slides.length-1;ag>=0;ag--){ae===b.slides[ag]&&(af=ag)}return af},ae.isActive=function(){return ae.index()===b.activeIndex?!0:!1},ae.swiperSlideDataStorage||(ae.swiperSlideDataStorage={}),ae.getData=function(af){return ae.swiperSlideDataStorage[af]},ae.setData=function(af,ag){return ae.swiperSlideDataStorage[af]=ag,ae},ae.data=function(af,ag){return"undefined"==typeof ag?ae.getAttribute("data-"+af):(ae.setAttribute("data-"+af,ag),ae)},ae.getWidth=function(af,ag){return b.h.getWidth(ae,af,ag)},ae.getHeight=function(af,ag){return b.h.getHeight(ae,af,ag)},ae.getOffset=function(){return b.h.getOffset(ae)},ae},b.calcSlides=function(ae){var af=b.slides?b.slides.length:!1;b.slides=[],b.displaySlides=[];for(var ag=0;ag<b.wrapper.childNodes.length;ag++){if(b.wrapper.childNodes[ag].className){for(var ah=b.wrapper.childNodes[ag].className,ai=ah.split(/\s+/),aj=0;aj<ai.length;aj++){ai[aj]===ab.slideClass&&b.slides.push(b.wrapper.childNodes[ag])}}}for(ag=b.slides.length-1;ag>=0;ag--){b._extendSwiperSlide(b.slides[ag])}af!==!1&&(af!==b.slides.length||ae)&&(B(),A(),b.updateActiveSlide(),b.params.pagination&&b.createPagination(),b.callPlugins("numberOfSlidesChanged"))},b.createSlide=function(ae,af,ag){af=af||b.params.slideClass,ag=ag||ab.slideElement;var ah=document.createElement(ag);return ah.innerHTML=ae||"",ah.className=af,b._extendSwiperSlide(ah)},b.appendSlide=function(af,ag,ae){return af?af.nodeType?b._extendSwiperSlide(af).append():b.createSlide(af,ag,ae).append():void 0},b.prependSlide=function(af,ag,ae){return af?af.nodeType?b._extendSwiperSlide(af).prepend():b.createSlide(af,ag,ae).prepend():void 0},b.insertSlideAfter=function(ag,ah,ae,af){return"undefined"==typeof ag?!1:ah.nodeType?b._extendSwiperSlide(ah).insertAfter(ag):b.createSlide(ah,ae,af).insertAfter(ag)},b.removeSlide=function(ae){if(b.slides[ae]){if(ab.loop){if(!b.slides[ae+b.loopedSlides]){return !1}b.slides[ae+b.loopedSlides].remove(),b.removeLoopedSlides(),b.calcSlides(),b.createLoop()}else{b.slides[ae].remove()}return !0}return !1},b.removeLastSlide=function(){return b.slides.length>0?(ab.loop?(b.slides[b.slides.length-1-b.loopedSlides].remove(),b.removeLoopedSlides(),b.calcSlides(),b.createLoop()):b.slides[b.slides.length-1].remove(),!0):!1},b.removeAllSlides=function(){for(var ae=b.slides.length,af=b.slides.length-1;af>=0;af--){b.slides[af].remove(),af===ae-1&&b.setWrapperTranslate(0)}},b.getSlide=function(ae){return b.slides[ae]},b.getLastSlide=function(){return b.slides[b.slides.length-1]},b.getFirstSlide=function(){return b.slides[0]},b.activeSlide=function(){return b.slides[b.activeIndex]},b.fireCallback=function(){var ae=arguments[0];if("[object Array]"===Object.prototype.toString.call(ae)){for(var af=0;af<ae.length;af++){"function"==typeof ae[af]&&ae[af](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}else{"[object String]"===Object.prototype.toString.call(ae)?ab["on"+ae]&&b.fireCallback(ab["on"+ae],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},b.addCallback=function(ag,ah){var ae,af=this;return af.params["on"+ag]?ad(this.params["on"+ag])?this.params["on"+ag].push(ah):"function"==typeof this.params["on"+ag]?(ae=this.params["on"+ag],this.params["on"+ag]=[],this.params["on"+ag].push(ae),this.params["on"+ag].push(ah)):void 0:(this.params["on"+ag]=[],this.params["on"+ag].push(ah))},b.removeCallbacks=function(ae){b.params["on"+ae]&&(b.params["on"+ae]=null)};var q=[];for(var r in b.plugins){if(ab[r]){var s=b.plugins[r](b,ab[r]);s&&q.push(s)}}b.callPlugins=function(af,ag){ag||(ag={});for(var ae=0;ae<q.length;ae++){af in q[ae]&&q[ae][af](ag)}},!b.browser.ie10&&!b.browser.ie11||ab.onlyExternal||b.wrapper.classList.add("swiper-wp8-"+(l?"horizontal":"vertical")),ab.freeMode&&(b.container.className+=" swiper-free-mode"),b.initialized=!1,b.init=function(ae,af){var ag=b.h.getWidth(b.container,!1,ab.roundLengths),ah=b.h.getHeight(b.container,!1,ab.roundLengths);if(ag!==b.width||ah!==b.height||ae){b.width=ag,b.height=ah;var ai,aj,am,ao,aq,ar,at;h=l?ag:ah;var au=b.wrapper;if(ae&&b.calcSlides(af),"auto"===ab.slidesPerView){var av=0,aw=0;ab.slidesOffset>0&&(au.style.paddingLeft="",au.style.paddingRight="",au.style.paddingTop="",au.style.paddingBottom=""),au.style.width="",au.style.height="",ab.offsetPxBefore>0&&(l?b.wrapperLeft=ab.offsetPxBefore:b.wrapperTop=ab.offsetPxBefore),ab.offsetPxAfter>0&&(l?b.wrapperRight=ab.offsetPxAfter:b.wrapperBottom=ab.offsetPxAfter),ab.centeredSlides&&(l?(b.wrapperLeft=(h-this.slides[0].getWidth(!0,ab.roundLengths))/2,b.wrapperRight=(h-b.slides[b.slides.length-1].getWidth(!0,ab.roundLengths))/2):(b.wrapperTop=(h-b.slides[0].getHeight(!0,ab.roundLengths))/2,b.wrapperBottom=(h-b.slides[b.slides.length-1].getHeight(!0,ab.roundLengths))/2)),l?(b.wrapperLeft>=0&&(au.style.paddingLeft=b.wrapperLeft+"px"),b.wrapperRight>=0&&(au.style.paddingRight=b.wrapperRight+"px")):(b.wrapperTop>=0&&(au.style.paddingTop=b.wrapperTop+"px"),b.wrapperBottom>=0&&(au.style.paddingBottom=b.wrapperBottom+"px")),ar=0;var ax=0;for(b.snapGrid=[],b.slidesGrid=[],am=0,at=0;at<b.slides.length;at++){ai=b.slides[at].getWidth(!0,ab.roundLengths),aj=b.slides[at].getHeight(!0,ab.roundLengths),ab.calculateHeight&&(am=Math.max(am,aj));var ay=l?ai:aj;if(ab.centeredSlides){var ak=at===b.slides.length-1?0:b.slides[at+1].getWidth(!0,ab.roundLengths),al=at===b.slides.length-1?0:b.slides[at+1].getHeight(!0,ab.roundLengths),an=l?ak:al;if(ay>h){if(ab.slidesPerViewFit){b.snapGrid.push(ar+b.wrapperLeft),b.snapGrid.push(ar+ay-h+b.wrapperLeft)}else{for(var ap=0;ap<=Math.floor(ay/(h+b.wrapperLeft));ap++){b.snapGrid.push(0===ap?ar+b.wrapperLeft:ar+b.wrapperLeft+h*ap)}}b.slidesGrid.push(ar+b.wrapperLeft)}else{b.snapGrid.push(ax),b.slidesGrid.push(ax)}ax+=ay/2+an/2}else{if(ay>h){if(ab.slidesPerViewFit){b.snapGrid.push(ar),b.snapGrid.push(ar+ay-h)}else{if(0!==h){for(var az=0;az<=Math.floor(ay/h);az++){b.snapGrid.push(ar+h*az)}}else{b.snapGrid.push(ar)}}}else{b.snapGrid.push(ar)}b.slidesGrid.push(ar)}ar+=ay,av+=ai,aw+=aj}ab.calculateHeight&&(b.height=am),l?(e=av+b.wrapperRight+b.wrapperLeft,ab.cssWidthAndHeight&&"height"!==ab.cssWidthAndHeight||(au.style.width=av+"px"),ab.cssWidthAndHeight&&"width"!==ab.cssWidthAndHeight||(au.style.height=b.height+"px")):(ab.cssWidthAndHeight&&"height"!==ab.cssWidthAndHeight||(au.style.width=b.width+"px"),ab.cssWidthAndHeight&&"width"!==ab.cssWidthAndHeight||(au.style.height=aw+"px"),e=aw+b.wrapperTop+b.wrapperBottom)}else{if(ab.scrollContainer){au.style.width="",au.style.height="",ao=b.slides[0].getWidth(!0,ab.roundLengths),aq=b.slides[0].getHeight(!0,ab.roundLengths),e=l?ao:aq,au.style.width=ao+"px",au.style.height=aq+"px",d=l?ao:aq}else{if(ab.calculateHeight){for(am=0,aq=0,l||(b.container.style.height=""),au.style.height="",at=0;at<b.slides.length;at++){b.slides[at].style.height="",am=Math.max(b.slides[at].getHeight(!0),am),l||(aq+=b.slides[at].getHeight(!0))}aj=am,b.height=aj,l?aq=aj:(h=aj,b.container.style.height=h+"px")}else{aj=l?b.height:b.height/ab.slidesPerView,ab.roundLengths&&(aj=Math.ceil(aj)),aq=l?b.height:b.slides.length*aj}for(ai=l?b.width/ab.slidesPerView:b.width,ab.roundLengths&&(ai=Math.ceil(ai)),ao=l?b.slides.length*ai:b.width,d=l?ai:aj,ab.offsetSlidesBefore>0&&(l?b.wrapperLeft=d*ab.offsetSlidesBefore:b.wrapperTop=d*ab.offsetSlidesBefore),ab.offsetSlidesAfter>0&&(l?b.wrapperRight=d*ab.offsetSlidesAfter:b.wrapperBottom=d*ab.offsetSlidesAfter),ab.offsetPxBefore>0&&(l?b.wrapperLeft=ab.offsetPxBefore:b.wrapperTop=ab.offsetPxBefore),ab.offsetPxAfter>0&&(l?b.wrapperRight=ab.offsetPxAfter:b.wrapperBottom=ab.offsetPxAfter),ab.centeredSlides&&(l?(b.wrapperLeft=(h-d)/2,b.wrapperRight=(h-d)/2):(b.wrapperTop=(h-d)/2,b.wrapperBottom=(h-d)/2)),l?(b.wrapperLeft>0&&(au.style.paddingLeft=b.wrapperLeft+"px"),b.wrapperRight>0&&(au.style.paddingRight=b.wrapperRight+"px")):(b.wrapperTop>0&&(au.style.paddingTop=b.wrapperTop+"px"),b.wrapperBottom>0&&(au.style.paddingBottom=b.wrapperBottom+"px")),e=l?ao+b.wrapperRight+b.wrapperLeft:aq+b.wrapperTop+b.wrapperBottom,parseFloat(ao)>0&&(!ab.cssWidthAndHeight||"height"===ab.cssWidthAndHeight)&&(au.style.width=ao+"px"),parseFloat(aq)>0&&(!ab.cssWidthAndHeight||"width"===ab.cssWidthAndHeight)&&(au.style.height=aq+"px"),ar=0,b.snapGrid=[],b.slidesGrid=[],at=0;at<b.slides.length;at++){b.snapGrid.push(ar),b.slidesGrid.push(ar),ar+=d,parseFloat(ai)>0&&(!ab.cssWidthAndHeight||"height"===ab.cssWidthAndHeight),parseFloat(aj)>0&&(!ab.cssWidthAndHeight||"width"===ab.cssWidthAndHeight)}}}b.initialized?(b.callPlugins("onInit"),ab.onInit&&b.fireCallback(ab.onInit,b)):(b.callPlugins("onFirstInit"),ab.onFirstInit&&b.fireCallback(ab.onFirstInit,b)),b.initialized=!0}},b.reInit=function(ae){b.init(!0,ae)},b.resizeFix=function(ae){b.callPlugins("beforeResizeFix"),b.init(ab.resizeReInit||ae),ab.freeMode?b.getWrapperTranslate()<-y()&&(b.setWrapperTransition(0),b.setWrapperTranslate(-y())):(b.swipeTo(ab.loop?b.activeLoopIndex:b.activeIndex,0,!1),ab.autoplay&&(b.support.transitions&&"undefined"!=typeof W?"undefined"!=typeof W&&(clearTimeout(W),W=void 0,b.startAutoplay()):"undefined"!=typeof Z&&(clearInterval(Z),Z=void 0,b.startAutoplay()))),b.callPlugins("afterResizeFix")},b.destroy=function(ae){var af=b.h.removeEventListener,ag="wrapper"===ab.eventTarget?b.wrapper:b.container;if(b.browser.ie10||b.browser.ie11?(af(ag,b.touchEvents.touchStart,J),af(document,b.touchEvents.touchMove,K),af(document,b.touchEvents.touchEnd,L)):(b.support.touch&&(af(ag,"touchstart",J),af(ag,"touchmove",K),af(ag,"touchend",L)),ab.simulateTouch&&(af(ag,"mousedown",J),af(document,"mousemove",K),af(document,"mouseup",L))),ab.autoResize&&af(window,"resize",b.resizeFix),B(),ab.paginationClickable&&R(),ab.mousewheelControl&&b._wheelEvent&&af(b.container,b._wheelEvent,D),ab.keyboardControl&&af(document,"keydown",C),ab.autoplay&&b.stopAutoplay(),ae){b.wrapper.removeAttribute("style");for(var ah=0;ah<b.slides.length;ah++){b.slides[ah].removeAttribute("style")}}b.callPlugins("onDestroy"),window.jQuery&&window.jQuery(b.container).data("swiper")&&window.jQuery(b.container).removeData("swiper"),window.Zepto&&window.Zepto(b.container).data("swiper")&&window.Zepto(b.container).removeData("swiper"),b=null},b.disableKeyboardControl=function(){ab.keyboardControl=!1,b.h.removeEventListener(document,"keydown",C)},b.enableKeyboardControl=function(){ab.keyboardControl=!0,b.h.addEventListener(document,"keydown",C)};var t=(new Date).getTime();if(b.disableMousewheelControl=function(){return b._wheelEvent?(ab.mousewheelControl=!1,b.h.removeEventListener(b.container,b._wheelEvent,D),!0):!1},b.enableMousewheelControl=function(){return b._wheelEvent?(ab.mousewheelControl=!0,b.h.addEventListener(b.container,b._wheelEvent,D),!0):!1},ab.grabCursor){var u=b.container.style;u.cursor="move",u.cursor="grab",u.cursor="-moz-grab",u.cursor="-webkit-grab"}b.allowSlideClick=!0,b.allowLinks=!0;var v,w,x,U=!1,Y=!0;b.swipeNext=function(ae,af){"undefined"==typeof ae&&(ae=!0),!af&&ab.loop&&b.fixLoop(),!af&&ab.autoplay&&b.stopAutoplay(!0),b.callPlugins("onSwipeNext");var ag=b.getWrapperTranslate().toFixed(2),ah=ag;if("auto"===ab.slidesPerView){for(var ai=0;ai<b.snapGrid.length;ai++){if(-ag>=b.snapGrid[ai].toFixed(2)&&-ag<b.snapGrid[ai+1].toFixed(2)){ah=-b.snapGrid[ai+1];break}}}else{var aj=d*ab.slidesPerGroup;ah=-(Math.floor(Math.abs(ag)/Math.floor(aj))*aj+aj)}return ah<-y()&&(ah=-y()),ah===ag?!1:(P(ah,"next",{runCallbacks:ae}),!0)},b.swipePrev=function(ae,af){"undefined"==typeof ae&&(ae=!0),!af&&ab.loop&&b.fixLoop(),!af&&ab.autoplay&&b.stopAutoplay(!0),b.callPlugins("onSwipePrev");var ag,ah=Math.ceil(b.getWrapperTranslate());if("auto"===ab.slidesPerView){ag=0;for(var ai=1;ai<b.snapGrid.length;ai++){if(-ah===b.snapGrid[ai]){ag=-b.snapGrid[ai-1];break}if(-ah>b.snapGrid[ai]&&-ah<b.snapGrid[ai+1]){ag=-b.snapGrid[ai];break}}}else{var aj=d*ab.slidesPerGroup;ag=-(Math.ceil(-ah/aj)-1)*aj}return ag>0&&(ag=0),ag===ah?!1:(P(ag,"prev",{runCallbacks:ae}),!0)},b.swipeReset=function(ae){"undefined"==typeof ae&&(ae=!0),b.callPlugins("onSwipeReset");var af,ag=b.getWrapperTranslate(),ah=d*ab.slidesPerGroup;-y();if("auto"===ab.slidesPerView){af=0;for(var ai=0;ai<b.snapGrid.length;ai++){if(-ag===b.snapGrid[ai]){return}if(-ag>=b.snapGrid[ai]&&-ag<b.snapGrid[ai+1]){af=b.positions.diff>0?-b.snapGrid[ai+1]:-b.snapGrid[ai];break}}-ag>=b.snapGrid[b.snapGrid.length-1]&&(af=-b.snapGrid[b.snapGrid.length-1]),ag<=-y()&&(af=-y())}else{af=0>ag?Math.round(ag/ah)*ah:0,ag<=-y()&&(af=-y())}return ab.scrollContainer&&(af=0>ag?ag:0),af<-y()&&(af=-y()),ab.scrollContainer&&h>d&&(af=0),af===ag?!1:(P(af,"reset",{runCallbacks:ae}),!0)},b.swipeTo=function(ae,af,ag){ae=parseInt(ae,10),b.callPlugins("onSwipeTo",{index:ae,speed:af}),ab.loop&&(ae+=b.loopedSlides);var ah=b.getWrapperTranslate();if(!(!isFinite(ae)||ae>b.slides.length-1||0>ae)){var ai;return ai="auto"===ab.slidesPerView?-b.slidesGrid[ae]:-ae*d,ai<-y()&&(ai=-y()),ai===ah?!1:("undefined"==typeof ag&&(ag=!0),P(ai,"to",{index:ae,speed:af,runCallbacks:ag}),!0)}},b._queueStartCallbacks=!1,b._queueEndCallbacks=!1,b.updateActiveSlide=function(af){if(b.initialized&&0!==b.slides.length){b.previousIndex=b.activeIndex,"undefined"==typeof af&&(af=b.getWrapperTranslate()),af>0&&(af=0);var aj;if("auto"===ab.slidesPerView){if(b.activeIndex=b.slidesGrid.indexOf(-af),b.activeIndex<0){for(aj=0;aj<b.slidesGrid.length-1&&!(-af>b.slidesGrid[aj]&&-af<b.slidesGrid[aj+1]);aj++){}var ak=Math.abs(b.slidesGrid[aj]+af),al=Math.abs(b.slidesGrid[aj+1]+af);b.activeIndex=al>=ak?aj:aj+1}}else{b.activeIndex=Math[ab.visibilityFullFit?"ceil":"round"](-af/d)}if(b.activeIndex===b.slides.length&&(b.activeIndex=b.slides.length-1),b.activeIndex<0&&(b.activeIndex=0),b.slides[b.activeIndex]){if(b.calcVisibleSlides(af),b.support.classList){var ae;for(aj=0;aj<b.slides.length;aj++){ae=b.slides[aj],ae.classList.remove(ab.slideActiveClass),b.visibleSlides.indexOf(ae)>=0?ae.classList.add(ab.slideVisibleClass):ae.classList.remove(ab.slideVisibleClass)}b.slides[b.activeIndex].classList.add(ab.slideActiveClass)}else{var ag=new RegExp("\\s*"+ab.slideActiveClass),ah=new RegExp("\\s*"+ab.slideVisibleClass);for(aj=0;aj<b.slides.length;aj++){b.slides[aj].className=b.slides[aj].className.replace(ag,"").replace(ah,""),b.visibleSlides.indexOf(b.slides[aj])>=0&&(b.slides[aj].className+=" "+ab.slideVisibleClass)}b.slides[b.activeIndex].className+=" "+ab.slideActiveClass}if(ab.loop){var ai=b.loopedSlides;b.activeLoopIndex=b.activeIndex-ai,b.activeLoopIndex>=b.slides.length-2*ai&&(b.activeLoopIndex=b.slides.length-2*ai-b.activeLoopIndex),b.activeLoopIndex<0&&(b.activeLoopIndex=b.slides.length-2*ai+b.activeLoopIndex),b.activeLoopIndex<0&&(b.activeLoopIndex=0)}else{b.activeLoopIndex=b.activeIndex}ab.pagination&&b.updatePagination(af)}}},b.createPagination=function(ae){if(ab.paginationClickable&&b.paginationButtons&&R(),b.paginationContainer=ab.pagination.nodeType?ab.pagination:ac(ab.pagination)[0],ab.createPagination){var af="",ag=b.slides.length,ah=ag;ab.loop&&(ah-=2*b.loopedSlides);for(var ai=0;ah>ai;ai++){af+="<"+ab.paginationElement+' class="'+ab.paginationElementClass+'"></'+ab.paginationElement+">"}b.paginationContainer.innerHTML=af}b.paginationButtons=ac("."+ab.paginationElementClass,b.paginationContainer),ae||b.updatePagination(),b.callPlugins("onCreatePagination"),ab.paginationClickable&&S()},b.updatePagination=function(af){if(ab.pagination&&!(b.slides.length<1)){var ai=ac("."+ab.paginationActiveClass,b.paginationContainer);if(ai){var aj=b.paginationButtons;if(0!==aj.length){for(var al=0;al<aj.length;al++){aj[al].className=ab.paginationElementClass}var ae=ab.loop?b.loopedSlides:0;if(ab.paginationAsRange){b.visibleSlides||b.calcVisibleSlides(af);var ag,ah=[];for(ag=0;ag<b.visibleSlides.length;ag++){var ak=b.slides.indexOf(b.visibleSlides[ag])-ae;ab.loop&&0>ak&&(ak=b.slides.length-2*b.loopedSlides+ak),ab.loop&&ak>=b.slides.length-2*b.loopedSlides&&(ak=b.slides.length-2*b.loopedSlides-ak,ak=Math.abs(ak)),ah.push(ak)}for(ag=0;ag<ah.length;ag++){aj[ah[ag]]&&(aj[ah[ag]].className+=" "+ab.paginationVisibleClass)}ab.loop?void 0!==aj[b.activeLoopIndex]&&(aj[b.activeLoopIndex].className+=" "+ab.paginationActiveClass):aj[b.activeIndex]&&(aj[b.activeIndex].className+=" "+ab.paginationActiveClass)}else{ab.loop?aj[b.activeLoopIndex]&&(aj[b.activeLoopIndex].className+=" "+ab.paginationActiveClass+" "+ab.paginationVisibleClass):aj[b.activeIndex]&&(aj[b.activeIndex].className+=" "+ab.paginationActiveClass+" "+ab.paginationVisibleClass)}}}}},b.calcVisibleSlides=function(af){var ak=[],ae=0,ag=0,ah=0;l&&b.wrapperLeft>0&&(af+=b.wrapperLeft),!l&&b.wrapperTop>0&&(af+=b.wrapperTop);for(var ai=0;ai<b.slides.length;ai++){ae+=ag,ag="auto"===ab.slidesPerView?l?b.h.getWidth(b.slides[ai],!0,ab.roundLengths):b.h.getHeight(b.slides[ai],!0,ab.roundLengths):d,ah=ae+ag;var aj=!1;ab.visibilityFullFit?(ae>=-af&&-af+h>=ah&&(aj=!0),-af>=ae&&ah>=-af+h&&(aj=!0)):(ah>-af&&-af+h>=ah&&(aj=!0),ae>=-af&&-af+h>ae&&(aj=!0),-af>ae&&ah>-af+h&&(aj=!0)),aj&&ak.push(b.slides[ai])}0===ak.length&&(ak=[b.slides[b.activeIndex]]),b.visibleSlides=ak};var W,Z;b.startAutoplay=function(){if(b.support.transitions){if("undefined"!=typeof W){return !1}if(!ab.autoplay){return}b.callPlugins("onAutoplayStart"),ab.onAutoplayStart&&b.fireCallback(ab.onAutoplayStart,b),V()}else{if("undefined"!=typeof Z){return !1}if(!ab.autoplay){return}b.callPlugins("onAutoplayStart"),ab.onAutoplayStart&&b.fireCallback(ab.onAutoplayStart,b),Z=setInterval(function(){ab.loop?(b.fixLoop(),b.swipeNext(!0,!0)):b.swipeNext(!0,!0)||(ab.autoplayStopOnLast?(clearInterval(Z),Z=void 0):b.swipeTo(0))},ab.autoplay)}},b.stopAutoplay=function(ae){if(b.support.transitions){if(!W){return}W&&clearTimeout(W),W=void 0,ae&&!ab.autoplayDisableOnInteraction&&b.wrapperTransitionEnd(function(){V()}),b.callPlugins("onAutoplayStop"),ab.onAutoplayStop&&b.fireCallback(ab.onAutoplayStop,b)}else{Z&&clearInterval(Z),Z=void 0,b.callPlugins("onAutoplayStop"),ab.onAutoplayStop&&b.fireCallback(ab.onAutoplayStop,b)}},b.loopCreated=!1,b.removeLoopedSlides=function(){if(b.loopCreated){for(var ae=0;ae<b.slides.length;ae++){b.slides[ae].getData("looped")===!0&&b.wrapper.removeChild(b.slides[ae])}}},b.createLoop=function(){if(0!==b.slides.length){b.loopedSlides="auto"===ab.slidesPerView?ab.loopedSlides||1:Math.floor(ab.slidesPerView)+ab.loopAdditionalSlides,b.loopedSlides>b.slides.length&&(b.loopedSlides=b.slides.length);var am,an="",ae="",af="",ag=b.slides.length,ah=Math.floor(b.loopedSlides/ag),ai=b.loopedSlides%ag;for(am=0;ah*ag>am;am++){var aj=am;if(am>=ag){var ak=Math.floor(am/ag);aj=am-ag*ak}af+=b.slides[aj].outerHTML}for(am=0;ai>am;am++){ae+=O(ab.slideDuplicateClass,b.slides[am].outerHTML)}for(am=ag-ai;ag>am;am++){an+=O(ab.slideDuplicateClass,b.slides[am].outerHTML)}var al=an+af+c.innerHTML+af+ae;for(c.innerHTML=al,b.loopCreated=!0,b.calcSlides(),am=0;am<b.slides.length;am++){(am<b.loopedSlides||am>=b.slides.length-b.loopedSlides)&&b.slides[am].setData("looped",!0)}b.callPlugins("onCreateLoop")}},b.fixLoop=function(){var ae;b.activeIndex<b.loopedSlides?(ae=b.slides.length-3*b.loopedSlides+b.activeIndex,b.swipeTo(ae,0,!1)):("auto"===ab.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*ab.slidesPerView)&&(ae=-b.slides.length+b.activeIndex+b.loopedSlides,b.swipeTo(ae,0,!1))},b.loadSlides=function(){var ae="";b.activeLoaderIndex=0;for(var af=ab.loader.slides,ag=ab.loader.loadAllSlides?af.length:ab.slidesPerView*(1+ab.loader.surroundGroups),ah=0;ag>ah;ah++){ae+="outer"===ab.loader.slidesHTMLType?af[ah]:"<"+ab.slideElement+' class="'+ab.slideClass+'" data-swiperindex="'+ah+'">'+af[ah]+"</"+ab.slideElement+">"}b.wrapper.innerHTML=ae,b.calcSlides(!0),ab.loader.loadAllSlides||b.wrapperTransitionEnd(b.reloadSlides,!0)},b.reloadSlides=function(){var al=ab.loader.slides,am=parseInt(b.activeSlide().data("swiperindex"),10);if(!(0>am||am>al.length-1)){b.activeLoaderIndex=am;var an=Math.max(0,am-ab.slidesPerView*ab.loader.surroundGroups),ao=Math.min(am+ab.slidesPerView*(1+ab.loader.surroundGroups)-1,al.length-1);if(am>0){var ae=-d*(am-an);b.setWrapperTranslate(ae),b.setWrapperTransition(0)}var af;if("reload"===ab.loader.logic){b.wrapper.innerHTML="";var ag="";for(af=an;ao>=af;af++){ag+="outer"===ab.loader.slidesHTMLType?al[af]:"<"+ab.slideElement+' class="'+ab.slideClass+'" data-swiperindex="'+af+'">'+al[af]+"</"+ab.slideElement+">"}b.wrapper.innerHTML=ag}else{var ah=1000,ai=0;for(af=0;af<b.slides.length;af++){var aj=b.slides[af].data("swiperindex");an>aj||aj>ao?b.wrapper.removeChild(b.slides[af]):(ah=Math.min(aj,ah),ai=Math.max(aj,ai))}for(af=an;ao>=af;af++){var ak;ah>af&&(ak=document.createElement(ab.slideElement),ak.className=ab.slideClass,ak.setAttribute("data-swiperindex",af),ak.innerHTML=al[af],b.wrapper.insertBefore(ak,b.wrapper.firstChild)),af>ai&&(ak=document.createElement(ab.slideElement),ak.className=ab.slideClass,ak.setAttribute("data-swiperindex",af),ak.innerHTML=al[af],b.wrapper.appendChild(ak))}}b.reInit(!0)}},X()}};Swiper.prototype={plugins:{},wrapperTransitionEnd:function(e,f){function g(h){if(h.target===c&&(e(b),b.params.queueEndCallbacks&&(b._queueEndCallbacks=!1),!f)){for(a=0;a<d.length;a++){b.h.removeEventListener(c,d[a],g)}}}var a,b=this,c=b.wrapper,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(e){for(a=0;a<d.length;a++){b.h.addEventListener(c,d[a],g)}}},getWrapperTranslate:function(e){var f,a,b,c,d=this.wrapper;return"undefined"==typeof e&&(e="horizontal"===this.params.mode?"x":"y"),this.support.transforms&&this.params.useCSS3Transforms?(b=window.getComputedStyle(d,null),window.WebKitCSSMatrix?c=new WebKitCSSMatrix("none"===b.webkitTransform?"":b.webkitTransform):(c=b.MozTransform||b.OTransform||b.MsTransform||b.msTransform||b.transform||b.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),f=c.toString().split(",")),"x"===e&&(a=window.WebKitCSSMatrix?c.m41:parseFloat(16===f.length?f[12]:f[4])),"y"===e&&(a=window.WebKitCSSMatrix?c.m42:parseFloat(16===f.length?f[13]:f[5]))):("x"===e&&(a=parseFloat(d.style.left,10)||0),"y"===e&&(a=parseFloat(d.style.top,10)||0)),a||0},setWrapperTranslate:function(f,n,a){var o=$("#"+this.container.id).find(".swiper-wrapper").width(),e=$("#"+this.container.id).width();var b,c=this.wrapper.style,d={x:0,y:0,z:0};3===arguments.length?(d.x=f,d.y=n,d.z=a):("undefined"==typeof n&&(n="horizontal"===this.params.mode?"x":"y"),d[n]=f),this.support.transforms&&this.params.useCSS3Transforms?(b=this.support.transforms3d?"translate3d("+d.x+"px, "+d.y+"px, "+d.z+"px)":"translate("+d.x+"px, "+d.y+"px)",c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=b):(c.left=d.x+"px",c.top=d.y+"px"),this.callPlugins("onSetWrapperTransform",d),this.params.onSetWrapperTransform&&this.fireCallback(this.params.onSetWrapperTransform,this,d);if(Math.abs(f)==0){$("#"+this.container.id).parent().find(".swiper-button-prev").addClass("disabled")}else{$("#"+this.container.id).parent().find(".swiper-button-prev").removeClass("disabled")}if((o-Math.ceil(-f))<=e){$("#"+this.container.id).parent().find(".swiper-button-next").addClass("disabled")}else{$("#"+this.container.id).parent().find(".swiper-button-next").removeClass("disabled")}},setWrapperTransition:function(a){var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.msTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=a/1000+"s",this.callPlugins("onSetWrapperTransition",{duration:a}),this.params.onSetWrapperTransition&&this.fireCallback(this.params.onSetWrapperTransition,this,a)},h:{getWidth:function(d,e,a){var b=window.getComputedStyle(d,null).getPropertyValue("width"),c=parseFloat(b);return(isNaN(c)||b.indexOf("%")>0||0>c)&&(c=d.offsetWidth-parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-right"))),e&&(c+=parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-right"))),a?Math.ceil(c):c},getHeight:function(d,e,a){if(e){return d.offsetHeight}var b=window.getComputedStyle(d,null).getPropertyValue("height"),c=parseFloat(b);return(isNaN(c)||b.indexOf("%")>0||0>c)&&(c=d.offsetHeight-parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-bottom"))),e&&(c+=parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(d,null).getPropertyValue("padding-bottom"))),a?Math.ceil(c):c},getOffset:function(e){var f=e.getBoundingClientRect(),g=document.body,a=e.clientTop||g.clientTop||0,b=e.clientLeft||g.clientLeft||0,c=window.pageYOffset||e.scrollTop,d=window.pageXOffset||e.scrollLeft;return document.documentElement&&!window.pageYOffset&&(c=document.documentElement.scrollTop,d=document.documentElement.scrollLeft),{top:f.top+c-a,left:f.left+d-b}},windowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:void 0},windowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:void 0},windowScroll:function(){return"undefined"!=typeof pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:document.documentElement?{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}:void 0},addEventListener:function(c,d,a,b){"undefined"==typeof b&&(b=!1),c.addEventListener?c.addEventListener(d,a,b):c.attachEvent&&c.attachEvent("on"+d,a)},removeEventListener:function(c,d,a,b){"undefined"==typeof b&&(b=!1),c.removeEventListener?c.removeEventListener(d,a,b):c.detachEvent&&c.detachEvent("on"+d,a)}},setTransform:function(b,c){var a=b.style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=c},setTranslate:function(d,e){var a=d.style,b={x:e.x||0,y:e.y||0,z:e.z||0},c=this.support.transforms3d?"translate3d("+b.x+"px,"+b.y+"px,"+b.z+"px)":"translate("+b.x+"px,"+b.y+"px)";a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=c,this.support.transforms||(a.left=b.x+"px",a.top=b.y+"px")},setTransition:function(b,c){var a=b.style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=c+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var a=document.createElement("div").style;return"webkitPerspective" in a||"MozPerspective" in a||"OPerspective" in a||"MsPerspective" in a||"perspective" in a}(),transforms:window.Modernizr&&Modernizr.csstransforms===!0||function(){var a=document.createElement("div").style;return"transform" in a||"WebkitTransform" in a||"MozTransform" in a||"msTransform" in a||"MsTransform" in a||"OTransform" in a}(),transitions:window.Modernizr&&Modernizr.csstransitions===!0||function(){var a=document.createElement("div").style;return"transition" in a||"WebkitTransition" in a||"MozTransition" in a||"msTransition" in a||"MsTransition" in a||"OTransition" in a}(),classList:function(){var a=document.createElement("div");return"classList" in a}()},browser:{ie8:function(){var b=-1;if("Microsoft Internet Explorer"===navigator.appName){var c=navigator.userAgent,a=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/);null!==a.exec(c)&&(b=parseFloat(RegExp.$1))}return -1!==b&&9>b}(),ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled}},(window.jQuery||window.Zepto)&&!function(a){a.fn.swiper=function(b){var c;return this.each(function(d){var e=a(this),f=new Swiper(e[0],b);d||(c=f),e.data("swiper",f)}),c}}(window.jQuery||window.Zepto),"undefined"!=typeof module?module.exports=Swiper:"function"==typeof define&&define.amd&&define([],function(){return Swiper});