var isCurrentSite=!1,warningConfirmed=!1,countryRegions=[],showCountryRegions=[];function fillPhoneAcctFromForgetPwd(){if(localInfo.phoneAccountFromForgetPwd){var e=getExpressPhone(localInfo.phoneAccountFromForgetPwd),o="",r="";0<e.indexOf(" ")?(r=e.split(" ")[1],o=(o=e.split(" ")[0]).replace("+","00")):(o="0086",r=e);for(var n=localInfo.countryCodes.split(","),t=!1,s="",a=0;a<n.length;a++){var i=n[a],l=i.split("(")[0].replace("+","00");if(s=i.split("|")[0],o==l){t=!0;break}}if(!t)return;$("#input_languageCode>span.select-text").text(s),$("#countryCode").val(o),$("#username").val(r)}}function checkImgAuthCode(){var o=$("#randomCode"),r=$("#randomCodeImg");$("#randomCode_msg");if("undefined"!=typeof o[0]&&4<=o.val().length){var e={randomCode:o.val(),session_code_key:"p_reg_login_websso_session_ramdom_code_key",randomCodeDisplayType:localInfo.randomCodeDisplayType};ajaxHandler("authCodeValidate",e,function(e){if("1"==e.isSuccess)$("#authCodeRight").addClass("poptips-yes"),hideRandomCodeError(),validateInput();else switch(chgRandomCode(r[0],localInfo.webssoLoginSessionCode),o[0].value="",$("#authCodeRight").removeClass("poptips-yes"),validateInput(),e.errorCode){case"10000201":showRandomCodeError(rss_new.common_js_wrongcode);break;case"10000001":showRandomCodeError(rss_new.uc_error_10000001);break;case"10000004":showRandomCodeError(rss_new.uc_error_10000004);break;default:showRandomCodeError(rss_new.uc_error_10000002)}},function(e){},!0,"JSON")}else"undefined"!=typeof o[0]&&o.val().length}function showCaptchaError(){captchaObj.onSuccess(function(){$("#randomCodeDiv").css("margin-bottom","0")}),$("#randomCode_msg").addClass("error-tips-EMUI5"),$("#randomCodeDiv").removeClass("input-error-EMUI5").css("margin-bottom","24px"),$("#picAuthCode").removeClass("input-error-EMUI5"),$("#input-error-EMUI5").removeClass("input-error-EMUI5"),ramdonCodeImgObj.validateRandomCodeError()}function showRandomCodeError(e){$("#randomCode_msg").html(e),$("#randomCode_msg").addClass("error-tips-EMUI5"),$("#randomCodeDiv").addClass("input-error-EMUI5")}function hideRandomCodeError(){$("#randomCode_msg").html(""),$("#randomCode_msg").removeClass("error-tips-EMUI5"),$("#randomCodeDiv").removeClass("input-error-EMUI5")}function checkInputLegality(){if(-1==$("#btnSubmit").attr("class").indexOf("sel")||$("#btnSubmit").hasClass("send-ajax"))return!1;var e=!1;if($(".error-tips-EMUI5").each(function(){1<$(this).text().trim().length&&(e=!0)}),e)return!1;if(!validator($("#registerForm"),!0))return!1;if("true"==localInfo.isRegNeedInputAge&&!checkBirthday(!1))return!1;var o=$("#countryCode").val();-1<o.indexOf("+")&&(o=o.replace("+","00"));var r=$("#username");return valiMobile(r.val())?!(localInfo.currentCountrySiteID!=localInfo.currentSiteID&&!warningConfirmed)||void notCurrentSiteWarningDialog():(showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error),!1)}function submitFun(e){checkExistAuto($("#username"),function(){regPostAction(e)})}function getbirthDate(){if("false"==localInfo.isRegNeedInputAge)return"";var e=$("#birthDate").datePickEMUI5("Y").toString(),o=$("#birthDate").datePickEMUI5("M").toString(),r=$("#birthDate").datePickEMUI5("D").toString();return 1==o.length&&(o="0"+o),1==r.length&&(r="0"+r),e+o+r}function regPostAction(r){var e=$("#authCode").val().trim(),n=$("#password").val(),t=$("#username").val(),o="";o=-1<$("#countryCode").val().indexOf("+")?$("#countryCode").val().replace("+","00"):$("#countryCode").val(),t=getPhoneNumber(t,o);var s=$("#countryRegion").val(),a="",i="";1<s.split("-").length&&(a=s.split("-")[1],i=s);var l=localInfo.agreementContentsStr;localInfo.isSupportAdMarketAgr&&0==$("#adMarketChecked").is(":checked")&&(l=checkAdMarketAgreedAgrContent(l)),l=(l=l.replace(/\$countryCode/g,i)).replace(/\'/g,'"');var c,d={password:n,userAccount:t,clientID:localInfo.clientID,accountType:"2",reqClientType:localInfo.reqClientType,registerChannel:localInfo.loginChannel,authCode:e,languageCode:localInfo.lang,countryCode:a,agrVers:l,thirdLoginFlag:""!=localInfo.thirdLoginFlag&&localInfo.thirdLoginFlag,birthDate:getbirthDate(),session_code_key:localInfo.session_code_key,randomCodeDisplayType:localInfo.randomCodeDisplayType};d.operType=0,"1"==localInfo.displayCaptchaType?d.randomCode=ramdonCodeImgObj.getRandomCode():d.randomCode=$("#randomCode").val(),rss_new.msgDialogOverlayClass&&(c={overlayClass:rss_new.msgDialogOverlayClass}),$("#btnSubmit").addClass("send-ajax"),ajaxHandler("registerCloudAccount",d,function(e){if("1"==e.isSuccess){$("#btnSubmit").addClass("send-ajax"),$("#register_msg").show().html("");var o={userAccount:t,password:n,reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,authcode:e.regToken,service:htmldecode(localInfo.service),loginUrl:localInfo.loginUrl,opType:13};ajaxHandler("remoteLogin",o,function(e){"1"==e.isSuccess?($("#btnSubmit").addClass("send-ajax"),gotoUrl(e.callbackURL)):($("#btnSubmit").removeClass("send-ajax"),showErrorByCode(e.errorCode,r))},function(e){},!1,"JSON")}else showErrorByCode(e.errorCode,r)},function(){},!0,"json",c)}function showErrorByCode(e,o){"70001201"==e?showPopError(rss_new.uc_error_10000001):"70008800"==e?($("#randomCode").val(""),$("#msg_randomCode").show().html(""),showPopError(rss_new.error_risk_70008800),$("#authCodeRight").removeClass("poptips-yes"),chgRandomCode($("#randomCodeImg")[0],localInfo.webssoLoginSessionCode)):"10000704"==e?(showPopError(rss_new.common_js_wrongcode),$("#randomCode").val(""),$("#randomCode").focus(),$("#authCode").val(""),$("#authCodeRight").removeClass("poptips-yes"),chgRandomCode($("#randomCodeImg")[0],localInfo.webssoLoginSessionCode)):"70008001"==e?window.setTimeout(function(){showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.uc_error_70008001)},100):"70002070"==e?window.setTimeout(function(){showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.uc_error_70002070)},100):"10000001"==e?showPopError(rss_new.uc_error_10000001):"70001401"==e?showPopError(rss_new.uc_error_70001401):"70002002"==e?window.setTimeout(function(){showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.uc_error_70002002)},100):"70007007"==e?showPopError(rss_new.uc_error_70007007):"10000201"==e?"1"==localInfo.displayCaptchaType&&captchaObj?(showCaptchaError(),ramdonCodeImgObj.resetRandomCode()):($("#randomCode").val(""),showRandomCodeError(rss_new.common_js_wrongcode),$("#authCodeRight").removeClass("poptips-yes"),chgRandomCode($("#randomCodeImg")[0],localInfo.webssoLoginSessionCode)):"70002003"==e?showErrorNew($("#passwordParentDiv"),$("#msg_checkPassword_parent"),rss_new.uc_error_70002003_1):"70006006"==e?showPopError(rss_new.uc_error_70006606):"70007003"==e?showPopError(rss_new.uc_error_70007003):"70007004"==e?showPopError(rss_new.uc_error_70007004):"70007001"==e?showPopError(rss_new.uc_error_70007001):"70002067"==e?showPopError(rss_new.uc_error_70002067):"70002033"==e?showPopError(rss_new.uc_error_70002033):"70002018"==e?showPopError(rss_new.uc_error_70002018):"70002057"==e?window.setTimeout(function(){showErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"),rss_new.uc_error_70002057)},100):"10002073"==e?window.setTimeout(function(){showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.uc_error_10002073_1)},100):"70002058"==e?showPopError(rss_new.uc_error_70002058):"70002039"==e?window.setTimeout(function(){showErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"),rss_new.uc_error_70002039)},100):"10000004"==e?showPopError(rss_new.uc_error_10000004):"10000002"==e?showPopError(rss_new.uc_error_10000002):"10000505"==e?showPopError(rss_new.third_bind_fail):showPopError(rss_new.uc_common_should_sec_verify),o&&o.hide()}function checkExistAuto(e,o){var r=e.val();50<r.length||r.length<5?showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.login_js_accountlength):o&&o()}function sendSMS(e,o,r){var n=$("#getValiCode");if("1"==localInfo.displayCaptchaType){if(!ramdonCodeImgObj.isValidateRandomCodeSuccess())return showCaptchaError(),!1}else if(0<$("#randomCode").length&&!validator($("#randomCode"),!0))return!1;var t={10000002:rss_new.uc_error_10000001,70001201:rss_new.uc_error_10000001,10001011:rss_new.reg_input_email_authcode,70001102:rss_new.uc_error_70001102_1,70001104:rss_new.uc_error_70001104_1,"default":rss_new.resetpwd_get_authcode_error},s={userAccount:e,smsReqType:"3",reqClientType:o,accountType:2,siteID:localInfo.currentCountrySiteID,languageCode:localInfo.lang,mobilePhone:e,loginChannel:localInfo.loginChannel,operType:14,session_code_key:localInfo.session_code_key,randomCodeDisplayType:localInfo.randomCodeDisplayType};"1"==localInfo.displayCaptchaType?s.randomCode=ramdonCodeImgObj.getRandomCode():s.randomCode=$("#randomCode").val(),rss_new.msgDialogOverlayClass&&rss_new.msgDialogOverlayClass,n.attr("disabled",!0),casAjaxObj.getSMSCodeV3(s,function a(){hideErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode")),showMsgSuccess({obj:$("#msg_getPhoneRandomCode"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(s.userAccount)),leftPix:"-255px",rightPix:"-255px",bottom:"63px"}),n.attr("IntervalTime",60),n.attr("disabled",!0),n.addClass("auth_code_grey"),jsInnerTimeout($("#getValiCode"),rss_new.uc_common_resend,!0,!0)},function i(e,o){n.removeAttr("disabled",!0);var r=o.errorCode;"10000201"==r?"1"==localInfo.displayCaptchaType&&captchaObj?(showCaptchaError(),ramdonCodeImgObj.resetRandomCode()):(showRandomCodeError(e),chgRandomCodeForReset()):"70002002"==r?popIsReg():showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),e)},t)}function chkReRegister(e){var o=$("#username").val(),r=$("#countryCode").val();$("#randomCode"),$("#randomCodeImg");-1<r.indexOf("+")&&(r=r.replace("+","00"));var n={70001201:rss_new.uc_error_10000001,"default":rss_new.common_wrong_authcode},t={accountType:2,userAccount:getPhoneNumber(o,r),reqClientType:localInfo.reqClientType,authCode:e,countryCode:localInfo.currentCountryCode,lang:localInfo.lang,siteID:localInfo.currentCountrySiteID};localInfo.isReadyToSubmit=!1,localInfo.authCodeChecked=!1,casAjaxObj.chkReRegister(t,function s(e){{if(localInfo.authCodeChecked=!0,$("#authCodeRightSms").addClass("poptips-yes"),e&&1==e.reRegisterFlag&&e.siteInfoList&&0<e.siteInfoList.length)return void popIsNewFromOld(e.siteInfoList[0],e.regExtInfo);if(e&&0==e.reRegisterFlag&&e.siteInfoList&&0<e.siteInfoList.length)return popIsReg(),void $("#authCode").val("")}localInfo.isReadyToSubmit&&$("#btnSubmit").click()},function a(e,o){$("#authCode").val(""),$("#authCodeRightSms").removeClass("poptips-yes"),showErrorByCode(o.errorCode)},n)}function getCountryRegion(){var e={lang:localInfo.lang,reqClientType:localInfo.reqClientType};"true"!=localInfo.thirdLoginFlag&&"true"!=localInfo.isQuickReg||(e.thirdLoginFlag="true");ajaxHandler("getCountryRegion",e,function(e){"1"==e.isSuccess&&(countryRegions=e.countryRegions,showCountryRegions=listToDropListCountry(countryRegions))},function(){},!1,"JSON");var o;o=localInfo.currentCountrySiteID+"-"+localInfo.currentCountryCode,$("#selectCountryImg").DropListEMUI5({items:showCountryRegions,defaultValue:o,onChange:function(e,o){var r=e.split("-");localInfo.currentCountrySiteID=r[0],localInfo.currentCountryCode=r[1];r[0];r[0]==localInfo.currentSiteID||warningConfirmed||(isCurrentSite=!1);var n={lang:localInfo.lang,siteIDs:r[0]};hideErrorNew($("#phoneInputDiv-box"),$("#msg_phone")),ajaxHandler("getCountryCallingCode",n,function(e){if(e.isSuccess){changeInputCountryCode(e.countryCallingCodeList),displayCountry();var o=$("#username").val();!o||valiMobile(o)||showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error)}}),$("#selectedCountry").text(o),$("#regXCountry").text(rss_new.now_register_x_account.format(o));var t=e;$("#selectCountryCodeDiv").html(""),getAgreementContent(t.split("-")[1]),$("#countryRegion").val(t),displayAgreeTwoByCD(t.split("-")[1])}})}function displayCountry(){var r=localInfo.currentCountryCode,n=getIPCountry(),t=getdefaultCountryByCurrentSiteID(),s=t.split("-")[1],a="";if(0<countryRegions.length){var i=!1;r&&$.each(countryRegions,function(e,o){if(r.toLowerCase()==o.regionID)return $("#selectedCountry").text(o.mulitLangRegion),$("#regXCountry").text(rss_new.now_register_x_account.format(o.mulitLangRegion)),i=!0,a=o.siteID+"-"+o.regionID,replaceAgreeAge(o.ageLimit),!1}),n&&!i&&$.each(countryRegions,function(e,o){if(n.toLowerCase()==o.regionID)return $("#selectedCountry").text(o.mulitLangRegion),$("#regXCountry").text(rss_new.now_register_x_account.format(o.mulitLangRegion)),i=!0,a=localInfo.currentSiteID+"-"+o.regionID,replaceAgreeAge(o.ageLimit),!1}),s&&!i&&$.each(countryRegions,function(e,o){if(s.toLowerCase()==o.regionID)return $("#selectedCountry").text(o.mulitLangRegion),$("#regXCountry").text(rss_new.now_register_x_account.format(o.mulitLangRegion)),i=!0,a=t,replaceAgreeAge(o.ageLimit),!1})}$("#countryRegion").val(a),1<=countryRegions.length&&($("#chooseCountry").css("display",""),$("#chooseCountryShadow").css("display",""))}function changeInputCountryCode(e){var a,i=[];a=localInfo.currentCountryCode,e&&$.each(e,function(e,o){var r=o.split("(")[0],n=o.split("|")[0],t=o.split("|")[1];if(r=r.replace("+","00"),t==a&&(localInfo.default_country_code=r,localInfo.default_country_cy=t),r){var s={value:r,cy:t,label:n};i.push(s)}}),$("#countryCode").val(localInfo.default_country_code),$("#input_languageCode").DropListEMUI5({items:i,defaultValue:localInfo.default_country_code,defaultCy:localInfo.default_country_cy,onChange:function(e,o){hideErrorNew($("#phoneInputDiv-box"),$("#msg_phone"));var r=o.split("(");if(1<r.length){$("#countryCode").val(r[0]);var n=$("#username").val();if(""!=n&&!valiMobile(n))return void showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error)}}})}function notCurrentSiteWarningDialog(){var e='<div style="line-height:1.5">'+rss_new.cross_register_tip+"</div>";$("<div/>").Dialog({title:rss_new.uc_common_hint,btnLeft:!1,btnRight:{text:rss_new.uc_common_igetit,fn:function(){warningConfirmed=!0,checkInputLegality()&&(registerAgreement(submitFun),this.hide())}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function getMobileCode(e,o,r,n){var t=$("#username").val();if(""!=t)if(valiMobile(t)){var s=$("#countryCode").val();-1<s.indexOf("+")&&(s=s.replace("+","00")),$("#msg_phone").html(""),$("#msg_phoneRandomCode").html(""),$("#register_msg").html(""),checkExistAuto($("#username"),function(){sendSMS(getPhoneNumber(t,s),r,n)})}else showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error);else showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.registerbyphone_js_phoneemptyfail)}function popIsNewFromOld(e,o){e=e||{};var r=getFinalPhoneAccount($("#username"),$("#countryCode")),n={userAccount:r,userAvatar:e.avatar,userNickName:e.nickName||"",userPhoneNum:r};$("<div/>").Dialog({title:rss_new.reg_again_title,titleUnderline:!1,btnRight:{text:rss_new.reg_again_go_login,fn:function(){gotoUrl(localHttps+"/portal/login.html"+localInfo.urlQurey+"&regExtInfo="+o)}},btnLeft:{text:rss_new.reg_again_back_reg,fn:function(){}},html:'<div class="normal-color reg-user-desc">'+rss_new.reg_again_content.format(n.userAccount)+'</div><div class="marginTop8 center reg-user-info"><div class="reg-avatar '+(n.userAvatar?"avatarCircle":"")+'"><img src="'+(n.userAvatar||localInfo.defaultAvatar)+'" alt="" onerror="this.src = localInfo.defaultAvatar;this.onerror = null;"/></div><div class="marginTop8 normal-color medium">'+n.userNickName+'</div><p class="marginTop8 font-desc">'+n.userPhoneNum+"</p></div>"}).Dialog("show")}function popIsReg(){$("<div/>").Dialog({btnRight:{text:rss_new.common_login,fn:function(){gotoUrl(localHttps+"/portal/login.html"+localInfo.urlQurey)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){}},html:'<div class="center" style="margin:36px 0;">'+rss_new.reg_again_tip_1+"</div>"}).Dialog("show")}$(document).ready(function(){if(function(){var e=$("#tabPhone").width(),o=$("#tabMail").width(),r=o<e?e:o;$("#tabPhone").width(r+2+"px"),$("#tabMail").width(r+2+"px"),$(".reg-tab").css("visibility","visible"),localInfo.urlCountrySiteID==localInfo.currentSiteID&&(isCurrentSite=!0);var n=$("#username"),t=n.val();n.blur(function(){if(n.val()&&t!=n.val()){t=n.val();var e=$("#countryCode").val();-1<e.indexOf("+")&&(e=e.replace("+","00")),0<this.value.length&&valiMobile(this.value)?checkExistAuto(n):0==this.value.length?showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_emptyphone):valiMobile(this.value)||showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error)}})}(),$("#passwdEye").click(function(){"password"==document.getElementById("password").type?(document.getElementById("password").type="text",document.getElementById("confirmPwd").type="text",$(this).attr("src",XSSGuard4URL(localInfo.eyeon))):(document.getElementById("password").type="password",document.getElementById("confirmPwd").type="password",$(this).attr("src",XSSGuard4URL(localInfo.eyeoff)))}),changeInputCountryCode(localInfo.countryCodes.split(",")),getCountryRegion(),displayCountry(),"1"!=localInfo.displayCaptchaType){var e=$("#randomCode");validator.bind(e,{type:["require","length"],trim:!0,min:4,max:4,validOnChange:!1,reInputEvent:"keyup",errorClassEMUI5:"input-error-EMUI5",errorBorder:$("#randomCodeDiv"),errorFunction:function(e,o){switch(o.type){case"require":showRandomCodeError(rss_new.picture_verfication_code_null_error);break;case"length":showRandomCodeError(rss_new.login_js_codeerror)}},successFunction:function(e,o){hideRandomCodeError()},reInputFunction:function(){hideRandomCodeError(),$("#authCodeRight").removeClass("poptips-yes")}}),$("#randomCode").bind("keyup",function(e){validateInput(),checkImgAuthCode()}),0<$("#randomCode").val().length&&chgRandomCodeForReset(),validateInput()}getAgreementContent(localInfo.currentCountryCode),0<$("#birthDate").length&&showBirthDayDropBox(),initInputContent()}),$(function(){var e=jQuery("#registerForm input[name='formBean.username']"),o=jQuery("#registerForm input[name='formBean.password']"),r=jQuery("#registerForm input[name='checkPassword']"),n=jQuery("#registerForm input[name='formBean.authCode']"),t=jQuery("#registerForm input[name='formBean.randomCode']");$.label.defaults.ifRight="10px",$.label(e,rss_new.uc_common_validator_phone_require).label(o,rss_new.uc_common_input_ling_pwd).label(r,rss_new.please_enter_password_again).label(n,rss_new.forgetbyphone_inputsmscode).label(t,rss_new.picture_verfication_code_null_error);var s=$("#btnSubmit"),a=$("#countryCode").val();-1<a.indexOf("+")&&(a=a.replace("+","00")),validator.bind(e,{type:["require"],trim:!0,validOnChange:!0,msg_ct:"#msg_phone",msg:{require:rss_new.common_js_emptyphone,"default":rss_new.common_js_error},errorFunction:function(e,o){switch(o.type){case"require":showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_emptyphone);break;default:showErrorNew($("#phoneInputDiv-box"),$("#msg_phone"),rss_new.common_js_error)}},successFunction:function(){},reInputFunction:function(){hideErrorNew($("#phoneInputDiv-box"),$("#msg_phone"))}}),o.blur(function(){$("#pwd_check_dialog").html("")}),validator.bind(o,{type:["require","strLength","hasSpace","pwdComplexity","errorInput","pwdformat"],trim:!1,validOnChange:!0,min:8,max:32,msg_ct:"#msg_password",errorFunction:function(e,o){switch(o.type){case"require":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.common_js_inputpwd);break;case"strLength":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.reducePwd_format_2);break;case"hasSpace":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.reducePwd_format_1);break;case"pwdComplexity":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.reducePwd_format_3);break;case"errorInput":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.reducePwd_inputError_desc);break;case"pwdformat":showErrorNew($("#pwdDiv"),$("#msg_password"),rss_new.common_js_pwd_account_same_reverse)}},successFunction:function(){r.val()&&validator(r,!0)},reInputFunction:function(){hideErrorNew($("#pwdDiv"),$("#msg_password"))}}),validator.bind(r,{type:["require","eq"],trim:!1,validOnChange:!0,compareTo:o,msg_ct:"#msg_checkPassword",msg:{require:rss_new.reg_confirm_password,eq:rss_new.common_js_pwdnotsame},errorFunction:function(e,o){switch(o.type){case"require":showErrorNew($("#confirmpwdDiv"),$("#msg_checkPassword"),rss_new.reg_confirm_password);break;case"eq":showErrorNew($("#confirmpwdDiv"),$("#msg_checkPassword"),rss_new.common_js_pwdnotsame)}},successFunction:function(){hideErrorNew($("#confirmpwdDiv"),$("#msg_checkPassword"))},reInputFunction:function(){hideErrorNew($("#confirmpwdDiv"),$("#msg_checkPassword"))}}),validator.bind(n,{type:["require","length","int"],trim:!0,validOnChange:!0,max:6,min:6,msg_ct:"#msg_phoneRandomCode",msg:{require:rss_new.forgetbyphone_inputsmscode,"int":rss_new.common_js_wrongcode,"default":rss_new.common_js_wrongcode},errorFunction:function(e,o){switch(o.type){case"require":showErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"),rss_new.forgetbyphone_inputsmscode);break;case"int":default:showErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"),rss_new.common_js_wrongcode)}},successFunction:function(){hideErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"))},reInputFunction:function(){hideErrorNew($("#errRandomCode-box"),$("#msg_phoneRandomCode"))}}),e.on("textchange",function(){n.val("")}),e.change(function(){$("#randomCode").val()!=undefined&&""!=$("#randomCode").val().trim()&&chgRandomCodeForReset(),$("#randomCode").val(""),$("#randomCode_msg").html(""),$("#randomCode_msg").removeClass("addbtmpad-msg-top2p"),$(".dinput-UI6").removeClass("input-error-EMUI5"),$("#authCodeRight").removeClass("poptips-yes-new")}),n.on("textchange",function(){localInfo.authCodeChecked=!1,$("#authCodeRightSms").removeClass("poptips-yes")}),n.blur(function(){if(!localInfo.authCodeChecked){var e=$.trim($(this).val());e&&6===e.length&&chkReRegister(e)}}),registerPwdformatValidator($("#username")),s.bind("click",function(){localInfo.isReadyToSubmit=!0,checkInputLegality()&&localInfo.authCodeChecked&&registerAgreement(submitFun)}),o.bind("keyup",function(){onPwdKeyUp4EMUI(o[0],$("#msg_password"),$("#pwdDiv"),"error-tips-EMUI5","input-error-EMUI5",!0)}),fillPhoneAcctFromForgetPwd()}),$(function(){try{if(localInfo=window.localInfo||{},"undefined"==typeof localInfo.illnessOptype||"0"==localInfo.randomCodeDisplayType||"false"==localInfo.isUseCaptchaService&&5==localInfo.illnessOptype)return;var o=[1],r=[5,6,7,8,9];1==localInfo.illnessOptype?"1"==localInfo.displayCaptchaType?illnessOptype=1:illnessOptype=5:2==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=2:illnessOptype=6:3==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?(illnessOptype=3,"1"==localInfo.sceneId&&(illnessOptype=4)):(illnessOptype=7,"1"==localInfo.sceneId&&(illnessOptype=8)):4==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=4:illnessOptype=8:5==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=15:illnessOptype=9:6==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?(illnessOptype=10,"true"==localInfo.isFromQuery&&(illnessOptype=11)):(illnessOptype=12,"true"==localInfo.isFromQuery&&(illnessOptype=13)):7==localInfo.illnessOptype&&("2"==localInfo.randomCodeDisplayType?illnessOptype=11:illnessOptype=13);var e={checkClass:"geetest_holder",count:0,canReSend:!0,operType:illnessOptype,isGeet:!0,init:function(){var e=this;return e.count=0,~o.indexOf(e.operType)&&(e.checkClass="geetest_panel"),~r.indexOf(e.operType)&&(e.checkClass="randomCodeImg",e.isGeet=!1),e.canReSend=!0,setTimeout(function(){$("#randomCodeImg").bind("error",function(){e.sendErrorLog(2)})},0),this},checkExit:function(){var e=this;return e.count<=60?(e.count++,0<$("."+e.checkClass).length||setTimeout(function(){e.checkExit()},500)):(e.sendErrorLog(1),e.init()),this},sendErrorLog:function(o){var r=this,e={reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,operType:r.operType,message:"",illnessType:o};return ajaxHandler("analysisHealth",e,function(e){"10000033"==e.errorCode&&r.sendAgain(o)},function(e){r.sendAgain(o)},!0,"JSON"),this},sendAgain:function(e){var o=this;return o.canReSend?(setTimeout(function(){o.sendErrorLog(e)},1e3),o.canReSend=!1):o.canReSend=!0,this}};e.init(),1!=localInfo.illnessOptype&&e.checkExit(),window.checkRamdomObj=e}catch(n){}});